// Copyright Google Inc. All Rights Reserved.
(function() { 'use strict';var h,aa=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}},m=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):{next:aa(a)}},ba=function(a){if(!(a instanceof Array)){a=m(a);for(var b,c=[];!(b=a.next()).done;)c.push(b.value);a=c}return a},ca="function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b},da;
if("function"==typeof Object.setPrototypeOf)da=Object.setPrototypeOf;else{var ea;a:{var fa={Ok:!0},ha={};try{ha.__proto__=fa;ea=ha.Ok;break a}catch(a){}ea=!1}da=ea?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}
var ia=da,q=function(a,b){a.prototype=ca(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.hf=b.prototype},ja=ja||{},r=this,t=function(a){return void 0!==a},w=function(a){return"string"==typeof a},x=function(a){return"number"==typeof a},ka=function(){},la=function(a){a.Gh=void 0;a.Jd=function(){return a.Gh?a.Gh:a.Gh=new a}},ma=function(a){var b=
typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b},na=function(a){return"array"==ma(a)},oa=function(a){var b=ma(a);return"array"==b||"object"==b&&"number"==typeof a.length},pa=function(a){return"function"==ma(a)},qa=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},ra=function(a,b,c){return a.call.apply(a.bind,arguments)},sa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);
Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ta=function(a,b,c){ta=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ra:sa;return ta.apply(null,arguments)},y=Date.now||function(){return+new Date},A=function(a,b){a=a.split(".");var c=r;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&t(b)?c[d]=b:c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]=
{}},ua=function(a,b){function c(){}c.prototype=b.prototype;a.hf=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Bm=function(a,c,f){for(var d=Array(arguments.length-2),e=2;e<arguments.length;e++)d[e-2]=arguments[e];return b.prototype[c].apply(a,d)}};var cast=r.cast||{};var xa=function(){return!(!cast.__platform__||!cast.__platform__.metrics)},ya=function(a,b){xa()&&cast.__platform__.metrics.logBoolToUma(a,b)},za=function(a){xa()&&cast.__platform__.metrics.logEventToUma(a)},B=function(a,b){xa()&&cast.__platform__.metrics.logIntToUma(a,b)};var Aa=function(a){if(Error.captureStackTrace)Error.captureStackTrace(this,Aa);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))};ua(Aa,Error);Aa.prototype.name="CustomError";var Ba=function(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");Aa.call(this,c+a[d])};ua(Ba,Aa);Ba.prototype.name="AssertionError";var Ca=function(a,b){throw new Ba("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));};var Da=function(a,b,c){b=b||new Uint8Array(a.length);var d=0;for(c=c||0;d<a.length;d++)b[d+c]=a.charCodeAt(d);return b};var Ea=function(a){return!!a&&"function"===typeof a.then};var Fa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if(w(a))return w(b)&&1==b.length?a.indexOf(b,0):-1;for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ga=Array.prototype.lastIndexOf?function(a,b){return Array.prototype.lastIndexOf.call(a,b,a.length-1)}:function(a,b){var c=a.length-1;0>c&&(c=Math.max(0,a.length+c));if(w(a))return w(b)&&1==b.length?a.lastIndexOf(b,c):-1;for(;0<=c;c--)if(c in a&&a[c]===b)return c;return-1},Ha=
Array.prototype.forEach?function(a,b,c){Array.prototype.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Ia=Array.prototype.map?function(a,b){return Array.prototype.map.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=Array(c),e=w(a)?a.split(""):a,f=0;f<c;f++)f in e&&(d[f]=b.call(void 0,e[f],f,a));return d},Ja=Array.prototype.some?function(a,b){return Array.prototype.some.call(a,b,void 0)}:function(a,b){for(var c=a.length,d=w(a)?
a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a))return!0;return!1},La=function(a){a:{var b=Ka;for(var c=a.length,d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:w(a)?a.charAt(b):a[b]},Ma=function(a){if(!na(a))for(var b=a.length-1;0<=b;b--)delete a[b];a.length=0},Na=function(a,b){b=Fa(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c},Oa=function(a){return Array.prototype.concat.apply([],arguments)},Pa=function(a){var b=
a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]};var Qa=function(a,b){this.El=100;this.dl=a;this.fm=b;this.fg=0;this.Qf=null};Qa.prototype.get=function(){if(0<this.fg){this.fg--;var a=this.Qf;this.Qf=a.next;a.next=null}else a=this.dl();return a};Qa.prototype.put=function(a){this.fm(a);this.fg<this.El&&(this.fg++,a.next=this.Qf,this.Qf=a)};var Ra=function(a,b){var c=String(b).toLowerCase();a=String(a.substr(0,b.length)).toLowerCase();return 0==(c<a?-1:c==a?0:1)},Sa=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]},Ta=function(a,b){return a<b?-1:a>b?1:0};var Ua;a:{var Va=r.navigator;if(Va){var Wa=Va.userAgent;if(Wa){Ua=Wa;break a}}Ua=""}var Xa=function(a){return-1!=Ua.indexOf(a)};var Ya=function(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1},Za=function(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b},$a=function(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b},ab=function(a){var b={},c;for(c in a)b[c]=a[c];return b},bb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),cb=function(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<bb.length;f++)c=bb[f],
Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var db=function(a){r.setTimeout(function(){throw a;},0)},eb,fb=function(){var a=r.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!Xa("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow;a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host;
a=ta(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!Xa("Trident")&&!Xa("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(t(c.next)){c=c.next;var a=c.Zi;c.Zi=null;a()}};return function(a){d.next={Zi:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?
function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){r.setTimeout(a,0)}};var gb=function(){this.Sg=this.he=null},ib=new Qa(function(){return new hb},function(a){a.reset()});gb.prototype.add=function(a,b){var c=ib.get();c.set(a,b);this.Sg?this.Sg.next=c:this.he=c;this.Sg=c};gb.prototype.remove=function(){var a=null;this.he&&(a=this.he,this.he=this.he.next,this.he||(this.Sg=null),a.next=null);return a};var hb=function(){this.next=this.scope=this.Id=null};hb.prototype.set=function(a,b){this.Id=a;this.scope=b;this.next=null};
hb.prototype.reset=function(){this.next=this.scope=this.Id=null};var nb=function(a,b){jb||kb();lb||(jb(),lb=!0);mb.add(a,b)},jb,kb=function(){if(r.Promise&&r.Promise.resolve){var a=r.Promise.resolve(void 0);jb=function(){a.then(ob)}}else jb=function(){var a=ob;!pa(r.setImmediate)||r.Window&&r.Window.prototype&&!Xa("Edge")&&r.Window.prototype.setImmediate==r.setImmediate?(eb||(eb=fb()),eb(a)):r.setImmediate(a)}},lb=!1,mb=new gb,ob=function(){for(var a;a=mb.remove();){try{a.Id.call(a.scope)}catch(b){db(b)}ib.put(a)}lb=!1};var pb=function(a){pb[" "](a);return a};pb[" "]=ka;var rb=function(a,b){var c=qb;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var sb=Xa("Opera"),tb=Xa("Trident")||Xa("MSIE"),ub=Xa("Edge"),wb=Xa("Gecko")&&!(-1!=Ua.toLowerCase().indexOf("webkit")&&!Xa("Edge"))&&!(Xa("Trident")||Xa("MSIE"))&&!Xa("Edge"),xb=-1!=Ua.toLowerCase().indexOf("webkit")&&!Xa("Edge"),yb=function(){var a=r.document;return a?a.documentMode:void 0},zb;
a:{var Ab="",Bb=function(){var a=Ua;if(wb)return/rv:([^\);]+)(\)|;)/.exec(a);if(ub)return/Edge\/([\d\.]+)/.exec(a);if(tb)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(xb)return/WebKit\/(\S+)/.exec(a);if(sb)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Bb&&(Ab=Bb?Bb[1]:"");if(tb){var Cb=yb();if(null!=Cb&&Cb>parseFloat(Ab)){zb=String(Cb);break a}}zb=Ab}
var Db=zb,qb={},Eb=function(a){return rb(a,function(){for(var b=0,c=Sa(String(Db)).split("."),d=Sa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",k=d[f]||"";do{g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""];k=/(\d*)(\D*)(.*)/.exec(k)||["","","",""];if(0==g[0].length&&0==k[0].length)break;b=Ta(0==g[1].length?0:parseInt(g[1],10),0==k[1].length?0:parseInt(k[1],10))||Ta(0==g[2].length,0==k[2].length)||Ta(g[2],k[2]);g=g[3];k=k[3]}while(0==b)}return 0<=b})},Fb;var Gb=r.document;
Fb=Gb&&tb?yb()||("CSS1Compat"==Gb.compatMode?parseInt(Db,10):5):void 0;var Hb=Object.freeze||function(a){return a};var Ib=function(a,b,c){this.reset(a,b,c,void 0,void 0)};Ib.prototype.Gc=0;Ib.prototype.Gf=null;var Jb=0;Ib.prototype.reset=function(a,b,c,d,e){this.Gc="number"==typeof e?e:Jb++;this.ce=d||y();this.ad=a;this.Il=b;this.Nj=c;delete this.Gf};Ib.prototype.Ai=function(a){this.ad=a};var Kb=function(a){this.dd=a;this.se=this.hh=this.ad=this.Za=null},Lb=function(a,b){this.name=a;this.value=b};Lb.prototype.toString=function(){return this.name};
var Mb=new Lb("SEVERE",1E3),Nb=new Lb("WARNING",900),Ob=new Lb("INFO",800),Pb=new Lb("CONFIG",700),Qb=new Lb("FINE",500),Rb=[new Lb("OFF",Infinity),new Lb("SHOUT",1200),Mb,Nb,Ob,Pb,Qb,new Lb("FINER",400),new Lb("FINEST",300),new Lb("ALL",0)],Sb=null,Tb=function(a){if(!Sb){Sb={};for(var b=0,c;c=Rb[b];b++)Sb[c.value]=c,Sb[c.name]=c}if(a in Sb)return Sb[a];for(b=0;b<Rb.length;++b)if(c=Rb[b],c.value<=a)return c;return null};Kb.prototype.getName=function(){return this.dd};Kb.prototype.getParent=function(){return this.Za};
Kb.prototype.Ai=function(a){this.ad=a};var Ub=function(a){if(a.ad)return a.ad;if(a.Za)return Ub(a.Za);Ca("Root logger has no level set.");return null};Kb.prototype.log=function(a,b,c){if(a.value>=Ub(this).value)for(pa(b)&&(b=b()),a=new Ib(a,String(b),this.dd),c&&(a.Gf=c),c=this;c;){var d=c,e=a;if(d.se)for(var f=0;b=d.se[f];f++)b(e);c=c.getParent()}};Kb.prototype.info=function(a,b){this.log(Ob,a,b)};
var Vb={},Wb=null,Xb=function(){Wb||(Wb=new Kb(""),Vb[""]=Wb,Wb.Ai(Pb))},Yb=function(){Xb();return Wb},C=function(a){Xb();var b;if(!(b=Vb[a])){b=new Kb(a);var c=a.lastIndexOf("."),d=a.substr(c+1);c=C(a.substr(0,c));c.hh||(c.hh={});c.hh[d]=b;b.Za=c;Vb[a]=b}return b};var D=function(){this.ne=this.ne;this.hg=this.hg};D.prototype.ne=!1;D.prototype.K=function(){this.ne||(this.ne=!0,this.H())};D.prototype.H=function(){if(this.hg)for(;this.hg.length;)this.hg.shift()()};var Zb;(Zb=!tb)||(Zb=9<=Number(Fb));var $b=Zb,ac=tb&&!Eb("9"),bc=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",ka,b),r.removeEventListener("test",ka,b)}catch(c){}return a}();var cc=function(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.hd=!1;this.rk=!0};cc.prototype.stopPropagation=function(){this.hd=!0};cc.prototype.preventDefault=function(){this.defaultPrevented=!0;this.rk=!1};var dc=function(a,b){cc.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.key="";this.charCode=this.keyCode=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.Sc=null;a&&this.na(a,b)};ua(dc,cc);var ec=Hb({2:"touch",3:"pen",4:"mouse"});
dc.prototype.na=function(a,b){var c=this.type=a.type,d=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;this.currentTarget=b;if(b=a.relatedTarget){if(wb){a:{try{pb(b.nodeName);var e=!0;break a}catch(f){}e=!1}e||(b=null)}}else"mouseover"==c?b=a.fromElement:"mouseout"==c&&(b=a.toElement);this.relatedTarget=b;d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=
d.screenY||0):(this.offsetX=xb||void 0!==a.offsetX?a.offsetX:a.layerX,this.offsetY=xb||void 0!==a.offsetY?a.offsetY:a.layerY,this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.keyCode=a.keyCode||0;this.key=a.key||"";this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.pointerId=
a.pointerId||0;this.pointerType=w(a.pointerType)?a.pointerType:ec[a.pointerType]||"";this.state=a.state;this.Sc=a;a.defaultPrevented&&this.preventDefault()};dc.prototype.stopPropagation=function(){dc.hf.stopPropagation.call(this);this.Sc.stopPropagation?this.Sc.stopPropagation():this.Sc.cancelBubble=!0};
dc.prototype.preventDefault=function(){dc.hf.preventDefault.call(this);var a=this.Sc;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ac)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};var fc="closure_listenable_"+(1E6*Math.random()|0),gc=0;var hc=function(a,b,c,d,e){this.listener=a;this.qg=null;this.src=b;this.type=c;this.capture=!!d;this.Of=e;this.key=++gc;this.$d=this.zf=!1},ic=function(a){a.$d=!0;a.listener=null;a.qg=null;a.src=null;a.Of=null};var jc=function(a){this.src=a;this.wa={};this.nf=0};jc.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.wa[f];a||(a=this.wa[f]=[],this.nf++);var g=kc(a,b,d,e);-1<g?(b=a[g],c||(b.zf=!1)):(b=new hc(b,this.src,f,!!d,e),b.zf=c,a.push(b));return b};jc.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.wa))return!1;var e=this.wa[a];b=kc(e,b,c,d);return-1<b?(ic(e[b]),Array.prototype.splice.call(e,b,1),0==e.length&&(delete this.wa[a],this.nf--),!0):!1};
var lc=function(a,b){var c=b.type;c in a.wa&&Na(a.wa[c],b)&&(ic(b),0==a.wa[c].length&&(delete a.wa[c],a.nf--))};jc.prototype.yh=function(a,b,c,d){a=this.wa[a.toString()];var e=-1;a&&(e=kc(a,b,c,d));return-1<e?a[e]:null};jc.prototype.hasListener=function(a,b){var c=t(a),d=c?a.toString():"",e=t(b);return Ya(this.wa,function(a){for(var f=0;f<a.length;++f)if(!(c&&a[f].type!=d||e&&a[f].capture!=b))return!0;return!1})};
var kc=function(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.$d&&f.listener==b&&f.capture==!!c&&f.Of==d)return e}return-1};var mc="closure_lm_"+(1E6*Math.random()|0),nc={},oc=0,E=function(a,b,c,d,e){if(d&&d.once)pc(a,b,c,d,e);else if(na(b))for(var f=0;f<b.length;f++)E(a,b[f],c,d,e);else c=qc(c),a&&a[fc]?a.sb.add(String(b),c,!1,qa(d)?!!d.capture:!!d,e):rc(a,b,c,!1,d,e)},rc=function(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=qa(e)?!!e.capture:!!e,k=sc(a);k||(a[mc]=k=new jc(a));c=k.add(b,c,d,g,f);if(!c.qg){d=tc();c.qg=d;d.src=a;d.listener=c;if(a.addEventListener)bc||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),
d,e);else if(a.attachEvent)a.attachEvent(uc(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");oc++}},tc=function(){var a=vc,b=$b?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b},pc=function(a,b,c,d,e){if(na(b))for(var f=0;f<b.length;f++)pc(a,b[f],c,d,e);else c=qc(c),a&&a[fc]?a.sb.add(String(b),c,!0,qa(d)?!!d.capture:!!d,e):rc(a,b,c,!0,d,e)},
wc=function(a,b,c,d,e){if(na(b))for(var f=0;f<b.length;f++)wc(a,b[f],c,d,e);else d=qa(d)?!!d.capture:!!d,c=qc(c),a&&a[fc]?a.sb.remove(String(b),c,d,e):a&&(a=sc(a))&&(b=a.yh(b,c,d,e))&&xc(b)},xc=function(a){if(!x(a)&&a&&!a.$d){var b=a.src;if(b&&b[fc])lc(b.sb,a);else{var c=a.type,d=a.qg;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(uc(c),d):b.addListener&&b.removeListener&&b.removeListener(d);oc--;(c=sc(b))?(lc(c,a),0==c.nf&&(c.src=null,b[mc]=null)):ic(a)}}},
uc=function(a){return a in nc?nc[a]:nc[a]="on"+a},zc=function(a,b,c,d){var e=!0;if(a=sc(a))if(b=a.wa[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.capture==c&&!f.$d&&(f=yc(f,d),e=e&&!1!==f)}return e},yc=function(a,b){var c=a.listener,d=a.Of||a.src;a.zf&&xc(a);return c.call(d,b)},vc=function(a,b){if(a.$d)return!0;if(!$b){if(!b)a:{b=["window","event"];for(var c=r,d=0;d<b.length;d++)if(c=c[b[d]],null==c){b=null;break a}b=c}d=b;b=new dc(d,this);c=!0;if(!(0>d.keyCode||void 0!=d.returnValue)){a:{var e=
!1;if(0==d.keyCode)try{d.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==d.returnValue)d.returnValue=!0}d=[];for(e=b.currentTarget;e;e=e.parentNode)d.push(e);a=a.type;for(e=d.length-1;!b.hd&&0<=e;e--){b.currentTarget=d[e];var f=zc(d[e],a,!0,b);c=c&&f}for(e=0;!b.hd&&e<d.length;e++)b.currentTarget=d[e],f=zc(d[e],a,!1,b),c=c&&f}return c}return yc(a,new dc(b,this))},sc=function(a){a=a[mc];return a instanceof jc?a:null},Ac="__closure_events_fn_"+(1E9*Math.random()>>>0),qc=function(a){if(pa(a))return a;
a[Ac]||(a[Ac]=function(b){return a.handleEvent(b)});return a[Ac]};var Bc=function(){D.call(this);this.sb=new jc(this);this.Pk=this;this.ji=null};ua(Bc,D);Bc.prototype[fc]=!0;Bc.prototype.addEventListener=function(a,b,c,d){E(this,a,b,c,d)};Bc.prototype.removeEventListener=function(a,b,c,d){wc(this,a,b,c,d)};
Bc.prototype.dispatchEvent=function(a){var b,c=this.ji;if(c)for(b=[];c;c=c.ji)b.push(c);c=this.Pk;var d=a.type||a;if(w(a))a=new cc(a,c);else if(a instanceof cc)a.target=a.target||c;else{var e=a;a=new cc(d,c);cb(a,e)}e=!0;if(b)for(var f=b.length-1;!a.hd&&0<=f;f--){var g=a.currentTarget=b[f];e=Cc(g,d,!0,a)&&e}a.hd||(g=a.currentTarget=c,e=Cc(g,d,!0,a)&&e,a.hd||(e=Cc(g,d,!1,a)&&e));if(b)for(f=0;!a.hd&&f<b.length;f++)g=a.currentTarget=b[f],e=Cc(g,d,!1,a)&&e;return e};
Bc.prototype.H=function(){Bc.hf.H.call(this);if(this.sb){var a=this.sb,b=0,c;for(c in a.wa){for(var d=a.wa[c],e=0;e<d.length;e++)++b,ic(d[e]);delete a.wa[c];a.nf--}}this.ji=null};var Cc=function(a,b,c,d){b=a.sb.wa[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.$d&&g.capture==c){var k=g.listener,l=g.Of||g.src;g.zf&&lc(a.sb,g);e=!1!==k.call(l,d)&&e}}return e&&0!=d.rk};Bc.prototype.yh=function(a,b,c,d){return this.sb.yh(String(a),b,c,d)};
Bc.prototype.hasListener=function(a,b){return this.sb.hasListener(t(a)?String(a):void 0,b)};var Dc="StopIteration"in r?r.StopIteration:{message:"StopIteration",stack:""},Ec=function(){};Ec.prototype.next=function(){throw Dc;};Ec.prototype.Nk=function(){return this};var Fc=function(a,b){a&&a.log(Mb,b,void 0)},F=function(a,b){a&&a.log(Nb,b,void 0)},G=function(a,b){a&&a.info(b,void 0)},Gc=function(a,b){a&&a.log(Qb,b,void 0)};var Hc=function(){};Hc.prototype.Xi=null;var Jc=function(a){var b;(b=a.Xi)||(b={},Ic(a)&&(b[0]=!0,b[1]=!0),b=a.Xi=b);return b};var Kc,Lc=function(){};ua(Lc,Hc);var Mc=function(a){return(a=Ic(a))?new ActiveXObject(a):new XMLHttpRequest},Ic=function(a){if(!a.vj&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.vj=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.vj};Kc=new Lc;var Nc=function(a,b){this.gb={};this.ia=[];this.xa=this.M=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else a&&this.addAll(a)};h=Nc.prototype;h.Mb=function(){return this.M};h.Ka=function(){Oc(this);for(var a=[],b=0;b<this.ia.length;b++)a.push(this.gb[this.ia[b]]);return a};h.Ja=function(){Oc(this);return this.ia.concat()};h.mc=function(a){return Pc(this.gb,a)};
h.Lb=function(a){if(this===a)return!0;if(this.M!=a.Mb())return!1;var b=Qc;Oc(this);for(var c,d=0;c=this.ia[d];d++)if(!b(this.get(c),a.get(c)))return!1;return!0};var Qc=function(a,b){return a===b};Nc.prototype.ya=function(){return 0==this.M};Nc.prototype.clear=function(){this.gb={};this.xa=this.M=this.ia.length=0};Nc.prototype.remove=function(a){return Pc(this.gb,a)?(delete this.gb[a],this.M--,this.xa++,this.ia.length>2*this.M&&Oc(this),!0):!1};
var Oc=function(a){if(a.M!=a.ia.length){for(var b=0,c=0;b<a.ia.length;){var d=a.ia[b];Pc(a.gb,d)&&(a.ia[c++]=d);b++}a.ia.length=c}if(a.M!=a.ia.length){var e={};for(c=b=0;b<a.ia.length;)d=a.ia[b],Pc(e,d)||(a.ia[c++]=d,e[d]=1),b++;a.ia.length=c}};h=Nc.prototype;h.get=function(a,b){return Pc(this.gb,a)?this.gb[a]:b};h.set=function(a,b){Pc(this.gb,a)||(this.M++,this.ia.push(a),this.xa++);this.gb[a]=b};
h.addAll=function(a){if(a instanceof Nc)for(var b=a.Ja(),c=0;c<b.length;c++)this.set(b[c],a.get(b[c]));else for(b in a)this.set(b,a[b])};h.forEach=function(a,b){for(var c=this.Ja(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};h.clone=function(){return new Nc(this)};
h.Nk=function(a){Oc(this);var b=0,c=this.xa,d=this,e=new Ec;e.next=function(){if(c!=d.xa)throw Error("The map has changed since the iterator was created");if(b>=d.ia.length)throw Dc;var e=d.ia[b++];return a?e:d.gb[e]};return e};var Pc=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};var Rc=function(a){if(a.Ka&&"function"==typeof a.Ka)return a.Ka();if(w(a))return a.split("");if(oa(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Za(a)},Sc=function(a,b,c){if(a.forEach&&"function"==typeof a.forEach)a.forEach(b,c);else if(oa(a)||w(a))Ha(a,b,c);else{if(a.Ja&&"function"==typeof a.Ja)var d=a.Ja();else if(a.Ka&&"function"==typeof a.Ka)d=void 0;else if(oa(a)||w(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f)}else d=$a(a);e=Rc(a);f=e.length;for(var g=0;g<f;g++)b.call(c,
e[g],d&&d[g],a)}};var Vc=function(a){this.f=0;this.qk=void 0;this.zd=this.kc=this.Za=null;this.Mf=this.th=!1;if(a!=ka)try{var b=this;a.call(void 0,function(a){Tc(b,2,a)},function(a){if(!(a instanceof Uc))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(d){}Tc(b,3,a)})}catch(c){Tc(this,3,c)}},Wc=function(){this.next=this.context=this.Sd=this.Oe=this.Qc=null;this.uf=!1};Wc.prototype.reset=function(){this.context=this.Sd=this.Oe=this.Qc=null;this.uf=!1};
var Xc=new Qa(function(){return new Wc},function(a){a.reset()}),Yc=function(a,b,c){var d=Xc.get();d.Oe=a;d.Sd=b;d.context=c;return d},Zc=function(a){if(a instanceof Vc)return a;var b=new Vc(ka);Tc(b,2,a);return b},$c=function(){return new Vc(function(a,b){b("Cache is not enabled.")})},bd=function(){var a,b,c=new Vc(function(c,e){a=c;b=e});return new ad(c,a,b)};Vc.prototype.then=function(a,b,c){return cd(this,pa(a)?a:null,pa(b)?b:null,c)};Vc.prototype.$goog_Thenable=!0;
var dd=function(a,b){cd(a,null,b,void 0)};Vc.prototype.cancel=function(a){0==this.f&&nb(function(){var b=new Uc(a);ed(this,b)},this)};
var ed=function(a,b){if(0==a.f)if(a.Za){var c=a.Za;if(c.kc){for(var d=0,e=null,f=null,g=c.kc;g&&(g.uf||(d++,g.Qc==a&&(e=g),!(e&&1<d)));g=g.next)e||(f=g);e&&(0==c.f&&1==d?ed(c,b):(f?(d=f,d.next==c.zd&&(c.zd=d),d.next=d.next.next):fd(c),gd(c,e,3,b)))}a.Za=null}else Tc(a,3,b)},id=function(a,b){a.kc||2!=a.f&&3!=a.f||hd(a);a.zd?a.zd.next=b:a.kc=b;a.zd=b},cd=function(a,b,c,d){var e=Yc(null,null,null);e.Qc=new Vc(function(a,g){e.Oe=b?function(c){try{var e=b.call(d,c);a(e)}catch(n){g(n)}}:a;e.Sd=c?function(b){try{var e=
c.call(d,b);!t(e)&&b instanceof Uc?g(b):a(e)}catch(n){g(n)}}:g});e.Qc.Za=a;id(a,e);return e.Qc};Vc.prototype.vm=function(a){this.f=0;Tc(this,2,a)};Vc.prototype.wm=function(a){this.f=0;Tc(this,3,a)};
var Tc=function(a,b,c){if(0==a.f){a===c&&(b=3,c=new TypeError("Promise cannot resolve to itself"));a.f=1;a:{var d=c,e=a.vm,f=a.wm;if(d instanceof Vc){id(d,Yc(e||ka,f||null,a));var g=!0}else{if(d)try{var k=!!d.$goog_Thenable}catch(n){k=!1}else k=!1;if(k)d.then(e,f,a),g=!0;else{if(qa(d))try{var l=d.then;if(pa(l)){jd(d,l,e,f,a);g=!0;break a}}catch(n){f.call(a,n);g=!0;break a}g=!1}}}g||(a.qk=c,a.f=b,a.Za=null,hd(a),3!=b||c instanceof Uc||kd(a,c))}},jd=function(a,b,c,d,e){var f=!1,g=function(a){f||(f=
!0,c.call(e,a))},k=function(a){f||(f=!0,d.call(e,a))};try{b.call(a,g,k)}catch(l){k(l)}},hd=function(a){a.th||(a.th=!0,nb(a.ol,a))},fd=function(a){var b=null;a.kc&&(b=a.kc,a.kc=b.next,b.next=null);a.kc||(a.zd=null);return b};Vc.prototype.ol=function(){for(var a;a=fd(this);)gd(this,a,this.f,this.qk);this.th=!1};
var gd=function(a,b,c,d){if(3==c&&b.Sd&&!b.uf)for(;a&&a.Mf;a=a.Za)a.Mf=!1;if(b.Qc)b.Qc.Za=null,ld(b,c,d);else try{b.uf?b.Oe.call(b.context):ld(b,c,d)}catch(e){md.call(null,e)}Xc.put(b)},ld=function(a,b,c){2==b?a.Oe.call(a.context,c):a.Sd&&a.Sd.call(a.context,c)},kd=function(a,b){a.Mf=!0;nb(function(){a.Mf&&md.call(null,b)})},md=db,Uc=function(a){Aa.call(this,a)};ua(Uc,Aa);Uc.prototype.name="cancel";var ad=function(a,b,c){this.cm=a;this.resolve=b;this.reject=c};var nd=function(a,b,c){if(pa(a))c&&(a=ta(a,c));else if(a&&"function"==typeof a.handleEvent)a=ta(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:r.setTimeout(a,b||0)};var od=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/,pd=function(a,b){if(a){a=a.split("&");for(var c=0;c<a.length;c++){var d=a[c].indexOf("="),e=null;if(0<=d){var f=a[c].substring(0,d);e=a[c].substring(d+1)}else f=a[c];b(f,e?decodeURIComponent(e.replace(/\+/g," ")):"")}}};var H=function(a){Bc.call(this);this.headers=new Nc;this.Vg=a||null;this.hc=!1;this.Ug=this.v=null;this.Lj=this.Je="";this.Sb=0;this.Ie="";this.Uc=this.Dh=this.Sf=this.rh=!1;this.dc=0;this.ra=null;this.ff="";this.Pg=this.bm=this.ge=!1};ua(H,Bc);H.prototype.oa=C("goog.net.XhrIo");var qd=/^https?$/i,rd=["POST","PUT"],sd=function(a){a.ff="arraybuffer"};
H.prototype.send=function(a,b,c,d){if(this.v)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Je+"; newUri="+a);b=b?b.toUpperCase():"GET";this.Je=a;this.Ie="";this.Sb=0;this.Lj=b;this.rh=!1;this.hc=!0;this.v=this.nh();this.Ug=this.Vg?Jc(this.Vg):Jc(Kc);this.v.onreadystatechange=ta(this.ak,this);this.bm&&"onprogress"in this.v&&(this.v.onprogress=ta(function(a){this.$j(a,!0)},this),this.v.upload&&(this.v.upload.onprogress=ta(this.$j,this)));try{Gc(this.oa,td(this,"Opening Xhr")),
this.Dh=!0,this.v.open(b,String(a),!0),this.Dh=!1}catch(f){Gc(this.oa,td(this,"Error opening Xhr: "+f.message));ud(this,f);return}a=c||"";var e=this.headers.clone();d&&Sc(d,function(a,b){e.set(b,a)});d=La(e.Ja());c=r.FormData&&a instanceof r.FormData;!(0<=Fa(rd,b))||d||c||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");e.forEach(function(a,b){this.v.setRequestHeader(b,a)},this);this.ff&&(this.v.responseType=this.ff);"withCredentials"in this.v&&this.v.withCredentials!==this.ge&&
(this.v.withCredentials=this.ge);try{vd(this),0<this.dc&&(this.Pg=wd(this.v),Gc(this.oa,td(this,"Will abort after "+this.dc+"ms if incomplete, xhr2 "+this.Pg)),this.Pg?(this.v.timeout=this.dc,this.v.ontimeout=ta(this.Fk,this)):this.ra=nd(this.Fk,this.dc,this)),Gc(this.oa,td(this,"Sending request")),this.Sf=!0,this.v.send(a),this.Sf=!1}catch(f){Gc(this.oa,td(this,"Send error: "+f.message)),ud(this,f)}};
var wd=function(a){return tb&&Eb(9)&&x(a.timeout)&&t(a.ontimeout)},Ka=function(a){return"content-type"==a.toLowerCase()};H.prototype.nh=function(){return this.Vg?Mc(this.Vg):Mc(Kc)};H.prototype.Fk=function(){"undefined"!=typeof ja&&this.v&&(this.Ie="Timed out after "+this.dc+"ms, aborting",this.Sb=8,Gc(this.oa,td(this,this.Ie)),this.dispatchEvent("timeout"),this.abort(8))};
var ud=function(a,b){a.hc=!1;a.v&&(a.Uc=!0,a.v.abort(),a.Uc=!1);a.Ie=b;a.Sb=5;xd(a);yd(a)},xd=function(a){a.rh||(a.rh=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))};H.prototype.abort=function(a){this.v&&this.hc&&(Gc(this.oa,td(this,"Aborting")),this.hc=!1,this.Uc=!0,this.v.abort(),this.Uc=!1,this.Sb=a||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),yd(this))};H.prototype.H=function(){this.v&&(this.hc&&(this.hc=!1,this.Uc=!0,this.v.abort(),this.Uc=!1),yd(this,!0));H.hf.H.call(this)};
H.prototype.ak=function(){this.ne||(this.Dh||this.Sf||this.Uc?zd(this):this.Ql())};H.prototype.Ql=function(){zd(this)};
var zd=function(a){if(a.hc&&"undefined"!=typeof ja)if(a.Ug[1]&&4==Ad(a)&&2==Bd(a))Gc(a.oa,td(a,"Local request error detected and ignored"));else if(a.Sf&&4==Ad(a))nd(a.ak,0,a);else if(a.dispatchEvent("readystatechange"),4==Ad(a)){Gc(a.oa,td(a,"Request complete"));a.hc=!1;try{var b=Bd(a);a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break a;default:c=!1}var d;if(!(d=c)){var e;if(e=0===b){var f=String(a.Je).match(od)[1]||null;if(!f&&r.self&&r.self.location){var g=
r.self.location.protocol;f=g.substr(0,g.length-1)}e=!qd.test(f?f.toLowerCase():"")}d=e}if(d)a.dispatchEvent("complete"),a.dispatchEvent("success");else{a.Sb=6;try{var k=2<Ad(a)?a.v.statusText:""}catch(l){Gc(a.oa,"Can not get status: "+l.message),k=""}a.Ie=k+" ["+Bd(a)+"]";xd(a)}}finally{yd(a)}}};H.prototype.$j=function(a,b){this.dispatchEvent(Cd(a,"progress"));this.dispatchEvent(Cd(a,b?"downloadprogress":"uploadprogress"))};
var Cd=function(a,b){return{type:b,lengthComputable:a.lengthComputable,loaded:a.loaded,total:a.total}},yd=function(a,b){if(a.v){vd(a);var c=a.v,d=a.Ug[0]?ka:null;a.v=null;a.Ug=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){Fc(a.oa,"Problem encountered resetting onreadystatechange: "+e.message)}}},vd=function(a){a.v&&a.Pg&&(a.v.ontimeout=null);a.ra&&(r.clearTimeout(a.ra),a.ra=null)};H.prototype.Ae=function(){return!!this.v};
var Ad=function(a){return a.v?a.v.readyState:0},Bd=function(a){try{return 2<Ad(a)?a.v.status:-1}catch(b){return-1}},Dd=function(a){try{if(!a.v)return null;if("response"in a.v)return a.v.response;switch(a.ff){case "":case "text":return a.v.responseText;case "arraybuffer":if("mozResponseArrayBuffer"in a.v)return a.v.mozResponseArrayBuffer}Fc(a.oa,"Response type "+a.ff+" is not supported on this browser");return null}catch(b){return Gc(a.oa,"Can not get response: "+b.message),null}};
H.prototype.getResponseHeader=function(a){if(this.v&&4==Ad(this))return a=this.v.getResponseHeader(a),null===a?void 0:a};H.prototype.getAllResponseHeaders=function(){return this.v&&4==Ad(this)?this.v.getAllResponseHeaders()||"":""};var td=function(a,b){return b+" ["+a.Lj+" "+a.Je+" "+Bd(a)+"]"};var Ed=function(a){return Ra(a,"audio/")},Fd=function(a){return Ra(a,"video/")},Gd=function(a){a=a.toLowerCase();return!a.includes(",")&&!!a.match(/^(mp4a|[ae]c-3)/)},Hd=/dv(he|av).[s|d|p][e|t|w][n|r|h|b][a|h]?[e|t|w]?/,Id=function(a){if(!a)return 100;switch(a.code){case MediaError.MEDIA_ERR_ABORTED:return 101;case MediaError.MEDIA_ERR_NETWORK:return 103;case MediaError.MEDIA_ERR_DECODE:return 102;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return 104;default:return 100}};var I={},Jd=(I["application/ttml+xml"]=1,I["text/vtt"]=2,I["text/mp4"]=3,I["audio/mp4"]=4,I["video/mp4"]=5,I["video/mp2t"]=6,I["audio/webm"]=7,I["video/webm"]=8,I["application/x-mpegurl"]=9,I["application/vnd.apple.mpegurl"]=10,I["application/dash+xml"]=11,I["application/vnd.ms-sstr+xml"]=12,I["text/cea608"]=13,I["video/ogg"]=14,I["audio/aac"]=15,I["audio/mp3"]=16,I["audio/ogg"]=17,I["audio/wav"]=18,I["image/gif"]=19,I["image/jpg"]=20,I["image/png"]=21,I["text/mp2t"]=22,I["application/mp4"]=23,I);
function Kd(a){if(a){if(Fd(a))return"Video";if(Ed(a))return"Audio"}}function Ld(a){switch(a){case "webvtt":return 1;case "ttml":return 2;case "cea608":return 3}return 0}
function Md(a){switch(a){case "mp4a.a6":return 1;case "ec-3":return 2;case "mp4a.40.2":return 3;case "mp4a.40.5":return 4;case "mp4a.67":return 5;case "avc1.4D40":return 6;case "avc1.4D401E":return 7;case "mp4a.a5":return 8;case "ac-3":return 9;case "vorbis":return 10;case "opus":return 11;case "vp8":return 12;case "vp9":return 13}return 0==a.lastIndexOf("avc1",0)?11:0==a.lastIndexOf("mp4a.40",0)?12:0}
function Nd(a,b){switch(b){case 1:switch(a){case "clearkey":return 101;case "widevine":return 102;case "playready":return 103}break;case 2:switch(a){case "widevine":return 201;case "aes_128":return 202;case "aes_128_ckp":return 203}break;case 3:switch(a){case "playready":return 301}}return 0}var Od=function(a){a.split(",").forEach(function(a){B("Cast.MPL.Codec",Md(a))})},Pd=function(a,b){B("Cast.MPL.ProtocolProtection",Nd(a,b))};var Qd=function(a,b,c){this.type=a;this.key=b;this.data=void 0===c?null:c},Rd=C("castx.common.cache"),Sd=function(){this.ma=cast.__platform__&&cast.__platform__.cache;this.Oc=new Bc;this.Zd=0;this.Zd=this.isEnabled()?this.ma.capacity():0};Sd.prototype.isEnabled=function(){return!!this.ma};var Td=function(a){return!a.isEnabled()||512E3>a.Zd};h=Sd.prototype;h.Pf=function(a){return this.isEnabled()&&this.Zd>=a};h.contains=function(a){return this.isEnabled()?this.ma.contains(a):!1};
h.insert=function(a,b){var c=this;return new Promise(function(d,e){c.isEnabled()?c.Pf(b.byteLength)?(G(Rd,"Cache item was inserted"),c.ma.insert(a,b).then(function(){c.Oc.dispatchEvent(new Qd("INSERT",a,b));c.Zd-=b.byteLength;d()},function(d){c.Oc.dispatchEvent(new Qd("ERROR",a,b));e(d)})):(c.Oc.dispatchEvent(new Qd("OVER_CAPACITY",a,b)),F(Rd,"Insufficient cache space - "+b.byteLength),e("Insufficient cache space for "+a)):(Fc(Rd,"Cache is not enabled"),e("Cache is not enabled"))})};
h.get=function(a){var b=this;return new Promise(function(c,d){b.isEnabled()?b.ma.get(a).then(function(d){G(Rd,"Cache item was fetched");b.Oc.dispatchEvent(new Qd("FETCH",a,d));c(d)},function(c){b.Oc.dispatchEvent(new Qd("NOT_FOUND",a));d(c)}):(Fc(Rd,"Cache is not enabled"),d("Cache is not enabled"))})};h.addEventListener=function(a,b){this.Oc.addEventListener(a,b)};h.removeEventListener=function(a,b){this.Oc.removeEventListener(a,b)};var Ud=function(){this.pk=y()},Vd=null;Ud.prototype.set=function(a){this.pk=a};Ud.prototype.reset=function(){this.set(y())};Ud.prototype.get=function(){return this.pk};var Wd=function(a){this.Yl=a||"";Vd||(Vd=new Ud);this.sm=Vd};h=Wd.prototype;h.Si=!0;h.yk=!0;h.pm=!0;h.om=!0;h.zk=!1;h.qm=!1;var Xd=function(a){return 10>a?"0"+a:String(a)},Yd=function(a,b){a=(a.ce-b)/1E3;b=a.toFixed(3);var c=0;if(1>a)c=2;else for(;100>a;)c++,a*=10;for(;0<c--;)b=" "+b;return b},Zd=function(a){Wd.call(this,a)};ua(Zd,Wd);
var $d=function(a,b){var c=[];c.push(a.Yl," ");if(a.yk){var d=new Date(b.ce);c.push("[",Xd(d.getFullYear()-2E3)+Xd(d.getMonth()+1)+Xd(d.getDate())+" "+Xd(d.getHours())+":"+Xd(d.getMinutes())+":"+Xd(d.getSeconds())+"."+Xd(Math.floor(d.getMilliseconds()/10)),"] ")}a.pm&&c.push("[",Yd(b,a.sm.get()),"s] ");a.om&&c.push("[",b.Nj,"] ");a.qm&&c.push("[",b.ad.name,"] ");c.push(b.Il);a.zk&&(b=b.Gf)&&c.push("\n",b instanceof Error?b.message:b.toString());a.Si&&c.push("\n");return c.join("")};var ae=function(){this.em=ta(this.Qk,this);this.Hf=new Zd;this.Hf.yk=!1;this.Hf.zk=!1;this.yj=this.Hf.Si=!1;this.pl={}};ae.prototype.Qk=function(a){function b(a){if(a){if(a.value>=Mb.value)return"error";if(a.value>=Nb.value)return"warn";if(a.value>=Pb.value)return"log"}return"debug"}if(!this.pl[a.Nj]){var c=$d(this.Hf,a),d=be;d&&ce(d,b(a.ad),c,a.Gf)}};var de=null,be=r.console,ce=function(a,b,c,d){if(a[b])a[b](c,d||"");else a.log(c,d||"")};var ee=/^(-)?P(?:(\d+)Y)?(?:(\d+)M)?(?:(\d+)D)?(T(?:(\d+)H)?(?:(\d+)M)?(?:(\d+(?:\.\d+)?)S)?)?$/,fe=function(a,b,c,d,e,f){w(a)?(this.vd="y"==a?b:0,this.cd="m"==a?b:0,this.nc="d"==a?b:0,this.tc="h"==a?b:0,this.zc="n"==a?b:0,this.Fc="s"==a?b:0):(this.vd=a||0,this.cd=b||0,this.nc=c||0,this.tc=d||0,this.zc=e||0,this.Fc=f||0)};fe.prototype.Lb=function(a){return a.vd==this.vd&&a.cd==this.cd&&a.nc==this.nc&&a.tc==this.tc&&a.zc==this.zc&&a.Fc==this.Fc};
fe.prototype.clone=function(){return new fe(this.vd,this.cd,this.nc,this.tc,this.zc,this.Fc)};fe.prototype.add=function(a){this.vd+=a.vd;this.cd+=a.cd;this.nc+=a.nc;this.tc+=a.tc;this.zc+=a.zc;this.Fc+=a.Fc};var ge=function(a,b){this.Ij=a;this.Qg=b};ge.prototype.getKey=function(){return this.Ij};ge.prototype.clone=function(){return new ge(this.Ij,this.Qg)};var he=function(a){this.Ya=[];if(a)a:{if(a instanceof he){var b=a.Ja();a=a.Ka();if(0>=this.Mb()){for(var c=this.Ya,d=0;d<b.length;d++)c.push(new ge(b[d],a[d]));break a}}else b=$a(a),a=Za(a);for(d=0;d<b.length;d++)this.insert(b[d],a[d])}};h=he.prototype;h.insert=function(a,b){var c=this.Ya;c.push(new ge(a,b));a=c.length-1;b=this.Ya;for(c=b[a];0<a;){var d=a-1>>1;if(b[d].getKey()>c.getKey())b[a]=b[d],a=d;else break}b[a]=c};
h.remove=function(){var a=this.Ya,b=a.length,c=a[0];if(!(0>=b)){if(1==b)Ma(a);else{a[0]=a.pop();a=0;b=this.Ya;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,g=2*a+2;f=g<d&&b[g].getKey()<b[f].getKey()?g:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.Qg}};h.ni=function(){var a=this.Ya;if(0!=a.length)return a[0].Qg};h.Ka=function(){for(var a=this.Ya,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].Qg);return b};
h.Ja=function(){for(var a=this.Ya,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};h.mc=function(a){return Ja(this.Ya,function(b){return b.getKey()==a})};h.clone=function(){return new he(this)};h.Mb=function(){return this.Ya.length};h.ya=function(){return 0==this.Ya.length};h.clear=function(){Ma(this.Ya)};var ie=function(){he.call(this)};ua(ie,he);ie.prototype.enqueue=function(a,b){this.insert(a,b)};ie.prototype.Ed=function(){return this.remove()};var je=function(){this.Pa=[];this.nb=[]},ke=function(a){0==a.Pa.length&&(a.Pa=a.nb,a.Pa.reverse(),a.nb=[])};h=je.prototype;h.enqueue=function(a){this.nb.push(a)};h.Ed=function(){ke(this);return this.Pa.pop()};h.ni=function(){ke(this);var a=this.Pa;return a[a.length-1]};h.Mb=function(){return this.Pa.length+this.nb.length};h.ya=function(){return 0==this.Pa.length&&0==this.nb.length};h.clear=function(){this.Pa=[];this.nb=[]};h.contains=function(a){return 0<=Fa(this.Pa,a)||0<=Fa(this.nb,a)};
h.remove=function(a){var b=this.Pa;var c=Ga(b,a);0<=c?(Array.prototype.splice.call(b,c,1),b=!0):b=!1;return b||Na(this.nb,a)};h.Ka=function(){for(var a=[],b=this.Pa.length-1;0<=b;--b)a.push(this.Pa[b]);var c=this.nb.length;for(b=0;b<c;++b)a.push(this.nb[b]);return a};var J=function(a,b){this.Kb=this.sd=this.Wb="";this.Xd=null;this.Tc=this.xb="";this.Qa=this.Cl=!1;if(a instanceof J){this.Qa=t(b)?b:a.Qa;le(this,a.Wb);var c=a.sd;me(this);this.sd=c;c=a.Kb;me(this);this.Kb=c;ne(this,a.Xd);c=a.xb;me(this);this.xb=c;oe(this,a.jb.clone());a=a.Tc;me(this);this.Tc=a}else a&&(c=String(a).match(od))?(this.Qa=!!b,le(this,c[1]||"",!0),a=c[2]||"",me(this),this.sd=pe(a),a=c[3]||"",me(this),this.Kb=pe(a,!0),ne(this,c[4]),a=c[5]||"",me(this),this.xb=pe(a,!0),oe(this,c[6]||"",!0),
a=c[7]||"",me(this),this.Tc=pe(a)):(this.Qa=!!b,this.jb=new qe(null,this.Qa))};
J.prototype.toString=function(){var a=[],b=this.Wb;b&&a.push(re(b,se,!0),":");var c=this.Kb;if(c||"file"==b)a.push("//"),(b=this.sd)&&a.push(re(b,se,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.Xd,null!=c&&a.push(":",String(c));if(c=this.xb)this.Kb&&"/"!=c.charAt(0)&&a.push("/"),a.push(re(c,"/"==c.charAt(0)?te:ue,!0));(c=this.jb.toString())&&a.push("?",c);(c=this.Tc)&&a.push("#",re(c,ve));return a.join("")};
J.prototype.resolve=function(a){var b=this.clone(),c=!!a.Wb;c?le(b,a.Wb):c=!!a.sd;if(c){var d=a.sd;me(b);b.sd=d}else c=!!a.Kb;c?(d=a.Kb,me(b),b.Kb=d):c=null!=a.Xd;d=a.xb;if(c)ne(b,a.Xd);else if(c=!!a.xb){if("/"!=d.charAt(0))if(this.Kb&&!this.xb)d="/"+d;else{var e=b.xb.lastIndexOf("/");-1!=e&&(d=b.xb.substr(0,e+1)+d)}e=d;if(".."==e||"."==e)d="";else if(-1!=e.indexOf("./")||-1!=e.indexOf("/.")){d=0==e.lastIndexOf("/",0);e=e.split("/");for(var f=[],g=0;g<e.length;){var k=e[g++];"."==k?d&&g==e.length&&
f.push(""):".."==k?((1<f.length||1==f.length&&""!=f[0])&&f.pop(),d&&g==e.length&&f.push("")):(f.push(k),d=!0)}d=f.join("/")}else d=e}c?(me(b),b.xb=d):c=""!==a.jb.toString();c?oe(b,a.jb.clone()):c=!!a.Tc;c&&(a=a.Tc,me(b),b.Tc=a);return b};J.prototype.clone=function(){return new J(this)};
var le=function(a,b,c){me(a);a.Wb=c?pe(b,!0):b;a.Wb&&(a.Wb=a.Wb.replace(/:$/,""))},ne=function(a,b){me(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.Xd=b}else a.Xd=null},oe=function(a,b,c){me(a);b instanceof qe?(a.jb=b,a.jb.zi(a.Qa)):(c||(b=re(b,we)),a.jb=new qe(b,a.Qa))};J.prototype.getQuery=function(){return this.jb.toString()};J.prototype.removeParameter=function(a){me(this);this.jb.remove(a);return this};
var me=function(a){if(a.Cl)throw Error("Tried to modify a read-only Uri");};J.prototype.zi=function(a){this.Qa=a;this.jb&&this.jb.zi(a)};
var xe=function(a){return a instanceof J?a.clone():new J(a,void 0)},pe=function(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""},re=function(a,b,c){return w(a)?(a=encodeURI(a).replace(b,ye),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null},ye=function(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)},se=/[#\/\?@]/g,ue=/[#\?:]/g,te=/[#\?]/g,we=/[#\?@]/g,ve=/#/g,qe=function(a,b){this.M=this.$=null;this.Ia=a||null;this.Qa=!!b},ze=function(a){a.$||
(a.$=new Nc,a.M=0,a.Ia&&pd(a.Ia,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))};h=qe.prototype;h.Mb=function(){ze(this);return this.M};h.add=function(a,b){ze(this);this.Ia=null;a=Ae(this,a);var c=this.$.get(a);c||this.$.set(a,c=[]);c.push(b);this.M+=1;return this};h.remove=function(a){ze(this);a=Ae(this,a);return this.$.mc(a)?(this.Ia=null,this.M-=this.$.get(a).length,this.$.remove(a)):!1};h.clear=function(){this.$=this.Ia=null;this.M=0};h.ya=function(){ze(this);return 0==this.M};
h.mc=function(a){ze(this);a=Ae(this,a);return this.$.mc(a)};h.forEach=function(a,b){ze(this);this.$.forEach(function(c,d){Ha(c,function(c){a.call(b,c,d,this)},this)},this)};h.Ja=function(){ze(this);for(var a=this.$.Ka(),b=this.$.Ja(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};h.Ka=function(a){ze(this);var b=[];if(w(a))this.mc(a)&&(b=Oa(b,this.$.get(Ae(this,a))));else{a=this.$.Ka();for(var c=0;c<a.length;c++)b=Oa(b,a[c])}return b};
h.set=function(a,b){ze(this);this.Ia=null;a=Ae(this,a);this.mc(a)&&(this.M-=this.$.get(a).length);this.$.set(a,[b]);this.M+=1;return this};h.get=function(a,b){if(!a)return b;a=this.Ka(a);return 0<a.length?String(a[0]):b};
h.toString=function(){if(this.Ia)return this.Ia;if(!this.$)return"";for(var a=[],b=this.$.Ja(),c=0;c<b.length;c++){var d=b[c],e=encodeURIComponent(String(d));d=this.Ka(d);for(var f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f])));a.push(g)}}return this.Ia=a.join("&")};h.clone=function(){var a=new qe;a.Ia=this.Ia;this.$&&(a.$=this.$.clone(),a.M=this.M);return a};var Ae=function(a,b){b=String(b);a.Qa&&(b=b.toLowerCase());return b};
qe.prototype.zi=function(a){a&&!this.Qa&&(ze(this),this.Ia=null,this.$.forEach(function(a,c){var b=c.toLowerCase();c!=b&&(this.remove(c),this.remove(b),0<a.length&&(this.Ia=null,this.$.set(Ae(this,b),Pa(a)),this.M+=a.length))},this));this.Qa=a};qe.prototype.extend=function(a){for(var b=0;b<arguments.length;b++)Sc(arguments[b],function(a,b){this.add(b,a)},this)};var Be=null,Ce=null,Ee=function(a){var b=a.length,c=0;"="===a[b-2]?c=2:"="===a[b-1]&&(c=1);var d=new Uint8Array(Math.ceil(3*b/4)-c),e=0;De(a,function(a){d[e++]=a});return d.subarray(0,e)},De=function(a,b){function c(b){for(;d<a.length;){var c=a.charAt(d++),e=Ce[c];if(null!=e)return e;if(!/^[\s\xa0]*$/.test(c))throw Error("Unknown base64 encoding at char: "+c);}return b}Fe();for(var d=0;;){var e=c(-1),f=c(0),g=c(64),k=c(64);if(64===k&&-1===e)break;b(e<<2|f>>4);64!=g&&(b(f<<4&240|g>>2),64!=k&&b(g<<
6&192|k))}},Fe=function(){if(!Be){Be={};Ce={};for(var a=0;65>a;a++)Be[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),Ce[Be[a]]=a,62<=a&&(Ce["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a)]=a)}};var Ge=0,He=0,Ie=function(a){if(a.constructor===Uint8Array)return a;if(a.constructor===ArrayBuffer)return new Uint8Array(a);if(a.constructor===Array)return new Uint8Array(a);if(a.constructor===String)return Ee(a);Ca("Type not convertible to Uint8Array.");return new Uint8Array(0)};var Je=function(){this.G=[]};Je.prototype.length=function(){return this.G.length};Je.prototype.end=function(){var a=this.G;this.G=[];return a};var Ke=function(a,b){for(;127<b;)a.G.push(b&127|128),b>>>=7;a.G.push(b)},Le=function(a,b){if(0<=b)Ke(a,b);else{for(var c=0;9>c;c++)a.G.push(b&127|128),b>>=7;a.G.push(1)}};h=Je.prototype;h.Tg=function(a){this.G.push(a>>>0&255)};h.ud=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255)};
h.i=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};h.Pi=function(a){var b=a>>>0;a=Math.floor((a-b)/4294967296)>>>0;Ge=b;He=a;this.i(Ge);this.i(He)};h.Lk=function(a){this.G.push(a>>>0&255);this.G.push(a>>>8&255);this.G.push(a>>>16&255);this.G.push(a>>>24&255)};
h.Ni=function(a){var b=a;b=(a=0>b?1:0)?-b:b;if(0===b)0<1/b?Ge=He=0:(He=0,Ge=2147483648);else if(isNaN(b))He=0,Ge=2147483647;else if(3.4028234663852886E38<b)He=0,Ge=(a<<31|2139095040)>>>0;else if(1.1754943508222875E-38>b)b=Math.round(b/Math.pow(2,-149)),He=0,Ge=(a<<31|b)>>>0;else{var c=Math.floor(Math.log(b)/Math.LN2);b*=Math.pow(2,-c);b=Math.round(8388608*b)&8388607;He=0;Ge=(a<<31|c+127<<23|b)>>>0}this.i(Ge)};h.Li=function(a){this.G.push(a?1:0)};h.Mi=function(a){Le(this,a)};
h.Lc=function(a){this.G.push.apply(this.G,a)};h.td=function(a){for(var b=0;b<a.length;b++){var c=a.charCodeAt(b);if(128>c)this.G.push(c);else if(2048>c)this.G.push(c>>6|192),this.G.push(c&63|128);else if(65536>c)if(55296<=c&&56319>=c&&b+1<a.length){var d=a.charCodeAt(b+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.G.push(c>>18|240),this.G.push(c>>12&63|128),this.G.push(c>>6&63|128),this.G.push(c&63|128),b++)}else this.G.push(c>>12|224),this.G.push(c>>6&63|128),this.G.push(c&63|128)}};var Me=function(){this.xd=[];this.Fb=0;this.ba=new Je},Ne=function(a,b){Ke(a.ba,8*b+2);b=a.ba.end();a.xd.push(b);a.Fb+=b.length;b.push(a.Fb);return b},Oe=function(a,b){var c=b.pop();for(c=a.Fb+a.ba.length()-c;127<c;)b.push(c&127|128),c>>>=7,a.Fb++;b.push(c);a.Fb++};Me.prototype.reset=function(){this.xd=[];this.ba.end();this.Fb=0};var Pe=function(a){for(var b=new Uint8Array(a.Fb+a.ba.length()),c=a.xd,d=c.length,e=0,f=0;f<d;f++){var g=c[f];b.set(g,e);e+=g.length}c=a.ba.end();b.set(c,e);a.xd=[b];return b};
h=Me.prototype;h.Lk=function(a,b){null!=b&&null!=b&&(Ke(this.ba,8*a),Le(this.ba,b))};h.i=function(a,b){null!=b&&null!=b&&(Ke(this.ba,8*a),Ke(this.ba,b))};h.Pi=function(){};h.Ni=function(a,b){null!=b&&(Ke(this.ba,8*a+5),this.ba.Ni(b))};h.Li=function(a,b){null!=b&&(Ke(this.ba,8*a),this.ba.Li(b))};h.Mi=function(a,b){null!=b&&(Ke(this.ba,8*a),Le(this.ba,b))};h.td=function(a,b){null!=b&&(a=Ne(this,a),this.ba.td(b),Oe(this,a))};
h.Lc=function(a,b){null!=b&&(b=Ie(b),Ke(this.ba,8*a+2),Ke(this.ba,b.length),a=this.ba.end(),this.xd.push(a),this.xd.push(b),this.Fb+=a.length+b.length)};var Qe=function(a,b,c){if(null!=c)for(var d=0;d<c.length;d++)a.Lc(b,c[d])},Re=function(a,b,c,d){if(null!=c)for(var e=0;e<c.length;e++){var f=Ne(a,b);d(c[e],a);Oe(a,f)}};var Se=function(){},Te="function"==typeof Uint8Array,Xe=function(a,b,c,d,e){a.ha=null;b||(b=c?[c]:[]);a.Gm=c?String(c):void 0;a.wd=0===c?-1:0;a.Ga=b;a:{if(b=a.Ga.length)if(--b,c=a.Ga[b],!(null===c||"object"!=typeof c||na(c)||Te&&c instanceof Uint8Array)){a.Wd=b-a.wd;a.Ca=c;break a}a.Wd=Number.MAX_VALUE}a.Cm={};if(d)for(b=0;b<d.length;b++)c=d[b],c<a.Wd?(c+=a.wd,a.Ga[c]=a.Ga[c]||Ue):(Ve(a),a.Ca[c]=a.Ca[c]||Ue);if(e&&e.length)for(b=0;b<e.length;b++)We(a,e[b])},Ue=Object.freeze?Object.freeze([]):[],Ve=
function(a){var b=a.Wd+a.wd;a.Ga[b]||(a.Ca=a.Ga[b]={})},K=function(a,b){if(b<a.Wd){b+=a.wd;var c=a.Ga[b];return c===Ue?a.Ga[b]=[]:c}if(a.Ca)return c=a.Ca[b],c===Ue?a.Ca[b]=[]:c},Ye=function(a,b){if(b<a.Wd){b+=a.wd;var c=a.Ga[b];return c===Ue?a.Ga[b]=[]:c}c=a.Ca[b];return c===Ue?a.Ca[b]=[]:c},Ze=function(a){if(null==a||a instanceof Uint8Array)return a;if(w(a))return Ee(a);Ca("Cannot coerce to Uint8Array: "+ma(a));return null},af=function(a){$e(a);return!a.length||a[0]instanceof Uint8Array?a:Ia(a,Ze)},
$e=function(a){if(a&&1<a.length){var b=ma(a[0]);Ha(a,function(a){ma(a)!=b&&Ca("Inconsistent type in JSPB repeated field array. Got "+ma(a)+" expected "+b)})}},bf=function(a,b,c){b<a.Wd?a.Ga[b+a.wd]=c:(Ve(a),a.Ca[b]=c)},df=function(a,b,c){var d=We(a,cf[0]);d&&d!==b&&void 0!==c&&(a.ha&&d in a.ha&&(a.ha[d]=void 0),bf(a,d,void 0));bf(a,b,c)},We=function(a,b){for(var c,d,e=0;e<b.length;e++){var f=b[e],g=K(a,f);null!=g&&(c=f,d=g,bf(a,f,void 0))}return c?(bf(a,c,d),c):0},ef=function(a,b,c){a.ha||(a.ha={});
if(!a.ha[c]){for(var d=Ye(a,c),e=[],f=0;f<d.length;f++)e[f]=new b(d[f]);a.ha[c]=e}b=a.ha[c];b==Ue&&(b=a.ha[c]=[]);return b},ff=function(a){if(a.ha)for(var b in a.ha){var c=a.ha[b];if(na(c))for(var d=0;d<c.length;d++)c[d]&&c[d].qd();else c&&c.qd()}};Se.prototype.qd=function(){ff(this);return this.Ga};Se.prototype.toString=function(){ff(this);return this.Ga.toString()};
Se.prototype.getExtension=function(a){if(this.Ca){this.ha||(this.ha={});var b=a.Dm;if(a.Em){if(a.Bl())return this.ha[b]||(this.ha[b]=Ia(this.Ca[b]||[],function(b){return new a.el(b)})),this.ha[b]}else if(a.Bl())return!this.ha[b]&&this.Ca[b]&&(this.ha[b]=new a.el(this.Ca[b])),this.ha[b];return this.Ca[b]}};Se.prototype.clone=function(){return new this.constructor(gf(this.qd()))};
var gf=function(a){if(na(a)){for(var b=Array(a.length),c=0;c<a.length;c++){var d=a[c];null!=d&&(b[c]="object"==typeof d?gf(d):d)}return b}if(Te&&a instanceof Uint8Array)return new Uint8Array(a);b={};for(c in a)d=a[c],null!=d&&(b[c]="object"==typeof d?gf(d):d);return b};var jf=function(a){Xe(this,a,0,hf,null)};ua(jf,Se);var kf=function(a){Xe(this,a,0,null,null)};ua(kf,Se);var hf=[2,13,14];
jf.prototype.xg=function(){var a=new Me;var b=af(Ye(this,2));0<b.length&&Qe(a,2,b);b=K(this,4);null!=b&&a.Lc(4,b);b=K(this,7);null!=b&&a.i(7,b);b=K(this,9);null!=b&&a.i(9,b);b=K(this,10);null!=b&&a.i(10,b);b=K(this,11);null!=b&&a.Mi(11,b);b=K(this,12);null!=b&&a.i(12,b);b=af(Ye(this,13));0<b.length&&Qe(a,13,b);b=ef(this,kf,14);0<b.length&&Re(a,14,b,lf);b=K(this,1);null!=b&&a.Mi(1,b);b=K(this,3);null!=b&&a.td(3,b);b=K(this,5);null!=b&&a.td(5,b);b=K(this,6);null!=b&&a.td(6,b);b=K(this,8);null!=b&&a.Lc(8,
b);return Pe(a)};kf.prototype.xg=function(){var a=new Me;lf(this,a);return Pe(a)};var lf=function(a,b){var c=K(a,1);null!=c&&b.Lc(1,c);c=K(a,2);null!=c&&b.Lc(2,c);c=K(a,3);null!=c&&b.Lc(3,c);c=K(a,4);null!=c&&b.Lc(4,c);c=K(a,5);null!=c&&b.i(5,c)};kf.prototype.getKey=function(){return K(this,3)};var nf=function(a){Xe(this,a,"scs.sc",mf,null)};ua(nf,Se);var of=function(a){Xe(this,a,0,null,cf)};ua(of,Se);var mf=[1,2];nf.prototype.xg=function(){var a=new Me;var b=Ye(this,1);if(0<b.length&&null!=b)for(var c=0;c<b.length;c++){var d=a,e=b[c];null!=e&&(Ke(d.ba,8),Le(d.ba,e))}b=ef(this,of,2);0<b.length&&Re(a,2,b,pf);return Pe(a)};nf.Fm="scs.sc";var cf=[[2,3,4,5]];of.prototype.xg=function(){var a=new Me;pf(this,a);return Pe(a)};
var pf=function(a,b){var c=K(a,1);null!=c&&b.td(1,c);c=K(a,2);null!=c&&b.td(2,c);c=K(a,3);null!=c&&b.Lk(3,c);c=K(a,4);null!=c&&b.Ni(4,c);c=K(a,5);null!=c&&b.Li(5,c)};h=of.prototype;h.getName=function(){return K(this,1)};h.getStringValue=function(){return K(this,2)};h.setStringValue=function(a){df(this,2,a)};h.getFloatValue=function(){var a=K(this,4);return null==a?a:+a};h.setFloatValue=function(a){df(this,4,a)};A("cast.player.api.VERSION","1.0.0");A("cast.player.api.ErrorCode",{UNKNOWN:0,PLAYBACK:1,MEDIAKEYS:2,NETWORK:3,MANIFEST:4});var qf=["cast.player.api.ErrorCode.UNKNOWN","cast.player.api.ErrorCode.PLAYBACK","cast.player.api.ErrorCode.MEDIAKEYS","cast.player.api.ErrorCode.NETWORK","cast.player.api.ErrorCode.MANIFEST"];A("cast.player.api.HlsSegmentFormat",{MPEG2_TS:0,MPEG_AUDIO_ES:1,PACKED_AUDIO_AC3:2,Am:3,MPEG_LAYER_3:4,TS_AAC:5,PACKED_AUDIO_E_AC3:6,FMP4:7});
A("cast.player.api.HlsVideoSegmentFormat",{MPEG2_TS:0,FMP4:1});A("cast.player.api.CaptionsType",{UNKNOWN:"unknown",WEBVTT:"webvtt",TTML:"ttml",CEA608:"cea608",STPP:"stpp"});A("cast.player.api.ContentProtection",{NONE:"none",CLEARKEY:"clearkey",PLAYREADY:"playready",WIDEVINE:"widevine",AES_128:"aes_128",AES_128_CKP:"aes_128_ckp"});A("cast.player.api.LoggerLevel",{DEBUG:0,INFO:800,WARNING:900,ERROR:1E3,NONE:Infinity});A("cast.player.api.StreamingProtocolType",{UNKNOWN:0,MPEG_DASH:1,HLS:2,SMOOTH_STREAMING:3});
var rf=function(){this.timeoutInterval=3E4;this.headers=this.url=null;this.withCredentials=!1;this.protectionSystem=this.content=null;this.skipRequest=!1;this.setResponse=null;this.interval={time:0,duration:0};this.Ec=null};A("cast.player.api.RequestInfo",rf);var sf=function(a,b,c,d,e){this.url=a;this.errorCode=b;this.status=c;this.responseHeaders=d;this.response=e};A("cast.player.api.RequestStatus",sf);
var tf=function(a,b,c,d,e,f){this.codecs=a;this.mimeType=b;this.bitrates=c;this.language=d;this.name=e;this.role=f};A("cast.player.api.StreamInfo",tf);window.VTTCue=window.VTTCue||window.TextTrackCue;var uf=function(a){Yb().Ai(Tb(a))};A("cast.player.api.setLoggerLevel",uf);de||(de=new ae);if(de){var vf=de;if(1!=vf.yj){var wf=Yb(),xf=vf.em;wf.se||(wf.se=[]);wf.se.push(xf);vf.yj=!0}};var yf=function(a){this.url=a;this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateManifestRequestInfo=null};A("cast.player.api.HostBase",yf);var zf={clearkey:"org.w3.clearkey",playready:"com.chromecast.playready",widevine:"com.widevine.alpha"},Af=C("cast.player.common"),Bf=function(a,b,c){return"caption"==a||Ra(b,"text/")||"application/ttml+xml"===b||"application/mp4"==b&&"stpp"==c},Df=function(a,b){b&&(b=new Uint8Array(new ArrayBuffer(16)),b.set(a),Cf(b.subarray(0,4)),Cf(b.subarray(4,6)),Cf(b.subarray(6,8)),a=b);this.qf=a};Df.prototype.Lb=function(a){if(!a)return!1;var b=this.qf;a=a.qf;for(var c=0;16>c;c++)if(b[c]!=a[c])return!1;return!0};
Df.prototype.qd=function(){return this.qf};Df.prototype.toString=function(){for(var a="",b=0;b<this.qf.length;b++)a+=("0"+this.qf[b].toString(16)).slice(-2);return a};
var Cf=function(a){for(var b=0,c=a.length-1;b<c;b++,c--){var d=a[b];a[b]=a[c];a[c]=d}},Ef=new Df([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),Ff=new Df([237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237]),Gf=new Df([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]),Hf=function(a,b){return MediaSource.isTypeSupported(a+'; codecs="'+b+'"')},If=function(a){return"mp4a.a6"==a||"ec-3"==a},Jf=function(a,b,c){for(a=a.toString(b);a.length<c;)a="0"+a;return a},Kf=function(a){for(var b=
a.length/2,c=new Uint8Array(b),d=0;d<b;d++)c[d]=parseInt(a.substr(2*d,2),16);return c},Lf=function(a){if(cast.__platform__&&cast.__platform__.queryPlatformValue)return cast.__platform__.queryPlatformValue(a)},Mf=function(a){switch(a){case 2:return"mp4a.a5";case 6:return"mp4a.a6";case 4:return"";default:return"mp4a.40.2"}},Nf=function(a){a=a.split(",");for(var b=0;b<a.length;b++){var c=a[b].match(Hd);if(c&&!Hf("video/mp4",c[0])){G(Af,c[0]+" removed");a.splice(b,1);break}if(c=a[b]){var d=c.split(".");
2!=d.length||"avc1"!=d[0]&&"avc3"!=d[0]||(c=d[0]+"."+d[1].toUpperCase())}a[b]=c}return a.join(",")},Of=cast.__platform__&&cast.__platform__.display,Pf=cast.__platform__&&cast.__platform__.canDisplayType,Qf=Lf("log-level-mpl");uf(t(Qf)?parseInt(Qf,10):0);var Rf={"Cast.MPL.SegmentStats.Size":{min:0,max:1E6,Qj:100},"Cast.MPL.SegmentStats.Time":{min:0,max:2E4,Qj:20}},Sf=function(a,b){Rf[a]?xa()&&cast.__platform__.metrics.logHistogramValueToUma(a,b,Rf[a].min,Rf[a].max,Rf[a].Qj):F(Af,"Invalid histogram name")};var Tf=function(a){yf.call(this,a.url);this.initialBandwidth=3145728;this.autoResumeDuration=10;this.autoResumeNumberOfSegments=3;this.autoPauseDuration=1;this.segmentRequestRetryLimit=3;this.useSingleKeySession=!1;this.mediaElement=a.mediaElement||null;this.url=a.url;this.licenseUrl=a.licenseUrl||null;this.decodeContentId=!0===a.decodeContentId;this.protectionSystem=a.protectionSystem||null;this.licenseCustomData=a.licenseCustomData||null;this.Ri=1==a.aggressiveStallHandling;this.jj=1==a.disableSourceBufferTimeAdjust;
this.Ch=1==a.hlsContentKeyProtection;this.enableSmoothLiveRefresh=1==a.enableSmoothLiveRefresh;this.skipSegmentOnNetworkFailure=1==a.skipSegmentOnNetworkFailure;this.preferSequenceNumberForPlaylistMatching=1==a.preferSequenceNumberForPlaylistMatching;this.ignoreTtmlPositionInfo=1==a.ignoreTtmlPositionInfo;this.useRelativeCueTimestamps=1==a.useRelativeCueTimestamps;this.onQualityLevelChanged=this.onCue=this.onAutoPause=this.onMediaDownloadEnded=this.onManifestReady=this.processLicense=this.processSegment=
this.processManifest=this.processMetadata=this.prepareLicenseRequest=this.getQualityLevel=this.trackBandwidth=this.updateCaptionsRequestInfo=this.updateSegmentRequestInfo=this.updateLicenseRequestInfo=this.updateManifestRequestInfo=this.onError=null};q(Tf,yf);
Tf.prototype.R=function(a,b,c,d){var e=a;if(b){e=b.errorCode;if(6==b.errorCode&&0<=b.status)var f=b.status;var g=a;null!=e&&(g=10*g+e%10,null!=f&&(g=1E3*g+f%1E3));e=g}B("Cast.MPL.Error",e);a=Math.floor(a/100);Fc(d||Uf,"error: "+qf[a]+"/"+e+(c?" ("+c+")":""));if(this.onError)this.onError(a,b)};Tf.prototype.kk=function(a){return this.processManifest?this.processManifest(a):a};A("cast.player.api.Host",Tf);var Uf=C("cast.player.api.Host");var Vf=function(){var a=this;this.ma=new Sd;this.df=new Nc;this.bi=function(){};this.ai=function(){};this.ma.addEventListener("INSERT",function(b){a.bi&&a.bi(b.key)});this.ma.addEventListener("FETCH",function(b){a.ai&&a.ai(b.key)})};Vf.prototype.isEnabled=function(){return this.ma.isEnabled()};
var Xf=function(a,b,c){if(a.isEnabled()){for(var d=new ArrayBuffer(2*c.length),e=new Uint16Array(d),f=0;f<c.length;f++)e[f]=c.charCodeAt(f);a=Wf(a,b,d)}else a=$c();return a},Wf=function(a,b,c){if(!a.isEnabled())return $c();b=Yf(b);G(Zf,"Store data into cache with key: "+b);return Zc(a.ma.insert(b,c))},Yf=function(a){var b=a.url;a.headers&&a.headers.Range&&(b+="\b"+a.headers.Range);return b};Vf.prototype.Pf=function(a){return this.ma.Pf(a)};
var $f=function(a,b){return a.isEnabled()?Zc(a.ma.get(Yf(b))):$c()};Vf.prototype.reset=function(){var a=this.ma;a.Zd=a.isEnabled()?a.ma.capacity():0};la(Vf);var Zf=C("cast.player.cache.Store");var ag=function(a){this.buffer=a;this.ph=new DataView(a.buffer,a.byteOffset);this.offset=0},bg=function(a){return a.buffer[a.offset++]},cg=function(a){var b=a.ph.getUint16(a.offset);a.offset+=2;return b},L=function(a){var b=a.ph.getUint32(a.offset);a.offset+=4;return b},dg=function(a){var b=a.ph.getInt32(a.offset);a.offset+=4;return b},eg=function(a){var b=L(a);a=L(a);return 4294967296*b+a},fg=function(a,b){var c=a.buffer.subarray(a.offset,a.offset+b);a.offset+=b;return c},gg=function(a){return a.buffer.subarray(a.offset)},
M=function(a,b){a.offset+=b};var hg=function(){};hg.prototype.ki=function(a,b){a=new Uint8Array(a);239==a[0]&&187==a[1]&&191==a[2]&&(a=a.subarray(3));a=escape(String.fromCharCode.apply(null,a));try{var c=decodeURIComponent(a)}catch(d){throw Error("Decoding Error.");}return this.parse(c,b)};var ig=function(a){this.If=30;this.yl=a};q(ig,hg);
var jg=function(a,b){a=m(a);for(var c=a.next();!c.done;c=a.next())if(c=c.value,c.localName==b)return c;return null},mg=function(a,b){var c=b.split(":");if(1==c.length){var d=0;if(c=c[0].match(kg))switch(b=parseFloat(c[1]),c[2]){case "h":d=3600*b;break;case "m":d=60*b;break;case "s":d=b;break;case "ms":d=b/1E3;break;case "f":d=b/a.If}else F(lg,"unsupported time expression: "+b);return d}d=3600*parseInt(c[0],10)+60*parseInt(c[1],10)+parseFloat(c[2]);4==c.length&&(d+=parseInt(c[3],10)/a.If);return d},
ng=function(a){var b="";a=m(a.childNodes);for(var c=a.next();!c.done;c=a.next())c=c.value,c.nodeType==Node.TEXT_NODE?(c=c.textContent.trim())&&(b+=c):"span"==c.localName?(b+=ng(c),(c=c.attributes.getNamedItem("tts:fontStyle"))&&"italic"==c.value&&(b="<i>"+b+"</i>")):"br"==c.localName&&(b+="\n");return b};
ig.prototype.parse=function(a,b){var c=[],d=(new DOMParser).parseFromString(a,"text/xml"),e=jg(d.childNodes,"tt");if(!e)return F(lg,"missing tt"),c;var f=d=null,g=jg(e.childNodes,"head");if(g){if(f=jg(g.childNodes,"styling")){d=null;f=m(f.childNodes);for(var k=f.next();!k.done;k=f.next())if(k=k.value,"style"===k.nodeName&&(k=og(k)))d=d||new Map,d.set(k.id,k.origin)}else d=null;f=d;if(k=jg(g.childNodes,"layout")){g=null;k=m(k.childNodes);for(var l=k.next();!l.done;l=k.next()){var n=l.value;if("region"==
n.nodeName&&(l=n.attributes.getNamedItem("xml:id"))){var p=f,u=null,v=og(n);v?u=v.origin:p&&(v=n.attributes.getNamedItem("style"))&&(u=p.get(v.value));if(p=u)g=g||new Map,n=n.attributes.getNamedItem("tts:textAlign"),g.set(l.value,{align:n&&n.value||"left",origin:p})}}f=g}else f=null}g=jg(e.childNodes,"body");if(!g)return F(lg,"missing body"),c;(k=e.attributes.getNamedItem("ttp:frameRate"))?this.If=parseInt(k.value,10):(F(lg,"defaulting frameRate to30"),this.If=30);k=jg(g.childNodes,"div");if(!k)return F(lg,
"missing div"),c;g={};if(e=jg(e.childNodes,"head"))if(e=jg(e.childNodes,"metadata"))for(e=m(e.childNodes),l=e.next();!l.done;l=e.next())l=l.value,"image"==l.localName&&(g["#"+l.attributes.getNamedItem("xml:id").value]=ng(l));e=null;k.attributes&&d&&(l=k.attributes.getNamedItem("style"))&&(e=d.get(l.value));k=m(k.childNodes);for(l=k.next();!l.done;l=k.next()){var z=l.value;if("p"==z.localName&&z.attributes){var va=v=null;p=n=u=l=null;var vb=ng(z);z=m(z.attributes);for(var wa=z.next();!wa.done;wa=z.next())switch(wa=
wa.value,wa.localName){case "begin":v=mg(this,wa.value)+b;break;case "end":va=mg(this,wa.value)+b;break;case "backgroundImage":g[wa.value]&&(l=g[wa.value]);break;case "origin":u=pg(wa.value);break;case "region":n=wa.value;break;case "style":p=wa.value}!vb&&!l||null===v||null===va?F(lg,"skipped cue begin="+v+", end="+va+", text="+a):(v=new VTTCue(v,va,vb),this.yl||(va=d,vb=e,z=null,n&&f&&(z=f.get(n))&&z.align&&(v.align=z.align),!u&&p&&va&&(u=va.get(p)),u||(u=z&&z.origin||vb),u&&(v.line=u.y,v.position=
u.x,v.snapToLines=!1,"left"!=v.align&&"right"!=v.align&&(v.align="left"))),c.push({Gg:v,wj:l}))}}return c};
var pg=function(a){if("auto"===a)return null;a=a.split(" ");return 2!==a.length?(F(lg,"Two numbers are expected in tts:origin"),null):a.find(function(a){return!a.includes("%")})?(F(lg,"Only percentage value is supported in tts:origin"),null):{x:parseInt(a[0],10),y:parseInt(a[1],10)}},og=function(a){var b=a.attributes;if(!b)return null;var c=b.getNamedItem("xml:id");if(!c)return null;b=b.getNamedItem("tts:origin");if(!b){a=m(a.childNodes);for(var d=a.next();!d.done;d=a.next())d=d.value,d.attributes&&
(b=d.attributes.getNamedItem("tts:origin"));if(!b)return null}return(b=pg(b.value))?{id:c.value,origin:b}:null},lg=C("cast.player.core.TtmlParser"),kg=/([0-9]*\.?[0-9]+)?(h|ms|m|s|f)/;var rg=function(a){this.ca=qg(a)};rg.prototype.reset=function(a){this.ca=qg(a)};var qg=function(a){for(var b=-1,c=0;c<a.length;c++){var d=parseInt(a.charAt(c),10);if(isNaN(d))throw Error("Invalid positive base 10 integer string");0>b&&d&&(b=c)}return a.substr(b,a.length)};rg.prototype.toString=function(){return this.ca};
rg.prototype.add=function(a){if(0>a||Math.floor(a)!=a)throw Error("Value must be a positive integer");var b=a+"",c=Math.max(b.length,this.ca.length);a=[];for(var d=0,e=0;e<c;e++){var f=d+parseInt(e<b.length?b.charAt(b.length-1-e):"0",10)+parseInt(e<this.ca.length?this.ca.charAt(this.ca.length-1-e):"0",10);10<=f?(d=1,f-=10):d=0;a.push(f)}b=0<d?"1":"";for(c=a.length-1;0<=c;c--)b+=a[c];this.ca=b};
var sg=function(a,b){if(b.ca.length<a.ca.length)return!0;if(b.ca.length>a.ca.length)return!1;for(var c=0;c<b.ca.length;c++){var d=parseInt(a.ca.charAt(c),10),e=parseInt(b.ca.charAt(c),10);if(d<e)return!1;if(d>e)break}return!0};var tg=function(a){ag.call(this,a)};q(tg,ag);var ug=function(a){this.buffer=new Uint8Array(new ArrayBuffer(a?a:2E4));this.offset=0},vg=function(a){return a.buffer.subarray(0,a.offset)};ug.prototype.Tg=function(a){N(this,[a])};ug.prototype.ud=function(a){N(this,[a>>8,a])};ug.prototype.i=function(a){N(this,[a>>24,a>>16,a>>8,a])};ug.prototype.Pi=function(a){this.i(a/4294967296);this.i(a%4294967296)};
var N=function(a,b){var c=b.length;if(!(a.offset+c<=a.buffer.length)){for(var d=a.buffer.length;d<a.offset+c;)d*=2;d=new Uint8Array(new ArrayBuffer(d));d.set(a.buffer,0);a.buffer=d}a.buffer.set(b,a.offset);a.offset+=c};var wg=function(a){ug.call(this,a)};q(wg,ug);var xg=function(a,b,c){(new DataView(a.buffer,a.byteOffset,a.byteLength)).setUint32(b,c)};var yg=[96E3,88200,64E3,48E3,44100,32E3,24E3,22050,16E3,12E3,11025,8E3,7350],zg=function(a){Fc(C("cast.player.mp4.base"),a)},Ag=function(a,b,c){if(0>a||32<=a)return zg("Invalid object type id: "+a),null;var d=yg.indexOf(b);return 0>d?(zg("Invalid sample rate: "+b),null):0>c||16<c?(zg("Invalid channels: "+c),null):new Uint8Array([a<<3|d>>1,d<<7|c<<3])};var Bg=function(a){this.L=new tg(a);this.Hc=0;this.ee=this.dd=null;this.lg=a;this.tb=0;this.Hc=L(this.L);this.tb=4;this.dd=L(this.L);this.tb+=4;1==this.Hc&&(this.Hc=eg(this.L),this.tb+=8);1970628964==this.dd&&(this.ee=new Df(fg(this.L,16)),this.tb+=16)},Cg=function(a){switch(a.dd){case 1836019574:case 1836019558:case 1836475768:case 1953653099:case 1953653094:case 1701082227:case 1835297121:case 1835626086:case 1684631142:case 1937007212:return!0;default:return!1}};Bg.prototype.getName=function(){return this.dd};
var Dg=function(a){return a.lg.subarray(0,a.Hc)},O=function(a){return Dg(a).subarray(a.tb)};Bg.prototype.j=function(a){N(a,this.lg.subarray(0,this.Hc))};var P=function(a){Bg.call(this,a);this.qc=this.xa=0;a=L(this.L);this.tb+=4;this.xa=a>>>24;this.qc=a&16777215};q(P,Bg);var Eg=function(a){P.call(this,a)};q(Eg,P);
Eg.prototype.zh=function(a){for(var b=this.xa,c=bg(this.L),d=Array(c),e=0;e<c;e++){if(1==b){var f=L(this.L);var g=L(this.L);var k=L(this.L);var l=L(this.L);var n=new rg(Math.floor(4294967296*f/1E4).toString()+"0000");n.add(f%1E4*7296%1E4);n.add(g);f=4294967296/a*f+g/a;k=4294967296/a*k+l/a}else l=L(this.L),k=L(this.L),n=new rg(l.toString()),f=l/a,k/=a;d[e]={time:f,duration:k,Vb:n,offset:0,size:0,url:null}}return d};
var Fg=new Df([212,128,126,242,202,57,70,149,142,84,38,203,158,70,167,159]),Gg=function(a){P.call(this,a)};q(Gg,P);Gg.prototype.zh=function(a){var b=this.xa;M(this.L,4);var c=L(this.L),d=0==b?L(this.L):eg(this.L),e=0==b?L(this.L):eg(this.L),f=a+Dg(this).byteOffset,g=this.Hc;M(this.L,2);a=cg(this.L);b=Array(a);e=f+g+e;for(f=0;f<a;f++){g=L(this.L)&2147483647;var k=L(this.L);M(this.L,4);b[f]={time:d/c,duration:k/c,Vb:null,offset:e,size:g,url:null};d+=k;e+=g}return b};
var Hg=function(a){P.call(this,a);this.vg=new Uint8Array([]);this.ui=null;this.Ph=!1;this.fd()};q(Hg,P);Hg.prototype.fd=function(){var a=new tg(O(this)),b=this.qc;b&1&&M(a,20);var c=L(a);this.ui=gg(a);this.Ph=b&2?!0:!1;this.vg=new Uint8Array(new ArrayBuffer(c));for(b=0;b<c;b++)if(this.Ph){M(a,8);var d=6*cg(a);this.vg[b]=10+d;M(a,d)}else this.vg[b]=8,M(a,8)};var Ig=new Df([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]),Jg=function(a){P.call(this,a);this.oc=0;this.fd()};q(Jg,P);
Jg.prototype.fd=function(){var a=new tg(O(this));M(a,4);M(a,4);this.oc=L(a)};var Kg=function(a){P.call(this,a);this.ug=0;this.uk=[];this.si=[];this.fd()};q(Kg,P);Kg.prototype.fd=function(){var a=new tg(O(this));this.ug=L(a);var b=this.qc;b&1&&M(a,4);b&4&&M(a,4);var c=!!(b&256),d=!!(b&512),e=!!(b&1024);b=!!(b&2048);for(var f=0;f<this.ug;f++)c&&M(a,4),d&&this.uk.push(L(a)),e&&M(a,4),b&&(1==this.xa?this.si.push(dg(a)):this.si.push(L(a)))};Kg.prototype.yg=function(a){xg(O(this),4,a)};
var Lg=function(a){P.call(this,a);this.Eb=9E4;this.fd()};q(Lg,P);Lg.prototype.fd=function(){var a=new tg(O(this));1===this.xa?(M(a,8),M(a,8)):(M(a,4),M(a,4));this.Eb=L(a)};var Mg=function(a){P.call(this,a)};q(Mg,P);var Ng=function(a){P.call(this,a);this.Fi=new Df(fg(this.L,16));a=L(this.L);this.Cf=fg(this.L,a)};q(Ng,P);Ng.prototype.getData=function(){return this.Cf};var Og=function(a){P.call(this,a);this.Di=1===this.xa?eg(this.L):L(this.L)};q(Og,P);Og.prototype.re=function(){return this.Di};
var Pg=function(a){P.call(this,a)};q(Pg,P);var Qg=function(a){Bg.call(this,a)};q(Qg,Bg);Qg.prototype.yg=function(a,b){var c=Q(O(this),1953653094,void 0,void 0);if(c){var d=Q(O(c),1953658222,void 0,void 0);d&&d.yg(a-this.lg.byteOffset);b&&(a=Q(O(c),1935763823,void 0,void 0))&&(b-=this.lg.byteOffset,c=0,a.qc&1&&(c+=8),c+=4,d=O(a),0!=a.xa&&(xg(d,c,Math.floor(b/4294967296)),c+=4),xg(d,c,Math.floor(b%4294967296)))}};
var Rg=function(a,b){var c=Q(a,1836019558);a=O(Q(a,1835295092)).byteOffset;b?c.yg(a+b,a):c.yg(a)},Sg=function(a){switch(a.getName()){case 1836019558:return new Qg(Dg(a));case 1835296868:return new Lg(Dg(a));case 1953658222:return new Kg(Dg(a));case 1935763823:return new Pg(Dg(a));case 1936286840:return new Gg(Dg(a));case 1952868452:return new Mg(Dg(a));case 1970628964:var b=a.ee;return Ig.Lb(b)?new Hg(Dg(a)):Fg.Lb(b)?new Eg(Dg(a)):a;case 1886614376:return new Ng(Dg(a));case 1952867444:return new Og(Dg(a));
case 1953654136:return new Jg(Dg(a));case 1702061171:case 1751411826:case 1835427940:case 1836476516:case 1935763834:case 1935894637:case 1937011571:case 1952804451:case 1953196132:return new P(Dg(a));default:return a}},Q=function(a,b,c,d){for(var e=0;e<a.length;){var f=new Bg(a.subarray(e));e+=f.Hc;if(f.getName()==b&&(1970628964!=b||c&&c.Lb(f.ee)))return Sg(f);if(d&&Cg(f)&&(f=Q(O(f),b,c,d)))return f}return null},Tg=function(a,b,c){for(var d=0,e=[];d<a.length;){var f=new Bg(a.subarray(d));d+=f.Hc;
if(b){var g=f.getName();g&&b.includes(g)&&e.push(Sg(f))}else e.push(Sg(f));c&&Cg(f)&&(e=e.concat(Tg(O(f),b,c)))}return e};var Ug=function(a){ig.apply(this,arguments)};q(Ug,ig);Ug.prototype.ki=function(a,b){a=Q(a,1835295092);if(!a)return[];a=gg(new ag(O(a)));return ig.prototype.ki.call(this,a,b)};var Vg=function(){};q(Vg,hg);
Vg.prototype.parse=function(a,b){for(var c=a.trim().split(Wg),d=a=0,e=m(c[0].split("\n")),f=e.next();!f.done;f=e.next())if(f=f.value,0==f.indexOf("X-TIMESTAMP-MAP")){(e=f.match(Xg))&&(a=Yg(e[1]));(e=f.match(Zg))&&(d=parseInt(e[1],10)/9E4);break}b+=d-a;if(isNaN(b))return F($g,"invalid time offset"),[];a=[];c=m(c);for(d=c.next();!d.done;d=c.next()){var g=d.value;if(g){var k=b,l=null,n=f=null,p=null;e=d=null;g=g.split("\n");for(var u=0,v=m(g),z=v.next();!z.done;z=v.next()){z=z.value;if(l=z.match(ah)){f=
z.match(bh);n=z.match(ch);p=z.match(dh);d=z.match(eh);e=z.match(fh);break}u++}l?(v=Yg(l[1]),l=Yg(l[2]),g=g.slice(u+1).join("\n"),isNaN(v)||isNaN(l)||!g?(F($g,"skipped cue, begin="+v+", end="+l+", text="+g),d=null):(k=new VTTCue(v+k,l+k,g),f&&(k.align=f[1]),n&&(k.snapToLines="true"===n[1]),p&&(f=parseInt(p[1],10),!k.snapToLines&&(100<f||0>f)&&(f=100),k.line=f),d&&(k.position=parseInt(d[1],10)),e&&(k.size=parseInt(e[1],10)),d=k)):d=null;d&&a.push({Gg:d})}}return a};
var Yg=function(a){var b=a.split(":");if(3<b.length)return F($g,"unexpected time format="+a),0;a=0;b=m(b);for(var c=b.next();!c.done;c=b.next())a=60*a+parseFloat(c.value);return a},$g=C("cast.player.core.WebvttParser"),Wg=/\n\s*\n/,Zg=/MPEGTS:([\d]*)/,bh=/align:(start|middle|end|left|center|right)/,ch=/snapToLines:?(true|false)?/,dh=/line:(-*\d+)/,eh=/position:(\d*)%/,fh=/size:(\d*)%/,Xg=/LOCAL:((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/,ah=/((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})[\t ]+--\x3e[\t ]+((?:[\d]{2}:)?[\d]{2}:[\d]{2}.[\d]{3})/;var gh=function(a,b,c,d){D.call(this);this.a=b;this.lf=document.createElement("track");this.lf.src=b.url;this.lf.kind="captions";this.a.mediaElement.appendChild(this.lf);this.pd=this.lf.track;this.pd.mode="showing";this.gl=a;this.ec=c;B("Cast.MPL.Captions",Ld(this.ec));this.Td=null;"ttml"==c?this.Td=new ig(1==this.a.ignoreTtmlPositionInfo):"webvtt"==c?this.Td=new Vg:d&&"application/mp4"==d&&"stpp"==c&&(this.Td=new Ug(1==this.a.ignoreTtmlPositionInfo));this.Ta=null;this.Gk=0};q(gh,D);
gh.prototype.H=function(){hh(this);this.pd.mode="disabled";this.lf.remove();D.prototype.H.call(this)};var hh=function(a){var b=a.pd.cues;if(b)for(;0<b.length;)a.pd.removeCue(b[0]);if(a.a.mediaElement.parentNode)for(a=m(a.a.mediaElement.parentNode.getElementsByClassName("mpl_img_cap")),b=a.next();!b.done;b=a.next())b.value.remove()};h=gh.prototype;h.createBuffer=function(){};h.reset=function(){hh(this);this.Ta=null};h.Ce=function(){return!0};h.oj=function(){return Infinity};
h.append=function(a,b,c,d){d&&(this.Gk=b.time-c);if(this.Td){var e=this.a.useRelativeCueTimestamps||"ttml"==this.ec?b.time:this.Gk;c=ih(this);d=0<c.length?c[c.length-1].startTime:-Infinity;for(a=this.Td.ki(a,e);0<a.length;){e=a.pop();var f=e.Gg,g=!1;if(f.startTime<d||.1>=Math.abs(f.startTime-d))for(var k=c.length-1;0<=k;k--)if(c[k].text==f.text&&.1>=Math.abs(c[k].startTime-f.startTime)&&.1>=Math.abs(c[k].endTime-f.endTime)){g=!0;break}g||this.addCue(e)}}this.Ta=b};
h.Da=function(a){return this.Ta?this.Ta.time+this.Ta.duration-a:0};
h.addCue=function(a){if(this.a.onCue)this.a.onCue(this.ec);var b=a.Gg;this.pd.addCue(b);if(a.wj){a=a.wj;var c=this.a.mediaElement.parentNode;b.id="cap-"+Date.now();b.onenter=function(a,b,c){var d=document.createElement("img");d.setAttribute("id",a.id);d.setAttribute("src","data:image/png;base64,"+b);d.setAttribute("class","mpl_img_cap");d.style.position="absolute";d.style.left="0";d.style.bottom="0";d.style.right="0";d.style.margin="0 auto";d.style.width="100%";d.style.height="100%";d.style.zIndex=
5;c.appendChild(d)}.bind(this,b,a,c);b.onexit=function(a){(a=document.getElementById(a.id))&&a.remove()}.bind(this,b)}};var ih=function(a){for(var b=[],c=a.pd.cues,d=a.gl.rc(),e=0;e<c.length;){var f=c[e];f.endTime<d?(a.pd.removeCue(f),f.id&&(f=document.getElementById(f.id))&&f.remove()):(b.push(f),e++)}return b};gh.prototype.parse=function(a,b){for(a=this.Td.parse(a,b);0<a.length;)this.addCue(a.pop())};var jh=function(a){H.call(this);this.Gb=null;this.hi=a};q(jh,H);jh.prototype.nh=function(){this.Gb&&(this.Gb.onprogress=null);this.Gb=H.prototype.nh.call(this);this.Gb.onprogress=this.hi;return this.Gb};jh.prototype.H=function(){this.Gb&&(this.Gb.onprogress=null);H.prototype.H.call(this)};var lh=function(){var a=kh,b=this;return new Vc(function(c,d){var e=new jh(function(){});E(e,"success",function(a){c(Dd(a.target))},!1,b);E(e,"error",d,!1,b);E(e,"timeout",d,!1,b);e.send(a)})};var mh=function(a,b,c){var d=y();this.clientId=a;this.blockIds=b;this.flags=c;this.timestamp=d},oh=function(){var a=nh();this.jh=a&&a.clientId||Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)};
oh.prototype.ed=function(a){ya("Cast.MPL.ExperimentationFetchResult",!0);try{var b=JSON.parse(a.substring(5));var c=new nf(b[0])}catch(g){ph(this,"Failed to parse experimentation flags.");return}a=Ye(c,1);b=ef(c,of,2);c={};b=m(b);for(var d=b.next();!d.done;d=b.next()){d=d.value;var e=d.getName(),f=void 0;switch(We(d,cf[0])){case 2:f=K(d,5);break;case 3:f=K(d,3);break;case 4:f=d.getFloatValue();break;case 5:f=K(d,5)}c[e]=f}qh("Cast.MPL.ExperimentationDownloadedBlockId",a);window.localStorage.setItem("cast.player.common.Experimentation",
JSON.stringify(new mh(this.jh,a,c)));G(rh,"Flags: "+c.toString())};oh.prototype.Ub=function(){ya("Cast.MPL.ExperimentationFetchResult",!1);ph(this,"Failed to download experimentation flags.")};
var ph=function(a,b){F(rh,b);window.localStorage.setItem("cast.player.common.Experimentation",JSON.stringify(new mh(a.jh,[],{})))},qh=function(a,b){if(t(b)&&0<b.length){b=m(b);for(var c=b.next();!c.done;c=b.next())B(a,c.value)}},th=function(a){if(!sh()){var b=nh();if(t(b)&&t(b.flags))return b.flags[a]}},sh=function(){var a=nh();if(!t(a)||!t(a.timestamp))return!0;var b=y()-a.timestamp;a=a.flags.expirationHrs;x(a)||(a=3);return b>36E5*a},nh=function(){var a=window.localStorage.getItem("cast.player.common.Experimentation");
return a?JSON.parse(a):void 0};la(oh);var rh=C("cast.player.common.Experimentation"),uh=oh.Jd(),vh=sh();ya("Cast.MPL.ExperimentationCheckExpired",vh);if(vh){var kh="https://$Env$.google.com/cast/senderconfig/config?hw=mpl&id=$ClientId$".replace(/\$Env\$/g,"clients3").replace(/\$ClientId\$/g,uh.jh.toString());lh().then(uh.ed.bind(uh),uh.Ub.bind(uh))};var wh=function(a,b){this.la=a;this.ve=[];for(var c=0;c<a.length;c++)this.ve.push(c);this.Jl=t(b)?b:3;this.cf={};this.Bd=this.ve.slice()};wh.prototype.pj=function(){return 0};wh.prototype.Ii=function(){this.cf={};this.Bd=this.ve.slice()};wh.prototype.mf=function(a){this.cf[a]||(this.cf[a]=0);this.cf[a]++;this.cf[a]>(1==this.Bd.length?this.Jl:this.pj())&&(a=this.Bd.indexOf(a),-1<a&&this.Bd.splice(a,1));return this.Bd};var xh=function(a,b){wh.call(this,a,b)};q(xh,wh);
xh.prototype.mf=function(a,b){for(var c=0,d=this.la[0],e=1;e<this.la.length;e++)this.la[e]<d&&(d=this.la[e],c=e);if(!b||b&&a==c)this.Bd=[c];return wh.prototype.mf.call(this,a,b)};var yh=function(a,b){wh.call(this,a,b);this.bf=Array(this.la.length);this.bf.fill(0);a=th("numRetriesPerQualityLevel");this.Kl=x(a)?a:1;a=th("blacklistThreshold");this.ml=x(a)?a:6};q(yh,wh);yh.prototype.pj=function(){return this.Kl};yh.prototype.Ii=function(a){this.bf[a]=0;wh.prototype.Ii.call(this,a)};
yh.prototype.mf=function(a,b){this.bf[a]+=1;if(this.bf[a]>=this.ml){var c=this.ve.indexOf(a);-1<c&&this.ve.splice(c,1)}return wh.prototype.mf.call(this,a,b)};var Bh=function(a,b,c,d){this.a=a;this.X=b;this.la=c;a=this.a.initialBandwidth;3145728==this.a.initialBandwidth&&(a=parseFloat(window.localStorage.getItem("cast.player.core.QualityManager.currentBandwidth")),a=x(a)&&a>this.a.initialBandwidth?a:this.a.initialBandwidth);this.ic=a;this.Rc=zh(this,this.ic);G(Ah,this.X+": initial "+this.la[this.Rc]);this.og=0;this.Mg=null;this.Kj=y();this.Hl=d;a=this.la;d=Kd(d);if(t(d))for(B("Cast.MPL.Available"+d+"Bitrates",a.length),b=0;b<a.length;b++)B("Cast.MPL.Available"+
d+"Bitrate"+b,a[b])};Bh.prototype.K=function(){Ch(this)};
var zh=function(a,b,c){for(var d=-1,e=Number.MAX_VALUE,f=t(c)?c[0]:0,g=0;g<a.la.length;g++)if(!t(c)||-1!==c.indexOf(g)){if(b>=a.la[g]){var k=b-a.la[g];k<e&&(d=g,e=k)}a.la[f]>a.la[g]&&(f=g)}return 0>d?f:d},Dh=function(a,b,c,d){var e=y();if(!b&&null!==a.Mg&&e-a.Mg<2E3*(c||0))return a.Rc;a.Mg=e;b=zh(a,.7*a.ic,d);a.a.getQualityLevel&&(b=a.a.getQualityLevel(a.X,b),b>=a.la.length&&(F(Ah,a.X+": Host provided an invalid quality level!"),b=a.la.length-1));b!=a.Rc&&(G(Ah,a.X+": from "+a.la[a.Rc]+" to "+a.la[b]),
Ch(a),a.Rc=b);return a.Rc},Fh=function(a,b){3E5>y()-a.Kj||(B("Cast.MPL.Bandwidth",b),Eh||window.localStorage.setItem("cast.player.core.QualityManager.currentBandwidth",""+b),Ch(a))},Ch=function(a){var b=y(),c=Kd(a.Hl);t(c)&&B("Cast.MPL."+c+"Bitrate",a.la[a.Rc]);a.Kj=b},Ah=C("cast.player.core.QualityManager"),Eh=document.domain.includes("gstatic.com");var Gh=function(){};Gh.prototype.Xe=function(){};A("cast.player.core.ProcessSourceDataCallback",Gh);var Hh=function(a,b,c,d,e,f){D.call(this);this.a=a;this.am=e;this.Jc=c;this.ea=d;this.X=b;this.pf=!1;this.pa=this.Ta=this.Bc=null;this.yd=f;this.pc=new je;this.Dd=0;this.createBuffer();this.Mc=null;this.gf=!0};q(Hh,D);h=Hh.prototype;h.H=function(){D.prototype.H.call(this);this.pc.clear();this.pa&&(wc(this.pa,"updateend",this.fk,!1,this),this.gf&&"closed"!=this.ea.readyState&&this.ea.removeSourceBuffer(this.pa))};
h.createBuffer=function(){if(null===this.pa&&"open"==this.ea.readyState){var a=this.Jc.mimeType+'; codecs="'+Nf(this.Jc.codecs)+'"',b=this.yd.findIndex(function(b){return b==a});if(0>b){try{this.pa=this.ea.addSourceBuffer(a)}catch(c){throw this.a.R(110,void 0,c.message),c;}G(R,"create new source buffer "+a);this.yd.push(a)}else this.pa=this.ea.sourceBuffers[b],G(R,"reuse source buffer index: "+b+", mimetype: "+a);E(this.pa,"updateend",this.fk,!1,this);Ih(this)}};
h.Da=function(a){var b=this.Dd+(this.Bc?this.Bc.duration:0);return this.Ta?this.Ta.time+this.Ta.duration-a+b:b};h.reset=function(){this.Bc=this.Ta=null;this.pc.clear();this.Dd=0;this.Ce()?Jh(this):(G(R,this.X+": queue remove"),this.pc.enqueue({ii:1,Zg:null}));this.Ce()?Kh(this):(G(R,this.X+": queue abort"),this.pc.enqueue({ii:0,Zg:null}))};h.Ce=function(){return null!==this.pa&&!this.pf&&this.pc.ya()};h.oj=function(){return Ed(this.Jc.mimeType)?40:20};
var Ih=function(a){for(;!a.pc.ya();){var b=a.pc.Ed(),c=b.Zg;switch(b.ii){case 2:G(R,a.X+": dequeue append");a.Dd-=c.interval.duration;Lh(a,c.data,c.interval,c.T,c.Z,c.Na);return;case 1:G(R,a.X+": dequeue remove");Jh(a);return;case 0:G(R,a.X+": dequeue abort"),Kh(a)}}};Hh.prototype.fk=function(){for(var a=this.pa.buffered,b=0;b<a.length;b++)G(R,this.X+": "+a.start(b)+" - "+a.end(b));G(R,this.X+": updateend");null!==this.Bc&&0!=this.Bc.duration&&(this.Ta=this.Bc);this.Bc=null;this.pf=!1;Ih(this)};
var Lh=function(a,b,c,d,e,f){var g=a.pa.timestampOffset;if(e){Kh(a);var k=Mh(a,c.time);a.pa.timestampOffset=k-d;G(R,a.X+": timestampOffset = "+a.pa.timestampOffset)}else k=Mh(a,c.time);a.pf=!0;try{a.pa.appendBuffer(b)}catch(l){G(R,a.X+": append failed "+l);a.pf=!1;e&&(a.pa.timestampOffset=g);Nh(a,b,c,d,e,l,f);return}G(R,a.X+": successfully append "+b.length+" bytes");null!==a.Mc&&(G(R,a.X+": cleared interval "+a.Mc),clearInterval(a.Mc),a.Mc=null);a.Bc={time:k,duration:c.duration};a.am.Xe(a.Jc.mimeType,
b,a.pa.timestampOffset,k,c.duration,f)},Kh=function(a){"open"==a.ea.readyState?(G(R,a.X+": abort"),a.pa.abort()):F(R,a.X+": unable to abort")},Jh=function(a){G(R,a.X+": remove");a.pf=!0;a.pa.remove(0,Infinity)};Hh.prototype.append=function(a,b,c,d,e){this.Ce()?Lh(this,a,b,c,d,e):Nh(this,a,b,c,d,void 0,e)};
var Nh=function(a,b,c,d,e,f,g){G(R,a.X+": delay append, append to deferred queue");a.Dd+=c.duration;a.pc.enqueue({ii:2,Zg:{data:b,interval:{time:c.time,duration:c.duration},T:d,Z:e,Na:g}});f&&22===f.code&&null===a.Mc&&(a.Mc=setInterval(function(){Ih(a)},2E3),G(R,a.X+": set up interval to processDeferred_ "+a.Mc))},Mh=function(a,b){if(!a.Ta||a.a.jj)return b;var c=b,d=a.pa.buffered;0<d.length&&(b=d.end(d.length-1));G(R,a.X+": adjustTime: "+c+" : "+b);return b},R=C("cast.player.core.SourceBufferManager");var S=function(a,b,c,d,e,f,g,k){D.call(this);this.ua=a;this.host=b;this.protocol=c;this.cl=f;this.F=d;c=c.getStreamInfo(d);this.Oa=Bf(c.role,c.mimeType,c.codecs)?new gh(a,b,c.codecs,c.mimeType):new Hh(b,d,c,e,a,k);Od(c.codecs);B("Cast.MPL.MimeType",Jd[c.mimeType]||0);B("Cast.MPL.StreamType",Ed(c.mimeType)?1:Fd(c.mimeType)?2:Bf(c.role,c.mimeType,c.codecs)?3:0);this.Xf=!1;this.f=1;this.tg=0;this.be=!1;this.Qi=this.Bb=0;this.Ib=400;this.vc=this.Xc=this.Ld=this.Yf=!1;this.Jj=this.$g=0;this.qb=new je;
this.w=new rf;this.w.setResponse=this.hm.bind(this);this.g=new jh(this.hi.bind(this));sd(this.g);E(this.g,"success",this.ed,!1,this);E(this.g,"error",this.Ub.bind(this,!1));E(this.g,"timeout",this.Ub.bind(this,!0));E(this.g,"ready",this.Sl,!1,this);a=this.protocol.getStreamInfo(this.F).bitrates;this.kd=new Bh(b,d,a,c.mimeType);this.yf=Vf.Jd();this.ae=null;(b=g)||(b=this.host.segmentRequestRetryLimit,b=th("simpleFailOver")?new yh(a,b):new xh(a,b));this.lj=b};q(S,D);
var Oh=function(a){t(a.Oa.gf)&&(a.Oa.gf=!1);D.prototype.K.call(a)};S.prototype.K=function(){t(this.Oa.gf)&&(this.Oa.gf=!0);D.prototype.K.call(this)};S.prototype.H=function(){clearTimeout(this.ae);this.ae=null;this.Oa.K();this.kd.K();this.g.K();D.prototype.H.call(this)};S.prototype.hm=function(a,b){a?this.Nf({Wc:this.vc,data:new Uint8Array(a),interval:this.w.interval,Ec:this.w.Ec},this.w,b):this.Ub(!1);this.Yf=!1;this.Ld&&(Ph(this),this.Ld=!1)};
var Rh=function(a){a:{var b=a.yf;var c=a.host.url,d=a.F;if(b.isEnabled()&&b.df.mc(c)&&(b=b.df.get(c)[d],x(b)))break a;b=-1}-1<b?Qh(a,b):Qh(a,Dh(a.kd,!0,void 0,void 0))},Qh=function(a,b){var c=a.protocol.getQualityLevel(a.F);if(b==c)return!1;a.Xf=!0;a.protocol.Ag(a.F,b,a,a.ua);return!0},Th=function(a,b,c,d,e,f){if(a.Xc){G(Sh,a.F+": segment processed");a.Xc=!1;if(a.host.processSegment){var g=a.host.processSegment(a.F,b);if(Ea(g)){g.then(function(g){g instanceof Uint8Array&&(b=g);a.Oa.append(b,c,d,e,
f);a.ng()});return}g instanceof Uint8Array&&(b=g)}a.Oa.append(b,c,d,e,f)}else G(Sh,a.F+": not processing");a.ng()},Wh=function(a,b){a.Xc?Uh(a,b,"processing previous segment"):a.qb.ya()?Vh(a,b)?a.We(b):(Uh(a,b,"segment duration will go beyond buffer limit"),a.ae=setTimeout(a.ng.bind(a),1E3)):Uh(a,b,"queue has "+a.qb.Mb()+" segments")},Uh=function(a,b,c){G(Sh,a.F+": queue segment ("+b.data.length+") as "+c);a.qb.enqueue(b)};
S.prototype.ng=function(){if(!this.Xc&&!this.qb.ya()){var a=this.qb.ni();Vh(this,a)?(G(Sh,this.F+": dequeue segment"),this.qb.Ed(),this.We(a)):(G(Sh,this.F+": delay process downloaded segment"),this.ae=setTimeout(this.ng.bind(this),1E3))}};var Vh=function(a,b){var c=a.Da(a.ua.rc());return c<=a.host.autoPauseDuration?!0:c+b.interval.duration<=a.Oa.oj()};S.prototype.We=function(a){G(Sh,this.F+": process segment");this.Xc=!0;this.protocol.processSegment(this.F,a,this)};
S.prototype.reset=function(){G(Sh,this.F+": reset");this.f=1;this.tg=0;this.be=!1;Xh(this);this.Xc=this.Ld=!1;this.qb.clear();clearTimeout(this.ae);this.ae=null;this.vc||this.g.abort();this.protocol.reset(this.F);this.Oa.reset();this.ua.Ac()};S.prototype.ed=function(a){var b=this.protocol.getQualityLevel(this.F);this.lj.Ii(b);this.Nf({Wc:this.vc,headers:this.g.getAllResponseHeaders(),data:new Uint8Array(Dd(a.target)),interval:this.w.interval,Ec:this.w.Ec},this.w)};
S.prototype.Nf=function(a,b,c){if(!a.nj){c=t(c)?c:y()-this.tg;b=this.kd;var d=a.data.length;0>=c||(b.a.trackBandwidth&&b.a.trackBandwidth(b.X,c,d),Sf("Cast.MPL.SegmentStats.Size",d),Sf("Cast.MPL.SegmentStats.Time",c),c=0<c?8*d/(c/1E3):0,b.ic=.8*c+(1-.8)*b.ic,G(Ah,b.X+": current="+c.toFixed(2)+", average="+b.ic.toFixed(2)),Fh(b,c),b.og=0)}Xh(this);Wh(this,a);if(!Yh(this,a)&&(b=this.Da(this.ua.rc()),a.nj||Qh(this,Dh(this.kd,10>b,a.interval.duration,void 0)),this.$g=.8*b+(1-.8)*this.$g,3E5<y()-this.Jj&&
(B("Cast.MPL.AverageBufferDuration",parseInt(this.$g,10)),this.Jj=y()),this.Xf))return;this.ua.Ac()};var Yh=function(a,b){return a.vc?(a.vc=!1,a.protocol.zg(a.F,b.data),!0):a.be=!1};h=S.prototype;h.Sl=function(){this.Ld&&(Ph(this),this.Ld=!1)};
h.Ub=function(a){var b=this.kd,c=y()-this.tg;a&&(b.ic=0<c?8*b.og/(c/1E3):0);b.og=0;b.Mg=null;G(Ah,b.X+": current="+b.ic.toFixed(2));Fh(b,b.ic);b=this.protocol.getQualityLevel(this.F);a=this.lj.mf(b,a);0==a.length?this.host.skipSegmentOnNetworkFailure?(Xh(this),this.ua.Ac()):(this.f=-1,a=this.Yf?void 0:new sf(this.w.url,this.g.Sb,Bd(this.g),this.g.getAllResponseHeaders(),Dd(this.g)),this.host.R(301,a)):Qh(this,Dh(this.kd,!0,void 0,a))?(this.be=!0,this.ua.Ac()):(this.Bb++,this.Qi=y(),this.ua.Ac(this.Ib))};
h.hi=function(a){this.kd.og=a.loaded};h.Da=function(a){return this.Oa.Da(a)};h.createBuffer=function(){this.Oa.createBuffer()};
var ai=function(a){a.Xf=!1;a.ua.ci();Zh(a,!1);if(a.vc)Ph(a);else if($h(a),a.ua.Ac(),a.host.onQualityLevelChanged)a.host.onQualityLevelChanged(a.F)},Ph=function(a){if(bi(a))a.Ld=!0;else{a.tg=y();a.protocol.updateSegmentRequestInfo(a.F,a.w);var b=a.w.interval;a.w.timeoutInterval=Math.max(2E3*b.duration,1E4);a.w.skipRequest=!1;if(a.host.updateSegmentRequestInfo&&(a.host.updateSegmentRequestInfo(a.w,a.F),a.w.skipRequest)){a.Yf=!0;return}a.yf.ma.contains(Yf(a.w))?$f(a.yf,a.w).then(function(c){a.Nf({Wc:a.vc,
data:new Uint8Array(c),interval:b,Ec:a.w.Ec,nj:!0},a.w)},function(){ci(a)}):ci(a)}},ci=function(a){G(Sh,a.F+": send request to get segment.");a.g.ge=a.w.withCredentials;a.g.dc=Math.max(0,a.w.timeoutInterval);a.g.send(a.w.url,void 0,void 0,a.w.headers)};S.prototype.Ae=function(){return 0<this.f||this.Xc||bi(this)||!this.Oa.Ce()||!this.qb.ya()};S.prototype.Oh=function(){var a;if(a=!this.Xf&&2>this.qb.Mb()&&!bi(this))a=this.qb.ni(),a=!(a&&!Vh(this,a));return a};
var bi=function(a){return a.g.Ae()||a.Yf},Zh=function(a,b){if(a.protocol.Pd(a.F)){var c=a.protocol.qe(a.F);null===c?(a.vc=!0,a.be=a.be||b):Wh(a,{Wc:!0,data:c,interval:{time:a.w.interval.time,duration:0}})}},$h=function(a){var b=a.protocol.Jf(a.F);b&&a.cl(b)};
S.prototype.ef=function(){if(0<this.Bb||this.be){if(0<this.Bb){if(y()-this.Qi<this.Ib)return;this.Ib*=2}Ph(this)}else if(1==this.f){var a=this.ua.rc(),b=this.protocol.seek(this.F,a);x(b)?(G(Sh,this.F+": seek success "+a),this.f=2,this.ua.ei(b),Zh(this,!0),$h(this),Ph(this)):G(Sh,this.F+": seek failure "+a)}else this.protocol.wc(this.F)&&(Zh(this,!0),$h(this),Ph(this)),this.protocol.Pb(this.F)&&(this.f=0)};var Xh=function(a){a.Bb=0;a.Qi=0;a.Ib=400},Sh=C("cast.player.core.SegmentManager");var ei=function(a,b,c,d,e){S.call(this,a,b,c,d,new MediaSource,function(){Fc(di,"Cannot create session while caching")});this.bj=e;this.fh=0};q(ei,S);
ei.prototype.Nf=function(a,b){var c=this,d=Yh(this,a)?0:this.protocol.getSegmentInterval(this.F).duration;Wf(this.yf,b,a.data.buffer).then(function(){c.fh+=d;var b=c.bj,f=c.F,g=a.data.buffer.byteLength;b.u.Pb(f)?(G(fi,"Cached the entire stream "+f),gi(b,f)):b.Zb.Da(b.ta.Fh)>=b.ta.autoResumeDuration?(G(fi,"Successfully cached stream "+f),gi(b,f)):b.bc.Pf(g)?b.Zb.ef():(F(fi,"Cache likely can not fit the next segement for stream "+f),gi(b,f))},function(a){F(di,"Unable to cache segment ("+b.url+") because of "+
a);gi(c.bj,c.F)})};ei.prototype.Da=function(){return this.fh};var di=C("cast.player.cache.SegmentManager");var hi=function(){};A("cast.player.core.CurrentTimeCallback",hi);hi.prototype.rc=function(){};var ii=function(){};A("cast.player.core.PlayerCallbacks",ii);h=ii.prototype;h.Ac=function(){};h.ei=function(){};h.ci=function(){};h.oe=function(){};h.$h=function(){};h.gg=function(){};var ji=function(a){D.call(this);this.um=a;this.Bh=this.rd=null;this.Bb=0;this.ri=null;this.Ib=400;this.g=new jh(function(){});E(this.g,"success",this.ed.bind(this));E(this.g,"error",this.Ub.bind(this));E(this.g,"timeout",this.Tl.bind(this))};q(ji,D);ji.prototype.H=function(){this.g.K();D.prototype.H.call(this)};
ji.prototype.load=function(a){var b=this;if(this.rd=a.url){var c=Vf.Jd();c.ma.contains(Yf(a))?$f(c,a).then(function(a){b.ld(String.fromCharCode.apply(String,ba(new Uint16Array(a))))},function(){ki(b,a)}):ki(this,a)}else F(Af,"No url provided for request")};var ki=function(a,b){a.Bh=b.headers;a.g.ge=b.withCredentials;a.g.dc=Math.max(0,b.timeoutInterval);a.Bb=0;a.g.send(a.rd,void 0,void 0,a.Bh)};ji.prototype.abort=function(){this.g.abort()};
var li=function(a){return new sf(a.rd,a.g.Sb,Bd(a.g),a.g.getAllResponseHeaders(),Dd(a.g))};ji.prototype.ed=function(a){clearTimeout(this.ri);this.Ib=400;this.ld(Dd(a.target))};ji.prototype.Ub=function(){mi(this,408==Bd(this.g)?0:this.Ib)};ji.prototype.Tl=function(){mi(this,0)};var mi=function(a,b){a.Bb++;clearTimeout(a.ri);3<a.Bb?a.ld(null):(1<a.Bb&&(a.Ib=2*b),a.ri=setTimeout(function(){a.g.send(a.rd,void 0,void 0,a.Bh)},b))};
ji.prototype.ld=function(a){this.Bb=0;var b=this.g;this.um.jg(a,b.Gb&&b.Gb.responseURL?b.Gb.responseURL:null)};var ni=function(a){ji.call(this,a);this.w=this.a=null};q(ni,ji);ni.prototype.Md=function(a,b){this.a=a;this.w=new rf;this.w.url=this.rd=b;this.w.setResponse=this.ld.bind(this);a.updateManifestRequestInfo&&a.updateManifestRequestInfo(this.w);this.w.skipRequest||this.load(this.w)};
ni.prototype.ld=function(a){var b=this;if(this.a&&(a=this.a.kk(a,this.w),Ea(a))){a.then(function(a){ji.prototype.ld.call(b,a)});return}ji.prototype.ld.call(this,a)};var oi=function(a){if(a[7]<<8|1!=a[6])return F(Af,"PlayReady header object is not valid"),null;var b=a[9]<<8|a[8];b+=10;for(var c="",d=10;d<b;d+=2)c+=String.fromCharCode(a[d+1]<<8|a[d]);d=b=null;c=(new DOMParser).parseFromString(c.trim(),"text/xml").childNodes[0].firstElementChild;c=m(c.children);for(var e=c.next();!e.done;e=c.next())e=e.value,"LA_URL"==e.nodeName?d=e.textContent:"KID"==e.nodeName&&(b=Da(window.atob(e.textContent)));return b?{systemId:Ef,ue:a,He:new Df(b,!0),url:d,ag:8}:(F(Af,"PlayReady rights management header does not have KID"),
null)},T=function(a){this.host=a;this.Dc=this.bd=this.uri=null;this.Mh=this.Ih=this.O=void 0;this.duration=-1;this.h=[];this.Eh=[];this.Ol=this.Md.bind(this);this.ra=null;this.Ci=!1;this.oi=1E4},qi=function(a){var b=pi(a.h);b||(b=a.h.find(function(a){return 1==a.type&&!If(a.codecs)}));b&&(b.enabled=!0);a=m(a.h);for(b=a.next();!b.done;b=a.next())if(b=b.value,2==b.type){b.enabled=!0;break}},pi=function(a){return a.find(function(a){return 1==a.type&&If(a.codecs)&&Hf("audio/mp4",a.codecs)})};h=T.prototype;
h.getDefaultAudioStreamIndex=function(){for(var a=-1,b=0;b<this.h.length;b++){var c=this.h[b];if(1==c.type&&Hf("audio/mp4",c.codecs)){if(If(c.codecs))return b;0>a&&(a=b)}}return a};h.getStreamCount=function(){return this.h.length};h.enableStream=function(a,b){var c=this.h[a];c.index=-1;c.W=-1;c.Z=!0;c.enabled=b;c.Xa=!1;this.Eh[a]=[]};h.isStreamEnabled=function(a){return this.h[a].enabled};h.getQualityLevel=function(a){return this.h[a].W};
h.getStreamInfo=function(a){a=this.h[a];for(var b=[],c=m(a.A),d=c.next();!d.done;d=c.next())b.push(d.value.Aa);return new tf(a.codecs,a.mimeType,b,a.language,a.name,a.role)};h.jg=function(a,b){if(a){b&&(this.uri=new J(b));b=null!==this.ra;var c=this.h;this.h=[];this.li(a);this.Ki();this.Ci&&(this.ra=setTimeout(this.Ol,this.oi));if(b)ri(this,c),this.Dc.ig();else{qi(this);if(this.host.onManifestReady)this.host.onManifestReady();this.Dc.onManifestReady()}}else this.pi()};h.pi=function(){};h.Ab=function(){};
h.li=function(){};h.Ki=function(){};
var ri=function(a,b){for(var c=a.host.mediaElement.paused,d={},e=0;e<b.length;d={mb:d.mb},e++){d.mb=b[e];var f=a.h[e];if(f.name!==d.mb.name){G(T.oa,"The order of adaptations in manifest changes.");f=e;var g=a.h.findIndex(function(a){return function(b){return b.name==a.mb.name}}(d));if(0>g){a.Ab("New manifest has content out of sync. Continue with old one.");a.h=b;break}var k=a.h[f];a.h[f]=a.h[g];a.h[g]=k;f=a.h[f]}f.enabled=d.mb.enabled;f.W=d.mb.W;f.Xa=d.mb.Xa;g=[];k=!0;for(var l=d.mb.index,n=0;n<
f.A.length;n++){var p=d.mb.A[n],u=f.A[n];u.T=p.T;g[n]=si(p,u,l,c);if(!g[n]){k=!1;F(T.oa,"Old and new representations are out of sync.");break}}if(!(0>l))if(k){for(k=0;k<f.A.length;k++)f.A[k].c=g[k].c,f.A[k].I=g[k].I;f.Z=d.mb.Z;f.index=g[0].index}else f.Z=!0,f.index=0}},si=function(a,b,c,d){if(x(a.I)&&x(b.I)){var e=a.I+c-b.I;e=0<e?{c:b.c,index:e,I:b.I}:{c:a.c.slice(c,b.I-a.I).concat(b.c),index:0,I:a.I+c}}else e=null;if(e)a=e;else{e={c:[],index:0,I:b.I};var f=b.c[0];0<=c&&f.time<a.c[c].time?(e.c=b.c,
e.index=ti(a.c[c].time,b.c),a=e):(f=ti(f.time,a.c),-1==f?a=null:(c>f?(e.c=b.c,e.index=c-f):(e.c=d?b.c:a.c.slice(c,f).concat(b.c),e.index=0,x(b.I)&&!d&&(e.I-=f-c)),a=e))}return a},ti=function(a,b){for(var c=.5*b[0].duration,d=0;d<b.length;d++)if(Math.abs(b[d].time-a)<=c)return d;return-1};h=T.prototype;h.load=function(a){this.Dc=a;this.Md()};h.Md=function(){var a=this.host.url;this.uri=new J(a);this.bd=new ni(this);this.bd.Md(this.host,a)};
h.bb=function(){this.bd&&(this.bd.K(),this.bd=null);null!==this.ra&&(clearTimeout(this.ra),this.ra=null)};h.Ag=function(a,b,c){a=this.h[a];a.W=b;a.Xa=!0;ai(c)};h.updateLicenseRequestInfo=function(){};h.getDuration=function(){return this.O?-1:this.duration};h.Ea=function(a){a=this.h[a];var b=a.W;if(0>b)return null;a=a.A[b];var c=a.c;if(0==c.length)return null;b=c[0].time;var d=c.length-1;c=c[d].time+c[d].duration;this.O&&(c-=20,c<b&&(c=b));return{start:b-a.T,end:c-a.T}};
h.seek=function(a,b){var c=this.h[a],d=c.A[c.W],e=d.c;a=this.Ea(a);if(!a)return null;b<a.start&&(b=a.start);b>a.end&&(b=a.end);b+=d.T;for(a=e.length-1;0<=a;a--)if(b>=e[a].time)return c.index=a,c.Xa=!0,b-d.T;return null};h.wc=function(a){a=this.h[a];var b=a.index+1;return b<a.A[a.W].c.length?(a.index=b,!0):!1};h.isLiveStream=function(){return this.O||!1};h.isEventStream=function(){return this.Ih||!1};h.isLiveSeekableRangeMovingWindow=function(){return this.Mh};h.isLiveDone=function(){};
h.Pb=function(a){var b=this.h[a];a=b.index;b=b.A[b.W].c;return!this.O&&a==b.length-1};h.getSegmentInterval=function(a){var b=this.h[a],c=b.W;return 0<=c&&(a=b.index,0<=a&&(b=b.A[c],c=b.c,a<c.length))?{time:c[a].time-b.T,duration:c[a].duration}:{time:0,duration:0}};h.reset=function(a){this.h[a].index=-1};h.Pd=function(a){a=this.h[a];var b=a.A[a.W];null!==b.vb||null!==b.D&&null!==b.D.na||(a.Xa=!1);return a.Xa};
h.zg=function(a,b){this.h[a].Xa=!1;262144<b.length?F(ui,"init data ("+b.length+" bytes) is too large to cache"):this.Eh[a][this.h[a].W]=b};h.qe=function(a){var b=this.h[a];var c=this.Eh[a];return(b=b&&c?c[b.W]||null:null)?(this.h[a].Xa=!1,b):null};h.Jf=function(){return null};h.updateSegmentRequestInfo=function(a,b){b.interval=this.getSegmentInterval(a)};h.processSegment=function(){};h.Kf=function(){return 0};var vi=function(a,b){t(a.O)||ya("Cast.MPL.Live",b);a.O=b};T.prototype.getStreamInfo=T.prototype.getStreamInfo;
T.prototype.getQualityLevel=T.prototype.getQualityLevel;T.prototype.isStreamEnabled=T.prototype.isStreamEnabled;T.prototype.enableStream=T.prototype.enableStream;T.prototype.getStreamCount=T.prototype.getStreamCount;T.prototype.getDefaultAudioStreamIndex=T.prototype.getDefaultAudioStreamIndex;var ui=C("cast.player.comon.StreamingProtocolBase");var U=function(a){this.name=a;this.Bj=!1};U.prototype.parse=function(){this.Bj=!0};var wi=function(a){U.call(this,a);this.value=null};q(wi,U);wi.prototype.parse=function(a){U.prototype.parse.call(this,a);t(a)&&-1<a.indexOf("/")?(a=a.split("/"),this.value=parseInt(a[0],10)/(1<a.length?parseInt(a[1],10):1)):this.value=parseInt(a,10)};var V=function(a,b){U.call(this,a);this.value=b||null};q(V,U);V.prototype.parse=function(a){U.prototype.parse.call(this,a);this.value=a};
var xi=function(a){U.call(this,a);this.value=null};q(xi,U);xi.prototype.parse=function(a){U.prototype.parse.call(this,a);this.value="true"==a.toLowerCase()};var yi=function(a){U.call(this,a);this.value=null};q(yi,U);
yi.prototype.parse=function(a){U.prototype.parse.call(this,a);if(a=a.match(ee)){var b=!(a[6]||a[7]||a[8]);if(b&&!(a[2]||a[3]||a[4])||b&&a[5])a=null;else{b=parseInt(a[2],10)||0;var c=parseInt(a[3],10)||0,d=parseInt(a[4],10)||0,e=parseInt(a[6],10)||0,f=parseInt(a[7],10)||0,g=parseFloat(a[8])||0;a=a[1]?new fe(-b,-c,-d,-e,-f,-g):new fe(b,c,d,e,f,g)}}else a=null;this.value=60*(60*(24*a.nc+a.tc)+a.zc)+a.Fc};var zi=function(a){U.call(this,a);this.value=null};q(zi,U);
zi.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.toUpperCase();for(var b in Ai)if(Ai.hasOwnProperty(b)&&a.includes(Ai[b])){this.value=Ai[b];break}};var Ai={PLAYREADY:"9A04F079-9840-4286-AB92-E65BE0885F95",WIDEVINE:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",CLEARKEY:"1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B",Mk:"URN:MPEG:DASH:MP4PROTECTION:2011"},Bi=function(a){U.call(this,a);this.value=null};q(Bi,U);
Bi.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.toUpperCase();a.includes("9A04F079-9840-4286-AB92-E65BE0885F95")?this.value=Ef:a.includes("EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED")?this.value=Ff:a.includes("1077EFEC-C0B2-4D02-ACE3-3C1E52E2FB4B")&&(this.value=Gf)};var Ci=function(a,b){for(var c in b)if(b.hasOwnProperty(c)&&b[c]instanceof U){var d=b[c];if(!d.Bj){var e=a.getNamedItem(d.name);e&&d.parse(e.value)}}};var Ei=function(a){this.duration=new yi("mediaPresentationDuration");this.type=new V("type");this.Ik=new yi("minimumUpdatePeriod");for(this.url=null;a;){if("MPD"==a.nodeName){Ci(a.attributes,this);break}a=a.nextElementSibling}this.Vd=[];if(a){for(var b=m(a.children),c=b.next();!c.done;c=b.next())if(c=c.value,"BaseURL"==c.nodeName){this.url=c.textContent;break}a=m(a.children);for(c=a.next();!c.done;c=a.next())b=c.value,"Period"==b.nodeName&&this.Vd.push(new Di(b,this))}},Fi=function(a){U.call(this,
a);this.end=this.start=null};q(Fi,U);Fi.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.split("-");this.start=parseInt(a[0],10);this.end=parseInt(a[1],10)};
var Gi=function(a){this.media=new V("media");Ci(a.attributes,this)},Hi=function(a){this.Ak=new V("sourceURL");this.za=new Fi("range");Ci(a.attributes,this)},Ii=function(a){this.duration=new wi("duration");this.Na=new wi("timescale");this.T=new V("presentationTimeOffset");this.I=new wi("startNumber");this.Vc=new Fi("indexRange");Ci(a.attributes,this);this.md=this.ye=null;a=m(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "Initialization":this.ye=new Hi(b);break;
case "SegmentTimeline":this.md=[];b=m(b.children);for(var c=b.next();!c.done;c=b.next()){var d=c.value;c=0;var e=d.attributes.getNamedItem("r");e&&(c=parseInt(e.value,10));e=(e=d.attributes.getNamedItem("t"))?new rg(e.value):null;if(d=d.attributes.getNamedItem("d"))for(d=parseInt(d.value,10),this.md.push({time:e,duration:d}),e=0;e<c;e++)this.md.push({time:null,duration:d})}}};
Ii.prototype.Wa=function(a){null===a.duration.value&&(a.duration=this.duration);null===a.Na.value&&(a.Na=this.Na);null===a.T.value&&(a.T=this.T);null===a.I.value&&(a.I=this.I);null===a.Vc.start&&(a.Vc=this.Vc);null===a.ye&&(a.ye=this.ye);null===a.md&&(a.md=this.md)};var Ji=function(a){Ii.call(this,a);this.c=[];a=m(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "SegmentURL":this.c.push(new Gi(b))}};q(Ji,Ii);
Ji.prototype.Wa=function(a){Ii.prototype.Wa.call(this,a);0==a.c.length&&(a.c=this.c)};var Ki=function(a){Ii.call(this,a);this.media=new V("media");this.na=new V("initialization");Ci(a.attributes,this)};q(Ki,Ii);Ki.prototype.Wa=function(a){Ii.prototype.Wa.call(this,a);null===a.media.value&&(a.media=this.media);null===a.na.value&&(a.na=this.na)};
var Mi=function(a){this.km=new zi("schemeIdUri");Ci(a.attributes,this);var b=this.km.value;this.Ye=Li(b,a);this.sc=b==Ai.Mk},Li=function(a,b){switch(a){case Ai.PLAYREADY:a=m(b.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "mspr:pro":return oi(Da(window.atob(b.childNodes[0].nodeValue.trim())));case "cenc:pssh":return a=Da(window.atob(b.childNodes[0].nodeValue)),a=new Ng(a),oi(a.getData())}return Ni(Ef);case Ai.WIDEVINE:return Ni(Ff);case Ai.CLEARKEY:return Ni(Gf);default:return null}},
Ni=function(a){return{systemId:a,ue:null,He:null,url:null,ag:0}},Oi=function(a){this.$e=[];this.sc=!1;this.Xb=this.D=this.Yb=this.url=null;a=m(a.children);for(var b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "BaseURL":this.url=b.textContent;break;case "ContentProtection":b=new Mi(b);b.Ye&&this.$e.push(b.Ye);this.sc=this.sc||b.sc;break;case "SegmentBase":this.Xb=new Ii(b);break;case "SegmentTemplate":this.D=new Ki(b);break;case "SegmentList":this.Yb=new Ji(b)}};
Oi.prototype.Wa=function(a){a.D?this.D&&this.D.Wa(a.D):a.D=this.D;a.Xb?this.Xb&&this.Xb.Wa(a.Xb):a.Xb=this.Xb;a.Yb?this.Yb&&this.Yb.Wa(a.Yb):a.Yb=this.Yb;if(a.url&&this.url){var b=this.url;var c=a.url;b instanceof J||(b=xe(b));c instanceof J||(c=xe(c));b=b.resolve(c).toString()}else b=a.url||this.url;a.url=b;0==a.$e.length&&(a.$e=this.$e);a.sc=a.sc||this.sc};var Pi=function(a){Oi.call(this,a);this.id=new V("id");this.mimeType=new V("mimeType");this.codecs=new V("codecs");Ci(a.attributes,this)};
q(Pi,Oi);Pi.prototype.Wa=function(a){Oi.prototype.Wa.call(this,a);a.mimeType.value=a.mimeType.value||this.mimeType.value;a.codecs.value=a.codecs.value||this.codecs.value};
var Qi=function(a,b){Pi.call(this,a);this.Tk=new wi("bandwidth");this.height=new wi("height");this.width=new wi("width");Ci(a.attributes,this);b.Wa(this);if(this.mimeType.value)switch(this.mimeType.value.toLowerCase()){case "application/ttml+xml":this.codecs.value="ttml";this.mimeType.value="text/mp4";break;case "text/vtt":this.codecs.value="webvtt"}"avc1"==this.codecs.value&&(this.codecs.value="avc1.4D401E")};q(Qi,Pi);
var Ri=function(a,b){Pi.call(this,a);this.language=new V("lang");this.frameRate=new wi("frameRate");Ci(a.attributes,this);this.role=null;b.Wa(this);this.A=[];a=m(a.children);for(b=a.next();!b.done;b=a.next())b=b.value,"Representation"==b.nodeName?this.A.push(new Qi(b,this)):"Role"==b.nodeName&&(this.role=b.getAttribute("value"))};q(Ri,Pi);
var Di=function(a,b){Oi.call(this,a);this.duration=new yi("duration");this.start=new yi("start");Ci(a.attributes,this);this.url=this.url||b.url;this.h=[];a=m(a.children);for(b=a.next();!b.done;b=a.next())switch(b=b.value,b.nodeName){case "AdaptationSet":this.h.push(new Ri(b,this))}};q(Di,Oi);var Si=function(a){T.call(this,a);this.af=new Nc(5);this.Bg=!1;this.gd=[];this.dj=[]};q(Si,T);Si.prototype.updateLicenseRequestInfo=function(a){var b=this.af.get(a.protectionSystem);b&&(a.headers={},a.headers["content-type"]="text/xml;charset=utf-8",a.url=b.url)};
Si.prototype.Yh=function(a){if(a.Vd&&0!=a.Vd.length){vi(this,"dynamic"==a.type.value);this.Ci=!!this.O&&x(a.Ik.value);a.duration.value&&(this.duration=a.duration.value);a:{var b=a.Vd;var c=b[0];if(c.h[0].D){var d=[],e=[];b=m(b);for(var f=b.next();!f.done;f=b.next()){f=f.value;for(var g=f.duration.value,k=0,l=[],n=m(f.h),p=n.next();!p.done;p=n.next()){var u=p.value;p=u.D;if(!p){F(Ti,"Multiple periods not using SegmentTemplate is not supported");c=[{start:c.start.value,duration:c.duration.value,Re:null}];
break a}u=this.uri.resolve(new J(u.A[0].url)).toString();var v=new J(u);e[k]=e[k]||0;u=e[k];var z={Aa:0,T:0,c:[],url:null,D:null,I:null,vb:null};Ui(v,p,z);p=Vi(v,p);p={I:z.I,T:z.T,xj:u,D:p};l.push(p);e[k]+=Math.round(g/p.D.duration);k++}d.push({start:f.start.value,duration:f.duration.value,Re:l})}c=d}else c=[{start:c.start.value,duration:c.duration.value,Re:null}]}this.gd=c;a=m(a.Vd[0].h);for(c=a.next();!c.done;c=a.next()){d=c.value;e=d.A;c=e[0].mimeType.value;e=d.codecs.value||e[0].codecs.value||
"";if(null===c){this.host.R(422,void 0,"No mime type in manifest",Ti);break}if(Ed(c))b=1;else if(Fd(c))b=2;else if(Bf(d.role,c,e))b=3;else continue;c={name:d.id.value,type:b,enabled:!1,Xa:!1,Z:!0,index:-1,W:-1,A:[],language:d.language.value,mimeType:c,codecs:e,role:d.role};d=m(d.A);for(e=d.next();!e.done;e=d.next()){e=e.value;b=m(e.$e);for(f=b.next();!f.done;f=b.next())f=f.value,(g=Wi(f.systemId))&&this.af.set(g,f);e.sc&&(this.Bg=!0);f=this.uri.resolve(new J(e.url)).toString();b={Aa:e.Tk.value||0,
id:e.id.value,T:0,c:[],url:f,I:null,D:null,vb:null};e.Xb||e.Yb||e.D?(e.url&&"/"!=f[f.length-1]&&(f+="/"),f=new J(f),Ui(f,e.Xb,b),(g=e.Yb)&&Ui(f,g,b),e=e.D,g=b,e&&(Ui(f,e,g),g.D=Vi(f,e))):(e=f,f=this.duration,b.c.push({time:0,Vb:new rg("0"),duration:f,url:e}));c.A.push(b)}c.Xa=!0;this.h.push(c)}}else this.host.R(421,void 0,"No periods found in manifest",Ti)};
var Xi=function(a){if(Of&&Of.updateOutputMode){var b=a.frameRate.value;if(x(b)){a=m(a.A);for(var c=a.next();!c.done;c=a.next()){var d=c.value;c=d.width.value;var e=d.height.value;if(x(c)&&x(e)&&2160<=e){a=d.codecs.value;G(Ti,"Update output mode with frameRate="+b+" codecs="+a);Of.updateOutputMode(c,e,b,a);break}}}}},Yi=function(a){a=m(a.Vd);for(var b=a.next();!b.done;b=a.next()){var c={};b=m(b.value.h);for(var d=b.next();!d.done;c={Xg:c.Xg},d=b.next())d=d.value,c.Xg=d.frameRate.value,d.A=d.A.filter(function(a){return function(b){var c=
a.Xg;if(Pf){var d=b.codecs.value;var e=b.mimeType.value;var f=b.width.value;b=b.height.value;if(x(f)&&x(b)&&2160<=b&&d&&e){e=e+"; codecs="+Nf(d);f&&b&&(e+="; width="+f+"; height="+b);x(c)&&(e+="; framerate="+c);b:{c=!1;d=d.split(",");for(f=0;f<d.length;f++){if(d[f].match(Hd)){d=!1;break b}0===d[f].indexOf("hev1.2")&&(c=!0)}d=c}d&&(e+="; eotf=smpte2084");d=Pf(e);G(Ti,"canDisplay("+e+"): "+!!d);e=d}else e=!0}else e=!0;return e}}(c)),Xi(d)}};h=Si.prototype;h.pi=function(){this.host.R(321,li(this.bd))};
h.Ab=function(a){this.host.R(420,void 0,a,Ti)};h.li=function(a){a=(new DOMParser).parseFromString(a,"text/xml");a.firstChild&&(a=new Ei(a.firstChild),this.oi=1E3*a.Ik.value||this.oi,Yi(a),this.Yh(a))};h.Ki=function(){this.Bg||this.Dc.Ne(this.af.Ja())};h.Ea=function(a){var b=this.h[a];b=b.A[b.W];return 0==b.c.length&&b.D?(a=this.duration,this.O&&(a-=20),{start:0,end:a}):T.prototype.Ea.call(this,a)};var $i=function(a,b,c){c=Zi(a,b,c);a.dj[b]!=c&&(a.h[b].Z=!0);a.dj[b]=c};
Si.prototype.seek=function(a,b){var c=this.h[a],d=c.A[c.W];if(0==d.c.length&&d.D){var e=this.Ea(a);b<e.start&&(b=e.start);b>e.end&&(b=e.end);e=Math.floor(b/d.D.duration);d=Math.ceil(this.duration/d.D.duration);c.index=e<d?e:d-1;$i(this,a,c.index);return b}return T.prototype.seek.call(this,a,b)};
Si.prototype.wc=function(a){var b=this.h[a],c=b.A[b.W];if(0==c.c.length&&c.D){var d=b.index+1;return d<Math.ceil(this.duration/c.D.duration)?(b.index=d,$i(this,a,b.index),!0):!1}return T.prototype.wc.call(this,a)};var Zi=function(a,b,c){a=a.gd;for(var d=0;d<a.length-1&&!(c<a[d+1].Re[b].xj);d++);return d};h=Si.prototype;h.Pb=function(a){var b=this.h[a],c=b.A[b.W];return 0==c.c.length&&c.D?b.index==Math.ceil(this.duration/c.D.duration)-1:T.prototype.Pb.call(this,a)};
h.getSegmentInterval=function(a){if(this.Pd(a))return{time:0,duration:0};var b=this.h[a],c=b.A[b.W];if(c.D){b=b.index;if(0>b)return{time:0,duration:0};0<c.c.length?(a=c.c[b].duration,c=c.c[b].time-c.T):(a=c.D.duration,c=b*a);return{time:c,duration:a}}return T.prototype.getSegmentInterval.call(this,a)};
h.updateSegmentRequestInfo=function(a,b){T.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.h[a],d=c.A[c.W];c=c.index;var e=this.Pd(a);if(d.D){var f=d.D,g=null;1<this.gd.length&&(g=this.gd[Zi(this,a,c)].Re[a],f=g.D);a=e?f.na:f.url;a=a.replace(/\$RepresentationID\$/g,d.id);a=a.replace(/\$Bandwidth\$/g,d.Aa.toString());e||(e=c+(d.I||0),1<this.gd.length&&(e=c+(g.I||0)-g.xj),a=aj(a,e),a=a.replace("$Time$",0<d.c.length?d.c[c].Vb.toString():(c*f.duration).toString()));b.url=a}else{g=f=null;
if(e)c=d.vb,d=c.url?c.url:d.url,c.za&&(f=c.za.start,g=c.za.end);else if(c<d.c.length)c=d.c[c],c.url?d=c.url:(d=d.url,f=c.offset,g=c.offset+c.size-1);else{this.host.R(423,void 0,"Invalid segment info in manifest.",Ti);return}b.url=d;b.headers={};null===f||null===g||(b.headers.Range="bytes="+f+"-"+g)}};
h.processSegment=function(a,b,c){var d=this.h[a],e=d.A[d.W],f=b.data;if(this.Bg&&this.Dc){var g=Q(f,1886614376,void 0,!0);if(g=null===g?null:{systemId:g.Fi,url:null,ue:null,He:null,ag:0}){var k=Wi(g.systemId);k&&(this.af.set(k,g),this.Dc.Ne(this.af.Ja()),this.Bg=!1)}}if(b.Wc)if(d=(d=Q(f,1836019574))?Dg(d):null,null===d)this.host.R(322,void 0,"no init",Ti);else{if(!e.D&&0==e.c.length){a=0;b.Wc&&e.vb&&e.vb.za&&(a=e.vb.za.start);f=(f=Q(f,1936286840))?f.zh(a):null;if(!f){F(Ti,"no segments");return}e.c=
f}Th(c,d,{time:b.interval.time,duration:0},0,!1)}else g=b.interval,e=e.T,1<this.gd.length&&(e=this.gd[Zi(this,a,d.index)],e=e.Re[a].T-e.start),this.host.processMetadata&&(a=b.data,Q(a,1701671783,void 0,!0)&&this.host.processMetadata("EMSG",a,b.interval.time)),Th(c,f,g,g.time+e,d.Z),d.Z=!1};h.Kf=function(){return 1};
var Wi=function(a){return Ef.Lb(a)?"playready":Ff.Lb(a)?"widevine":Gf.Lb(a)?"clearkey":null},Ui=function(a,b,c){if(b){null!==b.I.value&&(c.I=b.I.value);var d=b.Na.value||1,e=new rg(b.T.value||"0");c.T=parseInt(e.toString(),10)/d;e=new rg(e.toString());var f=b.c,g=b.md,k=0;g?k=g.length:f&&0<f.length&&(k=f.length);for(var l=0;l<k;l++){var n=g?g[l].duration:b.duration.value||0;g&&g[l].time&&(e=new rg(g[l].time.toString()));var p=parseInt(e.toString(),10)/d,u=new rg(e.toString());if(!f||0>=f.length)var v=
null;else{v=f[l].media.value;var z=a.resolve(new J(v)).toString();v=!v&&z.endsWith("/")?z.slice(0,-1):z}c.c.push({time:p,Vb:u,duration:n/d,url:v});e.add(n)}(d=c.vb)||(f=e=d=null,g=!0,(k=b.ye)&&k.Ak.value?(g=!1,d=k.Ak.value,k.za.start&&k.za.end&&(e=k.za.start,f=k.za.end)):(e=0,k&&k.za.start&&k.za.end&&(e=k.za.start,f=k.za.end,g=!1),b.Vc.start&&b.Vc.end&&(e=Math.min(e,b.Vc.start),f=Math.max(f,b.Vc.end),g=!1),f||(f=2048)),d=g?null:{url:d?a.resolve(new J(d)).toString():null,za:null===e||null===f?null:
{start:e,end:f},data:null});c.vb=d}},Vi=function(a,b){return{duration:(b.duration.value||0)/(b.Na.value||1),url:a.resolve(new J(b.media.value)).toString(),na:b.na.value?a.resolve(new J(b.na.value)).toString():null}},aj=function(a,b){return a.replace(/\$Number(%0\d*[diuxXo]){0,1}\$/g,function(a){var c=a.indexOf("%0");if(0>c)return b;c=parseInt(a.substring(c+2,a.length-2),10);switch(a.substr(a.length-2,1)){case "x":return Jf(b,16,c);case "X":return Jf(b,16,c).toUpperCase();case "o":return Jf(b,8,c);
default:return Jf(b,10,c)}})},Ti=C("cast.player.dash.Protocol");var bj=function(a){this.dg=a;this.we=null;this.Gi=this.Nc=0},cj=function(a,b){b=b.length>a.Nc?b.subarray(0,a.Nc):b;N(a.we,b);a.Nc-=b.length};
bj.prototype.append=function(a,b,c,d){b=b.subarray(c,d);if(this.we)return cj(this,b),0==this.Nc&&(this.dg&&this.dg("ID3",vg(this.we),this.Gi),this.Nc=this.Gi=this.we=null),0;c=0;73!=b[c++]||68!=b[c++]||51!=b[c++]?c=null:(c+=3,d=b[c++]<<21|b[c++]<<14|b[c++]<<7|b[c++],c+=d);if(null===c)return 0;if(c<=b.length)return this.dg&&this.dg("ID3",b.subarray(0,c),a),c;this.we=new ug(c);this.Gi=a;this.Nc=c;cj(this,b);return 0};var dj=function(){this.o=null;this.Fd=this.jd=this.uj=this.Yg=this.Lf=this.Te=this.C=0};dj.prototype.ya=function(){return null===this.o};dj.prototype.Kh=function(){return this.C>=this.o.length};dj.prototype.na=function(a){this.o=a;this.Fd=this.jd=this.Yg=this.Lf=this.Te=this.C=0};
dj.prototype.parse=function(){for(var a=this.C;this.C<this.o.length&&!(524288<this.C-a);){for(;this.C<this.o.length&&71!=this.o[this.C];)this.C++;if(this.C+188>this.o.length)break;var b=this.C+188,c=b-1;this.C++;var d=this.o[this.C]&64,e=this.o[this.C]&31;this.C++;e=e<<8|this.o[this.C];this.C++;var f=(this.o[this.C]&48)>>4;this.C++;f&2&&(this.C+=this.o[this.C]+1);if(0==e||e==this.Te)if(d&&this.C++,c=this.o[this.C],this.C++,0==c)for(c=this.C,d=this.o[c]&15,c++,d=d<<8|this.o[c],c++,d=c+d-4,c+=5;c<d;)if(e=
this.o[c],c++,e=(e<<8)+this.o[c],c++,0==e)c+=2;else{this.Te=this.o[c]&31;c++;this.Te=(this.Te<<8)+this.o[c];break}else{if(2==c)for(c=this.C,d=this.o[c]&15,c++,d=d<<8|this.o[c],c++,d=c+d-4,c=c+5+2,e=this.o[c]&15,c++,e=e<<8|this.o[c],c+=e+1;c<d;){e=this.o[c];c++;f=this.o[c]&31;c++;f=f<<8|this.o[c];c++;switch(e){case 27:case 219:this.Lf=f;break;case 15:case 207:this.Yg=f;break;case 21:this.uj=f}e=this.o[c]&15;c++;e=e<<8|this.o[c];c+=e+1}}else if(e==this.uj)this.hk(this.C,c,!!d);else if(e==this.Lf||e==
this.Yg)d&&this.mi(this.C),e==this.Lf&&this.gk(this.C,c);this.C=b}};var ej=function(a,b){var c=((a.o[b]&14)<<13)/1.373291015625;c+=(a.o[b+1]<<6)/1.373291015625;c+=(a.o[b+2]&254)/5.4931640625;c+=a.o[b+3]/703.125;return c+=(a.o[b+4]&254)/18E4};dj.prototype.mi=function(a){if(0==this.o[a]&&0==this.o[a+1]&&1==this.o[a+2]){a+=7;var b=this.o[a]>>6&3;a++;var c=this.o[a];a++;this.C=a+c;2==b?this.Fd=this.jd=ej(this,a):3==b&&(this.jd=ej(this,a),this.Fd=ej(this,a+5))}};dj.prototype.hk=function(){};
dj.prototype.gk=function(){};var fj=function(a,b,c){dj.call(this);this.kb=null;this.Rf=b?new bj(b):null;this.Xh=Infinity;this.rm=c;for(this.na(a);!this.Kh();)this.parse()};q(fj,dj);fj.prototype.re=function(){return this.Xh};fj.prototype.mi=function(a){dj.prototype.mi.call(this,a);null===this.kb&&(this.kb=this.Fd);a=gj(this.kb,this.Fd);a<this.Xh&&(this.Xh=a)};
fj.prototype.hk=function(a,b,c){if(this.Rf){a=new ag(this.o.subarray(a,b+1));if(c){if(1!=L(a)>>8)return;M(a,2);M(a,2);c=bg(a);M(a,c)}null===this.kb&&(this.kb=this.Fd);this.Rf.append(this.rm+(gj(this.kb,this.jd)-this.kb),gg(a),0)}};var gj=function(a,b){var c=Math.floor(a/95443.7176888889),d=95443.7176888889*(c-1)+b,e=95443.7176888889*(c+0)+b;b=95443.7176888889*(c+1)+b;c=Math.abs(d-a);var f=Math.abs(e-a);a=Math.abs(b-a);var g=c;f<c&&(d=e,g=f);a<g&&(d=b);return d};var W=function(a,b){this.Wk=a;this.ee=b?b:null;this.b=null};W.prototype.j=function(a){var b=vg(a).length;this.b=a;this.Oi();this.B();a=vg(a).length-b;this.b.buffer.set([a>>24,a>>16,a>>8,a],b)};W.prototype.Oi=function(){this.b.i(0);this.b.i(this.Wk);this.ee&&N(this.b,this.ee.qd())};W.prototype.B=function(){throw Error("writeBody() should be  overriden.");};var X=function(a,b,c){W.call(this,a);this.xa=b;this.qc=c};q(X,W);
X.prototype.Oi=function(){W.prototype.Oi.call(this);this.b.i(this.xa<<24|this.qc&16777215)};var hj=function(a){X.call(this,1935763823,0,0);this.C=a};q(hj,X);hj.prototype.B=function(){this.b.i(1);this.b.i(this.C)};var ij=function(a){X.call(this,1952867444,1,0);this.ke=a};q(ij,X);ij.prototype.B=function(){this.b.Pi(this.ke)};var jj=function(a,b){X.call(this,1935763834,0,0);this.ij=a;this.tk=b};q(jj,X);jj.prototype.B=function(){this.b.Tg(this.ij);this.b.i(this.tk.length);0==this.ij&&N(this.b,this.tk)};
var kj=function(a,b){X.call(this,1702061171,0,0);this.Ml=a;this.le=b};q(kj,X);kj.prototype.B=function(){N(this.b,[3,25,0,1,0,4,17,this.Ml,21,0,0,0,0,0,0,0,0,0,0,0,5,2,this.le[0],this.le[1]])};var lj=function(a,b){W.call(this,1635148611);this.Bk=a;this.jk=b};q(lj,W);lj.prototype.B=function(){N(this.b,[1,77,64,30,255,225]);this.b.ud(this.Bk.length);N(this.b,this.Bk);this.b.Tg(1);this.b.ud(this.jk.length);N(this.b,this.jk)};var mj=function(){X.call(this,1937011571,0,0)};q(mj,X);mj.prototype.B=function(){this.b.i(0)};
var nj=function(a,b,c){X.call(this,1952804451,0,1);this.ll=c?0:a;this.kl=b;this.hj=c};q(nj,X);nj.prototype.B=function(){this.b.i(256|this.ll);N(this.b,this.kl.qd());this.hj&&(this.b.Tg(16),N(this.b,this.hj))};var oj=function(a){X.call(this,1936027235,0,2);this.ti=a};q(oj,X);oj.prototype.B=function(){this.b.i(this.ti.length);for(var a=0;a<this.ti.length;a++){var b=this.ti[a].Ck;this.b.ud(b.length);for(var c=0;c<b.length;c++){var d=b[c];this.b.ud(d.dh);this.b.i(d.eh)}}};
var pj=function(a,b){X.call(this,1935894637,0,0);this.lm=a;this.mm=b};q(pj,X);pj.prototype.B=function(){this.b.i(this.lm);this.b.i(this.mm)};var qj=function(a){W.call(this,1718775137);this.hl=a};q(qj,W);qj.prototype.B=function(){this.b.i(this.hl)};var rj=function(a){X.call(this,1751411826,0,0);this.vl=a};q(rj,X);rj.prototype.B=function(){this.b.i(0);this.b.i(this.vl);N(this.b,[0,0,0,0,0,0,0,0,0,0,0,0])};var sj=function(a){X.call(this,1835296868,0,0);this.ab=a};q(sj,X);
sj.prototype.B=function(){this.b.i(0);this.b.i(0);this.b.i(this.ab);this.b.i(0);N(this.b,[85,196,0,0])};var tj=function(a,b){X.call(this,1953196132,0,3);this.zm=a;this.wl=b};q(tj,X);tj.prototype.B=function(){this.b.i(0);this.b.i(0);N(this.b,[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0]);this.b.i(this.zm<<16);this.b.i(this.wl<<16)};var uj=function(a){X.call(this,1953654136,0,0);this.Al=a};q(uj,X);
uj.prototype.B=function(){var a=65536;this.Al&&(a&=-65537);N(this.b,[0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0]);this.b.i(a)};var vj=function(a,b){X.call(this,1886614376,0,0);this.Fi=a;this.ub=b};q(vj,X);vj.prototype.B=function(){N(this.b,this.Fi.qd());this.b.i(this.ub.length);N(this.b,this.ub)};var wj=function(a){X.call(this,1836476516,0,0);this.ab=a};q(wj,X);
wj.prototype.B=function(){this.b.i(0);this.b.i(0);this.b.i(this.ab);N(this.b,[0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2])};var xj=function(a){X.call(this,1952868452,0,8);this.oc=a};q(xj,X);xj.prototype.B=function(){this.b.i(1);this.b.i(this.oc)};var yj=function(a){X.call(this,1953658222,0,513);this.vi=a};q(yj,X);
yj.prototype.B=function(){this.b.i(this.vi.length);this.b.i(0);for(var a=0;a<this.vi.length;a++)this.b.i(this.vi[a].length)};var zj=function(a){X.call(this,1835427940,0,0);this.Gc=a};q(zj,X);zj.prototype.B=function(){this.b.i(this.Gc)};var Aj=function(a){W.call(this,1835295092);this.ej=a};q(Aj,W);Aj.prototype.B=function(){for(var a=0;a<this.ej.length;a++)N(this.b,this.ej[a])};var Cj=function(a){var b=new Uint8Array(2+a.length);b[1]=1;Da(a,b,2);vj.call(this,Bj,b)};q(Cj,vj);
var Bj=new Df([43,248,102,128,198,229,78,36,190,35,15,129,90,96,110,178]);var Ej=function(a,b){var c=new wg;(new vj(Ff,Dj(a,b))).j(c);return vg(c)},Dj=function(a,b){var c=new jf;bf(c,1,1);var d=Kf(a.Fe);Ye(c,2).push(d);bf(c,3,a.dm);if(a=a.bl){b&&(a=window.atob(a));b=[];for(d=0;d<a.length;d++)b.push(a.charCodeAt(d));b=new Uint8Array(b);bf(c,4,b)}bf(c,9,1667392371);return c.xg()},Fj=[71,64,1,16,0,1,176,45,255,255,193,0,0,9,34,99,101,224,16,99,98,99,115,0,1,0,0,1,0,16,1,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,143,19,198,145,164,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,71,64,17,16,127,255,255,255,0,0,0,32,112,115,115,104,0,0,0,0,237,239,139,169,121,214,74,206,163,200,39,220,213,29,33,237,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,71,64,16,48,147,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,79,16,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,1,112,213,251,214,184,46,217,62,78,249,138,228,9,49,238,51,183];var Gj=function(a,b,c){this.Ll=a;this.sampleRate=b;this.pb=c;this.Yc=void 0},Hj=function(a,b,c,d){this.width=a;this.height=b;this.od=c;this.Ue=d},Ij=function(a,b,c,d,e,f){this.zb=a;this.Kc=b;this.Zk=c;this.ul=d;this.audio=e;this.video=f},Jj=function(a){W.call(this,1836019574);this.l=a};q(Jj,W);Jj.prototype.B=function(){(new wj(this.l.Kc)).j(this.b);var a=this.l.zb;a&&a.ue&&(new vj(a.systemId,a.ue)).j(this.b);(new Kj(this.l)).j(this.b);(new Lj(this.l)).j(this.b)};
var Lj=function(a){W.call(this,1953653099);this.l=a};q(Lj,W);Lj.prototype.B=function(){var a=0,b=0,c=this.l.video;c&&(a=c.width,b=c.height);(new tj(a,b)).j(this.b);(new Mj(this.l)).j(this.b)};var Mj=function(a){W.call(this,1835297121);this.l=a};q(Mj,W);Mj.prototype.B=function(){(new sj(this.l.Kc)).j(this.b);(new rj(this.l.ul)).j(this.b);(new Nj(this.l)).j(this.b)};var Nj=function(a){W.call(this,1835626086);this.l=a};q(Nj,W);Nj.prototype.B=function(){(new Oj(this.l)).j(this.b)};
var Oj=function(a){W.call(this,1937007212);this.l=a};q(Oj,W);Oj.prototype.B=function(){(new Pj(this.l)).j(this.b);this.l.video&&(new mj).j(this.b)};var Pj=function(a){X.call(this,1937011556,0,0);this.l=a};q(Pj,X);Pj.prototype.B=function(){this.b.i(1);(this.l.video?new Qj(this.l):new Rj(this.l)).j(this.b)};var Rj=function(a){W.call(this,a.zb?1701733217:1836069985);this.l=a};q(Rj,W);
Rj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0]);this.b.i(this.l.audio.sampleRate<<16);(new kj(this.l.audio.Ll,this.l.audio.pb)).j(this.b);this.l.zb&&(new Sj(this.l)).j(this.b)};var Qj=function(a){W.call(this,a.zb?1701733238:1635148593);this.l=a};q(Qj,W);
Qj.prototype.B=function(){N(this.b,[0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);this.b.ud(this.l.video.width);this.b.ud(this.l.video.height);N(this.b,[0,72,0,0,0,72,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);(new lj(this.l.video.od,this.l.video.Ue)).j(this.b);this.l.zb&&(new Sj(this.l)).j(this.b)};var Kj=function(a){W.call(this,1836475768);this.l=a};q(Kj,W);Kj.prototype.B=function(){(new uj(!this.l.video)).j(this.b)};
var Sj=function(a){W.call(this,1936289382);this.l=a};q(Sj,W);Sj.prototype.B=function(){(new qj(this.l.Zk)).j(this.b);(new pj(this.l.zb.scheme||1667591779,0)).j(this.b);(new Tj(this.l)).j(this.b)};var Tj=function(a){W.call(this,1935894633);this.l=a};q(Tj,W);Tj.prototype.B=function(){var a=this.l.zb;a&&a.He&&(new nj(a.ag,a.He,a.$k)).j(this.b)};var Uj=function(a,b,c,d,e){Jj.call(this,new Ij(a,b,1836069985,1936684398,new Gj(c,d,e),null))};q(Uj,Jj);
var Vj=function(a,b,c,d,e,f){Jj.call(this,new Ij(a,b,1635148593,1986618469,null,new Hj(c,d,e,f)))};q(Vj,Jj);var Wj=function(a,b,c,d){W.call(this,1836019558);this.l={im:a,Uk:b,jm:c,sk:d}};q(Wj,W);Wj.prototype.B=function(){(new zj(0)).j(this.b);(new Xj(this.l)).j(this.b)};var Xj=function(a){W.call(this,1953653094);this.l=a};q(Xj,W);Xj.prototype.B=function(){this.l.sk&&(new oj(this.l.sk)).j(this.b);(new xj(this.l.im)).j(this.b);(new ij(this.l.Uk)).j(this.b);(new yj(this.l.jm)).j(this.b)};var Yj=function(a,b,c){W.call(this,1836019558);this.ke=b;this.Ul=a;this.Cg=c};q(Yj,W);
Yj.prototype.B=function(){for(var a=Tg(O(this.Ul),void 0,void 0);0<a.length;){var b=a.shift();switch(b.getName()){case 1953653094:(new Zj(b,this.ke,this.Cg)).j(this.b);break;default:b.j(this.b)}}};var Zj=function(a,b,c){W.call(this,1953653094);this.ke=b;this.Vl=a;this.Cg=c};q(Zj,W);
Zj.prototype.B=function(){for(var a=Tg(O(this.Vl),void 0,void 0),b=null,c=!1,d=!1;0<a.length;){var e=a.shift();switch(e.getName()){case 1970628964:e instanceof Hg&&(b=e);break;case 1952868452:var f=e;f.qc&32&&(this.Cg=!1);xg(O(f),0,1);e.j(this.b);break;case 1953658222:(new ak(e,this.Cg)).j(this.b);break;case 1935763823:c=!0;e.j(this.b);break;case 1935763834:d=!0;e.j(this.b);break;default:e.j(this.b)}}(new ij(this.ke)).j(this.b);b&&(d||(new jj(b.Ph?0:8,b.vg)).j(this.b),c||(new hj(0)).j(this.b))};
var ak=function(a,b){var c=a.qc,d=!1;var e=null;c&1||(d=!0,c|=1);!b||c&1024||c&4||(c|=4,e=0);b=d;X.call(this,1953658222,a.xa,c);this.nm=b;this.mj=e;this.Wl=a};q(ak,X);ak.prototype.B=function(){var a=new tg(O(this.Wl));this.b.i(L(a));this.nm&&this.b.i(0);null===this.mj||this.b.i(this.mj);N(this.b,gg(a))};var bk=function(a,b,c){ag.call(this,a);this.Rf=new bj(b);this.Ff=c};q(bk,ag);bk.prototype.sg=function(){throw Error("readAudioHeader is not implemented");};var ck=function(a,b,c,d,e,f,g,k){this.Ti=a;this.Cf=c;this.kb=d;this.Wh=f;this.Ff=g;this.il=k;this.pe=[];this.sampleRate=0;this.wg=e;this.le=new Uint8Array([0,0])};
ck.prototype.parse=function(a){for(var b=this.Bf(this.Cf),c=[],d=null;b.offset<b.buffer.length;){var e=b.Rf.append(a,b.buffer,b.offset);b.offset+=e;if(!e)if(d=b.sg())d.vk&&(this.wg=d.vk),c.push(fg(b,d.xh)),a+=this.wg/d.sampleRate;else return Fc(dk,"Neither ID3 nor ADTS header was found at "+gg(b).byteOffset),!1}if(null===d)return Fc(dk,"No ADTS header was found."),!1;b=Ag(d.profile,d.sampleRate,d.Zh);if(null===b)return Fc(dk,"Cannot generate audio codec private data."),!1;this.pe=c;this.sampleRate=
d.sampleRate;this.le=b;return!0};ck.prototype.Bf=function(){throw Error("createdataReader is not implemented");};ck.prototype.re=function(){return this.kb};ck.prototype.Kd=function(){throw Error("getTimeScale is not implemented");};var dk=C("cast.player.hls.PackedAudioParser");var ek=function(a,b){bk.call(this,a,b)};q(ek,bk);ek.prototype.sg=function(){var a=this.buffer.subarray(this.offset);if(255!=a[0]||240!=(a[1]&240))return null;var b=((a[3]&3)<<11)+(a[4]<<3)+((a[5]&224)>>5),c=a[2]>>2&15,d=a[1]&1?7:9;this.offset+=d;return{profile:(a[2]>>6&3)+1,sampleRate:yg[c],Zh:(a[2]<<2&4)+(a[3]>>6&3),xh:b-d}};var fk=function(a,b,c,d,e,f){var g=a.match("mp4a.67")?103:64;ck.call(this,g,a,b,c,1024,d,e,f)};q(fk,ck);fk.prototype.Bf=function(a){return new ek(a,this.Wh)};
fk.prototype.Kd=function(){return 1E6};var gk=[48E3,44100,32E3],hk=[[64,69,96],[64,70,96],[80,87,120],[80,88,120],[96,104,144],[96,105,144],[112,121,168],[112,122,168],[128,139,192],[128,140,192],[160,174,240],[160,175,240],[192,208,288],[192,209,288],[224,243,336],[224,244,336],[256,278,384],[256,279,384],[320,348,480],[320,349,480],[384,417,576],[384,418,576],[448,487,672],[448,488,672],[512,557,768],[512,558,768],[640,696,960],[640,697,960],[768,835,1152],[768,836,1152],[896,975,1344],[896,976,1344],[1024,1114,1536],[1024,1115,1536],
[1152,1253,1728],[1152,1254,1728],[1280,1393,1920],[1280,1394,1920]],ik=function(a,b,c){bk.call(this,a,b,c)};q(ik,bk);ik.prototype.sg=function(){var a=this.buffer.subarray(this.offset),b=0;if(11!=a[b++]||119!=a[b++])return null;b+=2;var c=a[b++];b=c>>6&3;c=hk[c&63];return t(c)?{profile:(a[2]>>6&3)+1,sampleRate:gk[b],Zh:6,xh:2*c[b]}:(this.Ff(316),null)};var jk=function(a,b,c,d,e,f){ck.call(this,165,a,b,c,1536,d,e,f)};q(jk,ck);jk.prototype.Bf=function(a){return new ik(a,this.Wh,this.Ff)};
jk.prototype.Kd=function(){return this.sampleRate};var kk=function(a,b){this.a=a;this.Hh=!1;this.gh=b;this.fi=this.Rl.bind(this);this.di=this.Rd.bind(this)};kk.prototype.cancel=function(){this.Hh=!0};kk.prototype.Rd=function(a){if(!this.Hh){var b=void 0;a&&a.name&&a.message&&(b=a.name+": "+a.message);this.a.R(203,void 0,b)}};kk.prototype.Rl=function(a){this.Hh||this.gh(a)};var lk=function(a,b,c,d,e){kk.call(this,a,b);window.crypto.subtle.decrypt({name:"AES-CBC",iv:d},c,e).then(this.fi,this.di)};q(lk,kk);var mk=[1,2,3,6],nk=C("cast.player.hls.Eac3Reader"),ok=function(a){bk.apply(this,arguments)};q(ok,bk);ok.prototype.sg=function(){var a=this.buffer.subarray(this.offset);if(11!=a[0]||119!=a[1])return null;var b=a[2]<<8&1792|a[3],c=a[4]>>6&3;3===c?(c=a[4]>>4&3,a=3,c=3>c?gk[c]/2:void 0):(a=a[4]>>4&3,c=gk[c]);return t(c)?{profile:0,sampleRate:c,vk:256*mk[a],Zh:6,xh:2*(b+1)}:(Fc(nk,"Cannot determine sample rate."),null)};var pk=function(a,b,c,d,e,f){ck.call(this,166,a,b,c,256,d,e,f)};q(pk,ck);pk.prototype.Bf=function(a){return new ok(a,this.Wh,this.Ff)};pk.prototype.Kd=function(){return this.sampleRate};var qk=function(a,b,c){kk.call(this,a,b);window.crypto.subtle.importKey("raw",c,{name:"AES-CBC"},!0,["decrypt"]).then(this.fi,this.di)};q(qk,kk);var rk=function(a){this.Ra=-1;this.m=null;this.Gl=this.Fl.bind(this);this.Xl=a};rk.prototype.Fl=function(a,b){for(var c=0,d=null,e=0;e<b.length;e++)if(null!==b[e].Cc){c=e;d=b[e].Cc;break}if(null===d)return null;b=-1;e=Infinity;for(var f=0;f<a.length;f++){var g=Math.abs(a[f].Cc-d);if(100>g)return f-c;g<e&&(b=f,e=g)}return 0>b||e>500*this.m.Fg?-1:b-c};var sk=function(a,b){b=b[0].yi;for(var c=0;c<a.length;c++)if(a[c].yi==b)return c;return null};h=rk.prototype;
h.update=function(a,b){b=void 0===b?!1:b;if(0>this.Ra)this.m=a;else if(0==a.c.length)F(tk,"new manifest has no segment");else{var c=this.m.c,d=c[this.Ra],e=a.c,f={Id:sk,Mj:"sequence number"};var g={Id:this.Gl,Mj:"program date time"};g=this.m.Ah&&a.Ah?this.Xl?[f,g]:[g,f]:[f];a:{f=b;f=void 0===f?!1:f;g=m(g);for(var k=g.next();!k.done;k=g.next()){k=k.value;b:{var l=this.Ra;var n=k.Id,p=f;p=void 0===p?!1:p;var u=n(c,e);if(null===u){u=n(e,c);if(null===u){l=-1;break b}u*=-1}n=l-u;!(l<u)||this.m.O&&p?n>=
e.length&&(e.length=0,Array.prototype.push.apply(e,c),n=l):(l=c[l],0<e.length&&(e[0].Df=!0),e.splice(0,0,l),n=0);l=n}if(0>l)F(tk,"No match was found using "+k.Mj);else{c=l;break a}}c=-1}!(0>c)||this.m.O&&b||(F(tk,"New segments are appended after current"),0<e.length&&(e[0].Df=!0),e.splice(0,0,d),c=0);0>c?(b=this.m.c[0],b=(this.Ra-c)*b.duration+b.Ba):b=d.Ba-e[c].Ba;e=m(e);for(d=e.next();!d.done;d=e.next())d.value.Ba+=b;this.Ra=0>c?0:c;this.m=a}};
h.next=function(){var a=this.Ra+1;return a<this.m.c.length?(this.Ra=a,!0):!1};h.Pb=function(){return!this.m.O&&this.Ra==this.m.c.length-1};h.Ea=function(){var a=this.m.c,b=a[0].Ba,c=a.length-1;a=a[c].Ba+a[c].duration;this.m.O&&(a-=3*this.m.Fg,a<b&&(a=b));return{start:b,end:a}};
h.seek=function(a){var b=this.Ea();if(!b)return null;for(var c=this.m.c,d=m(c),e=d.next();!e.done;e=d.next())e.value.Z=!1;a<b.start&&(a=b.start);a>b.end&&(a=b.end);for(b=c.length-1;0<=b;b--)if(a>=c[b].Ba)return this.Ra=b,c[this.Ra].Z=!0,a;return null};var uk=function(a){return 0>a.Ra?null:a.m.c[a.Ra]},tk=C("cast.player.hls.Iterator");var vk=function(a,b){this.Di=Q(a,1952867444,void 0,!0).re()/b};vk.prototype.re=function(){return this.Di};var wk=function(a,b,c,d){kk.call(this,a,b);cast.__platform__.crypto.unwrapKey("raw",c,d,{name:"RSA-OAEP",hash:{name:"SHA-256"}},{name:"AES-CBC",length:128},!1,["decrypt"]).then(this.fi,this.di)};q(wk,kk);var Y=function(a,b,c,d){D.call(this);this.a=a;this.J=c;this.ka=d;this.Hk=b;this.Y=null;this.fb=new rk(1==this.a.preferSequenceNumberForPlaylistMatching);this.Zj=this.Pl.bind(this);this.gj=this.jl.bind(this);this.wi=this.rg=null;this.nk=-1;this.Qe=null;this.g=new H;sd(this.g);E(this.g,"success",this.Nl,!1,this);E(this.g,"error",this.Vj,!1,this);E(this.g,"timeout",this.Vj,!1,this);this.w=new rf;this.w.setResponse=this.qj.bind(this);this.Ge=this.Ve=this.Fj=this.Rb=this.me=this.Ji=null;this.Qd=this.Me=
!1;this.de=!0;this.qa=null;this.Sk={};this.Zc=this.Ma=this.uc=null;this.yc=new Map;this.Gd=-1};q(Y,D);h=Y.prototype;h.H=function(){this.reset();this.g.K()};h.reset=function(){this.de=!0;this.uc=this.qa=this.Qe=null;this.g.abort();this.Ve&&(this.Ve.cancel(),this.Ve=null);this.me&&(this.me.cancel(),this.me=null);null===this.Ma||clearTimeout(this.Ma)};h.Pl=function(a){this.Ve=null;this.Ge=a;this.Ma=setTimeout(this.gj,0)};h.Nl=function(a){this.qj(Dd(a.target))};
h.qj=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ea(a))){a.then(function(a){xk(b,a)});return}xk(this,a)}else this.a.R(313)};var xk=function(a,b){a.Ve=a.a.Ch?new wk(a.a,a.Zj,b,a.Ji):new qk(a.a,a.Zj,b)};Y.prototype.Vj=function(){this.a.R(314,new sf(this.w.url,this.g.Sb,Bd(this.g),this.g.getAllResponseHeaders(),Dd(this.g)))};
Y.prototype.jl=function(){var a=this.Qe.info,b=this.Qe.data;a&&a.Yc&&this.Ge&&b&&(G(yk,"decrypt segment"),this.me=new lk(this.a,this.$l.bind(this,a),this.Ge,a.Yc,b),this.Ma=this.Qe=null)};Y.prototype.$l=function(a,b){this.We(a,new Uint8Array(b))};
Y.prototype.We=function(a,b){G(yk,"process segment");this.me=null;var c;if(null!=this.ka)switch(this.ka){case 0:var d=new fj(b,this.a.processMetadata,a.Ba);break;case 1:d=zk(this,a,b),a.hb&&(c=this.yc.get(a.hb))}if(null!=this.J)switch(this.J){case 2:case 6:case 1:switch(this.J){case 2:d=jk;break;case 6:d=pk;break;default:d=fk}b=new d(this.Y.S.codecs,b,a.Ba,this.a.processMetadata,this.a.R.bind(this.a),this.a.decodeContentId);var e=a.Df||a.Z;d=this.Sk;var f=a.gc||void 0,g=a.Yc||void 0,k=d.endOfLastSegment;
k=e||!t(k)?b.kb:k;if(b.parse(k)){b.kb=k;d.endOfLastSegment=k+b.wg/b.sampleRate*b.pe.length;d=new wg(2*b.Cf.length);e&&(e=null,f&&(e={systemId:Ff,url:null,ue:Dj(f,b.il),He:new Df(Kf(f.Fe),!1),$k:g,ag:g?g.length:16,scheme:1667392371}),G(dk,"Built AudioMoov with objectType(0x"+b.Ti.toString(16)+") and sampleRate("+b.sampleRate+")"),(new Uj(e,b.Kd(),b.Ti,b.sampleRate,b.le)).j(d));g=k*b.Kd();e=b.wg/b.sampleRate*b.Kd();k=b.pe;if(f){f=b.pe;for(var l=[],n=0;n<f.length;n++){var p=f[n].length;if(0==p%16)l.push({Ck:[{dh:16,
eh:p-16}]});else{var u=p%16;l.push({Ck:[{dh:16,eh:p-16-u},{dh:u,eh:0}]})}}f=l}else f=void 0;(new Wj(e,g,k,f)).j(d);(new Aj(b.pe)).j(d);d=vg(d);Rg(d)}else d=null;f=d;if(!f){this.a.R(315);return}d=b;b=f;break;case 4:break;case 7:d=zk(this,a,b);break;default:d=new fj(b,this.a.processMetadata,a.Ba)}if(a.Df||a.Z)this.qa=null,a.Z=!1;a={time:a.Ba,duration:a.duration};f=d?d.re():a.time;if(d=null===this.qa&&Infinity!=f)G(yk,"start: "+f),this.qa=4==this.J?0:f,this.uc=a,this.Hk&&(g=this.Hk,g.fa&&g.fa.Z(f,a));
f=this.wi;this.wi=null;Th(f,b,a,this.qa||0,d,c)};var Bk=function(a){a.a.Ch&&!a.Ji?cast.__platform__.cryptokeys.getKeyByName("CKP").then(function(b){a.Ji=b;Ak(a)}):Ak(a)},Ak=function(a){a.Ge=null;a.w.url=a.Rb;a.w.skipRequest=!1;if(a.a.updateLicenseRequestInfo&&(a.a.updateLicenseRequestInfo(a.w),a.w.skipRequest))return;a.g.ge=a.w.withCredentials;a.g.dc=Math.max(0,a.w.timeoutInterval);a.g.send(a.w.url,void 0,void 0,a.w.headers)};h=Y.prototype;
h.processSegment=function(a,b,c){this.wi=c;this.Qe={data:b,info:a};(c=a.Hj)?this.Rb!=c||null===this.Ge?(this.Rb=c,Bk(this)):this.Ma=setTimeout(this.gj,0):this.We(a,b)};
h.updateSegmentRequestInfo=function(a){var b=uk(this.fb);if(b){var c;if(this.Qd)this.Qd=!1,this.Zc=c=b.hb,b=this.Y.P.Th.get(c),c=b.Jb,b=b.url;else{if(1===this.ka||7===this.J)b.Na=this.yc.get(b.hb)||null;a.Ec=b;this.de&&(b.Z=!0,this.de=!1);a.interval=this.getSegmentInterval();c=b.Jb;b=b.url}c&&(a.headers={},a.headers.Range="bytes="+c.start+"-"+c.end);a.url=b}};h.getSegmentInterval=function(){var a=uk(this.fb);return a?{time:a.Ba,duration:a.duration}:{time:0,duration:0}};h.Ea=function(){return this.fb.Ea()};
h.Pb=function(){return this.fb.Pb()};var Ck=function(a){var b=uk(a.fb);if(b.Bi||b.gc&&b.gc.Fe!=a.Fj&&(0===a.J||0===a.ka))a.Me=!0;b.hb!==a.Zc&&(a.Qd=!0)};Y.prototype.wc=function(){var a=this.fb.next();a&&Ck(this);return a};Y.prototype.seek=function(a){a=this.fb.seek(a);x(a)&&Ck(this);return a};Y.prototype.Pe=function(){this.Gd=this.Y.duration;Dk(this,this.Y.P)};var Dk=function(a,b){a.fb.update(b,a.a.mediaElement&&a.a.mediaElement.paused);a.rg&&(ai(a.rg),a.rg=null)};
Y.prototype.Ag=function(a,b,c){this.nk=a;this.rg=b;this.de=!0;this.Y&&this.Y.P&&this.Y.P.O&&this.Y.bb();this.Y=c;c.P?Dk(this,c.P):c.load()};Y.prototype.getQualityLevel=function(){return this.nk};Y.prototype.Z=function(a,b){this.de=!0;this.qa=a;this.uc=b};Y.prototype.zg=function(a){this.Y.P.Th.get(this.Zc).Yi=a;this.yc.set(this.Zc,Q(a,1835296868,void 0,!0).Eb)};
var zk=function(a,b,c){var d=b.Na||a.yc.get(b.hb)||null;!a.yc.get(b.hb)&&d&&a.yc.set(b.hb,d);if(null===d)throw Error("Unable to derive timescale");return new vk(c,d)};
Y.prototype.qe=function(){var a=uk(this.fb),b=a.hb;if(b&&b!==this.Zc){if(a=this.Y.P.Th.get(b).Yi)this.Qd=!1,this.Zc=b,this.yc.get(b)||this.yc.set(b,Q(a,1835296868,void 0,!0).Eb);return a}if(a.Bi)return this.Me=!1,(b=Lf("hls-sample-aes-init-segment"))&&b.clear_leader?Da(window.atob(b.clear_leader)):null;if(!a.gc||!a.Yc)return null;this.Me=!1;this.Fj=a.gc.Fe;b=a.gc;a=a.Yc;var c=this.a.decodeContentId;var d=(d=Lf("hls-sample-aes-init-segment"))?{mk:d.pssh_offset,Ej:d.key_id_offset,Dj:d.iv_offset,Dk:Da(window.atob(d.template))}:
{mk:196,Ej:530,Dj:548,Dk:new Uint8Array(Fj)};var e=d.Dk;e.set(Ej(b,c),d.mk);e.set(Kf(b.Fe),d.Ej);e.set(a,d.Dj);return e};Y.prototype.Jf=function(){var a=uk(this.fb);return a?a.Kk:null};Y.prototype.Pd=function(){var a=this.Me||this.Qd;return a||1!==this.ka&&7!==this.J?a:(a=uk(this.fb))&&a.hb!==this.Zc?this.Qd=!0:this.Me};Y.prototype.getDuration=function(){return this.Gd};var yk=C("cast.player.hls.Adaptation"),Ek=function(a){Y.call(this,a,null,3)};q(Ek,Y);
Ek.prototype.wc=function(){return null===this.qa||null===this.uc?!1:Y.prototype.wc.call(this)};Ek.prototype.seek=function(a){return null===this.qa||null===this.uc?null:Y.prototype.seek.call(this,a)};Ek.prototype.processSegment=function(a,b,c){var d={time:a.Ba,duration:a.duration},e=!1;if(null===this.qa||null===this.uc)b=new Uint8Array(0);else if(this.de||a.Z)d=this.uc,e=!0;Th(c,b,d,this.qa||0,e)};var Fk=function(a,b,c){this.Vk=new J(a);this.J=b;this.ka=c;this.f=0;this.Ee=this.Rg=this.sf=this.Rb=this.Jc=this.$a=null;this.sh=this.Gc=0;this.qh=!1;this.Yd=null;this.tj=this.sj=!1;this.Pj=new Map;this.Sh=this.cg=null;this.m={Aj:!1,O:!0,mg:null,pg:"none",Ah:!1,Fg:0,Hi:0,c:[],Cb:[],Nd:[],te:!1,Th:this.Pj}};
Fk.prototype.parse=function(a){a=m(a.split("\n"));for(var b=a.next();!b.done;b=a.next())if(!Gk(this,b.value))return F(Hk,"failed to parse HLS playlist"),this.m=null;if(this.sj&&this.tj)for(a=0;a<this.m.Cb.length;)b=this.m.Cb[a].codecs,Ik(this.m.Cb[a].mimeType,b)?(F(Hk,"filtered out "+b+" stream"),this.m.Cb.splice(a,1)):a++;Jk(this);if(0<this.m.c.length&&(a=this.m.c[0],!a.gc))for(b=1;b<this.m.c.length;b++)this.m.c[b].gc&&(a.Bi=!0);return this.m};
var Jk=function(a){for(var b=[],c={},d=0;d<a.m.Nd.length;c={ie:c.ie},d++){var e=a.m.Nd[d];"AUDIO"==e.type&&(c.ie=e.groupId,c.ie&&((e=a.m.Cb.find(function(a){return function(b){return b.Hb.includes(a.ie)}}(c)))?(e=e.codecs.split(",").find(function(a){return 0>a.indexOf("avc1.")}))&&(Kk(a.J,e)||b.push(d)):F(Hk,"no matching audio group "+c.ie+" found in video streams")))}c={};for(d=0;d<b.length;c={tf:c.tf},d++)e=b[d]-d,c.tf=a.m.Nd[e].groupId,a.m.Nd.splice(e,1),c.tf&&(a.m.Cb=a.m.Cb.filter(function(a){return function(b){return!b.Hb.includes(a.tf)}}(c)))},
Kk=function(a,b){return!(2===a&&"mp4a.a5"!=b&&"ac-3"!=b||6===a&&!If(b)||2!==a&&("mp4a.a5"==b||"ac-3"==b)||6!==a&&If(b))},Ik=function(a,b){return 0<=a.indexOf("audio")||0>b.indexOf(",")&&(0==b.indexOf("mp4a.")||"ac-3"==b)?!0:!1},Lk=function(a,b){var c=new J(b);c.Wb||(b=a.Vk.resolve(c).toString());return b},Gk=function(a,b){b=b.trim();if(!b)return!0;if("#"!=b[0]){if(3!=a.f&&4!=a.f)Mk(a,"URI"),a=!1;else{b=Lk(a,b);if(3==a.f){a.$a.Cc=a.Yd;null!==a.Yd&&(a.Yd+=1E3*a.$a.duration);if(a.Rb||a.sf||a.Rg){a.$a.Hj=
a.Rb;a.$a.gc=a.sf;a.$a.Kk=a.Rg;var c=a.$a;if(a.Ee){var d=a.Ee;for(var e=new Uint8Array(16),f=15,g=d.length;0<g;g-=2,f--)e[f]=parseInt(1<g?d.substr(g-2,2):d.substr(0,1),16);d=e}else{d=a.$a.yi;e=new Uint8Array(16);for(f=15;0<=f;f--)e[f]=d&255,d>>=8;d=e}c.Yc=d}a.cg&&(a.$a.hb=a.cg);a.$a.url=b;a.m.c.push(a.$a)}else a.Jc.url=b,a.m.Cb.push(a.Jc);a.f=2;a=!0}return a}c="#EXTINF:";if(0==b.indexOf(c))return d=b.indexOf(","),b=b.substr(c.length,(0<=d?d:b.length)-c.length),2!=a.f&&1!=a.f?(Mk(a,"EXTINF"),a=!1):
(b=parseFloat(b),a.$a={yi:a.Gc,url:"",Jb:null,Ba:a.sh,duration:b,Df:a.qh,Cc:a.Yd,Hj:null,gc:null,Kk:null,Na:null,Yc:null,Z:!1,Bi:!1,hb:null},a.m.Hi+=b,a.sh+=b,a.qh=!1,a.Gc+=1,a.f=3,a=!0),a;c="#EXT-X-MAP:";if(0==b.indexOf(c))return Nk(a,b.substr(c.length));c="#EXT-X-KEY:";if(0==b.indexOf(c))return Ok(a,b.substr(c.length));if(0==b.indexOf("#EXT-X-DISCONTINUITY-SEQUENCE"))return 1!=a.f?(Mk(a,"EXT-X-DISCONTINUITY-SEQUENCE"),a=!1):a=!0,a;if(0==b.indexOf("#EXT-X-DISCONTINUITY"))return 2!=a.f&&1!=a.f?(Mk(a,
"EXT-X-DISCONTINUITY"),a=!1):(a.qh=!0,a.f=2,a=!0),a;c="#EXT-X-PROGRAM-DATE-TIME:";if(0==b.indexOf(c))return b=b.substr(c.length),2!=a.f&&3!=a.f&&1!=a.f?(Mk(a,"EXT-X-PROGRAM-DATE-TIME"),a=!1):(c=Date.parse(b),isNaN(c)?(F(Hk,"cannot parse #EXT-X-PROGRAM-DATE-TIME: "+b),a=!1):(a.Yd=c,a=a.m.Ah=!0)),a;c="#EXT-X-BYTERANGE:";if(0==b.indexOf(c))return b=b.substr(c.length),3!=a.f?(Mk(a,"EXT-X-BYTERANGE"),a=!1):(b=Pk(a,b),a.$a.Jb=b,a.Sh=b.end,a=!0),a;if(0==b.indexOf("#EXTM3U"))return 0!=a.f?(Mk(a,"EXTM3U"),
a=!1):(a.f=1,a=!0),a;c="#EXT-X-PLAYLIST-TYPE:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f)Mk(a,"EXT-X-PLAYLIST-TYPE"),a=!1;else{if("EVENT"==b||"VOD"==b)a.m.mg=b;a=!0}return a}if(0==b.indexOf("#EXT-X-ENDLIST"))return 2!=a.f&&1!=a.f?(Mk(a,"EXT-X-ENDLIST"),a=!1):(a.m.O=!1,a=!0),a;c="#EXT-X-STREAM-INF:";if(0==b.indexOf(c)){b=b.substr(c.length);if(1!=a.f&&2!=a.f)Mk(a,"EXT-X-STREAM-INF"),a=!1;else if(g=b.match("BANDWIDTH=([0-9]+)")){c=parseInt(g[1],10);d="video/mp2t";(e=Qk(b,'CODECS="([^"]*)"'))?
Ik(d,e)?(a.sj=!0,f=a.J,7==f||1==f||2==f||6==f?d="audio/mp4":4==f&&(d="audio/mpeg",e="")):(a.tj=!0,e=e.replace("mp4a.40.34","mp4a.6B"),1==a.ka&&(d="video/mp4")):e="avc1.4D401E,mp4a.40.2";f={width:null,height:null};if(g=b.match("RESOLUTION=(\\d+x\\d+)"))g=g[1].split("x"),2===g.length&&(f.width=parseInt(g[0],10),f.height=parseInt(g[1],10));a.Jc={Ei:"variant",mimeType:d,Aa:c,codecs:e,gm:f,ql:Qk(b,"FRAME-RATE=([0-9]+)"),Hb:[Qk(b,'AUDIO="([^"]*)"')],tm:Qk(b,'SUBTITLES="([^"]*)"'),Yk:Qk(b,'CLOSED-CAPTIONS="([^"]*)"'),
url:""};a.m.Aj=!0;a.f=4;a=!0}else F(Hk,"no BANDWIDTH attribute"),a=!1;return a}c="#EXT-X-TARGETDURATION:";if(0==b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Mk(a,"EXT-X-TARGETDURATION"),a=!1):(a.m.Fg=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA-SEQUENCE:";if(0==b.indexOf(c))return b=b.substr(c.length),1!=a.f?(Mk(a,"EXT-X-MEDIA-SEQUENCE"),a=!1):(a.Gc=parseInt(b,10),a=!0),a;c="#EXT-X-MEDIA:";return 0==b.indexOf(c)?Rk(a,b.substr(c.length)):!0},Mk=function(a,b){F(Hk,"unexpected "+b+": state "+a.f)},Rk=
function(a,b){if(2!=a.f&&1!=a.f)return Mk(a,"EXT-X-MEDIA"),!1;var c=null,d=b.match('URI="([^"]*)"');null===d||(c=Lk(a,d[1]));var e=Qk(b,"TYPE=(AUDIO|VIDEO|SUBTITLES|CLOSED-CAPTIONS)"),f=Qk(b,'GROUP-ID="([^"]*)"');switch(e){case "SUBTITLES":var g="webvtt";var k="text/vtt";break;case "CLOSED-CAPTIONS":g="webvtt";k="text/mp2t";break;case "AUDIO":if(!c)return a.m.te=!0;k=0==a.J?"video/mp2t":"audio/mp4";g=Mf(a.J);break;default:return!0}var l=!1;d=b.match('DEFAULT="?(YES|NO)"?');null===d||(l="YES"==d[1]);
if(c||"CLOSED-CAPTIONS"==e)b={Ei:"media",type:e,mimeType:k,codecs:g,url:c,name:Qk(b,'NAME="([^"]*)"'),language:Qk(b,'LANGUAGE="([^"]*)"'),zl:l,groupId:f},a.m.Nd.push(b);return!0},Pk=function(a,b){var c=b.split("@");b=parseInt(c[0],10);if(1<c.length)a=parseInt(c[1],10);else if(null!=a.Sh)a=a.Sh+1;else return F(Hk,"Expected EXT-X-BYTERANGE to either have offset or to come after another EXT-X-BYTERANGE"),null;return{start:a,end:a+b-1}},Nk=function(a,b){if(1!=a.f&&2!=a.f)return Mk(a,"EXT-X-MAP"),!1;var c=
Qk(b,'URI="([^"]*)"');if(!c)return F(Hk,"expected #EXT-X-MAP to have URI: "+b),!1;c=Lk(a,c);b=Qk(b,'BYTERANGE="([^"]*)"');var d=null;if(b&&(d=Pk(a,b),!d))return!1;c={url:c,Jb:d,Yi:null};b=c.Jb;d="url="+c.url+",byterange=";a.cg=b?""+d+b.start+"-"+b.end:d+"all";a.Pj.set(a.cg,c);return!0},Ok=function(a,b){if(2!=a.f&&3!=a.f&&1!=a.f)return Mk(a,"EXT-X-KEY"),!1;var c;if(0<=b.indexOf("METHOD=AES-128")){if(c=b.match('URI="([^"]*)"'))a.Rb=Lk(a,c[1]);a.Ee=Qk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.sf=null;a.m.pg="aes_128";
return!0}if(0<=b.indexOf("METHOD=SAMPLE-AES")){c=b.match('KEYFORMAT="([^"]*)"');if(!c)return F(Hk,"Missing KEYFORMAT for SAMPLE-AES"),!0;var d=c[1];if("com.widevine"!=d&&"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"!=d)return F(Hk,"KEYFORMAT "+d+" is not supported for SAMPLE-AES"),!0;if(1!=Lf("enable-hls-sample-aes"))return F(Hk,"SAMPLE-AES not support by Cast platform"),!1;if(c=b.match('URI="data:.*?,(.*?)"'))if(c=c[1],"com.widevine"==d){a:{try{var e=JSON.parse(window.atob(c))}catch(g){e=!1;break a}var f=
e.key_ids;f&&Array.isArray(f)&&0!=f.length?(a.sf={dm:e.provider,bl:e.content_id,Fe:f[0]},e=!0):(F(Hk,"no Widevine key ID"),e=!1)}if(!e)return!1}else{if(e="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"==d){a:{try{f=window.atob(c)}catch(g){e=!1;break a}a.Rg=Da(f);e=!0}e=!e}if(e)return!1}a.Ee=Qk(b,"IV=0[x|X]([0-9a-fA-F]+)");a.Rb=null;a.m.pg="widevine";return!0}if(0<=b.indexOf("METHOD=NONE"))return a.Rb=null,a.sf=null,a.Rg=null,a.Ee=null,!0;F(Hk,"unsupported KEY");return!1},Qk=function(a,b){return(a=
a.match(b))?a[1]:null},Hk=C("cast.player.hls.Parser");var Sk=function(a,b,c,d,e,f){f=void 0===f?!0:f;D.call(this);this.a=a;this.Se=b;this.Tb=new ni(this);this.ra=null;this.xm=this.Ng.bind(this);this.S=c;this.duration=-1;this.P=null;this.J=d;this.ka=e;this.xi=f;this.De=this.Uf=void 0;this.mh=0};q(Sk,D);h=Sk.prototype;h.H=function(){this.Tb.K();null!==this.ra&&(clearTimeout(this.ra),this.ra=null);D.prototype.H.call(this)};h.load=function(){this.Ng()};
h.bb=function(){this.duration=-1;this.P=null;this.Tb.abort();null!==this.ra&&(clearTimeout(this.ra),this.ra=null)};h.Ng=function(){this.S.url?(G(Tk,"updatetest5: "+this.S.url),this.Tb.Md(this.a,this.S.url)):Fc(Tk,"cannot load stream without url")};
h.jg=function(a){if(a){var b=new Fk(this.S.url,this.J,this.ka),c=this.P;if(this.P=b.parse(a)){this.P.O&&(this.De=!1,"EVENT"==this.P.mg&&(this.Uf=!1));if(c&&c.O){var d=this.P;a=c.c[0];b=c.c[c.c.length-1];var e=d.c[0];d=d.c[d.c.length-1];a.url!==e.url||b.url!==d.url||a.Jb!==e.Jb||b.Jb!==d.Jb||a.Cc!==e.Cc||b.Cc!==d.Cc?(this.mh=0,"EVENT"!=c.mg&&(this.P.c.length==c.c.length?this.Uf=!0:this.P.c.length>c.c.length&&(this.Uf=!1)),this.De=!this.P.O):(this.mh++,3==this.mh&&(this.De=!0))}this.P.O&&!this.De?(c=
1E3*this.P.Fg,this.ra=setTimeout(this.xm,c),G(Tk,"update in: "+c)):this.duration=this.P.Hi;this.Se.Pe(this)}else this.a.R(412)}else this.a.R(312,li(this.Tb))};var Tk=C("cast.player.hls.Playlist");var Uk=function(a,b,c,d,e){D.call(this);this.a=a;this.Tb=new ni(this);this.Ke=b;this.Se=c;this.J=d;this.ka=e;this.Fa=[];this.Va=[];this.cb=[];this.fe=[];this.Nb={};this.te=!1};q(Uk,D);Uk.prototype.H=function(){this.Tb.K();for(var a=m(this.Va),b=a.next();!b.done;b=a.next())b.value.K();this.Va.length=0;this.cb.length=0;a=m(this.Fa);for(b=a.next();!b.done;b=a.next())b.value.K();this.Fa.length=0;this.fe=[];this.Nb={};D.prototype.H.call(this)};Uk.prototype.load=function(){this.Tb.Md(this.a,this.a.url)};
Uk.prototype.jg=function(a){if(a){var b=this.Tb.rd;if(b)if(a=(new Fk(b,this.J,this.ka)).parse(a)){this.te=a.te;if(a.Aj){if(0===a.Cb.length){this.a.R(411);return}b={};for(var c=m(a.Cb),d=c.next();!d.done;d=c.next())if(d=d.value,t(b[d.url]))this.Fa[b[d.url]].S.Hb=this.Fa[b[d.url]].S.Hb.concat(d.Hb);else{var e=new Sk(this.a,this.Se,d,this.J,this.ka);this.Fa.push(e);b[d.url]=this.Fa.length-1}for(b=0;b<this.Fa.length;b++)c=this.Fa[b].S,c.Hb.length&&(this.fe[b]||(this.fe[b]=[]),this.fe[b]=this.fe[b].concat(c.Hb))}else{switch(this.J){case 1:case 7:c=
"mp4a.40.2";d="audio/mp4";break;case 2:c="ac-3";d="audio/mp4";break;case 6:c="mp4a.a6";d="audio/mp4";break;case 4:c="";d="audio/mpeg";break;case 5:c="mp4a.40.2";d="video/mp2t";break;default:c="avc1.4D401E,mp4a.40.2",d="video/mp2t"}1==this.ka&&(d="video/mp4");b=new Sk(this.a,this.Se,{Ei:"variant",mimeType:d,Aa:0,codecs:c,gm:{width:null,height:null},ql:null,Hb:[],tm:null,Yk:null,url:b},this.J,this.ka);this.Fa.push(b)}a=m(a.Nd);for(b=a.next();!b.done;b=a.next())b=b.value,c=0,"AUDIO"==b.type&&t(this.J)&&
(c=this.J),c=new Sk(this.a,this.Se,b,c),"CLOSED-CAPTIONS"==b.type&&this.a.onCue||this.Va.push(c);Vk(this);this.Ke.onManifestReady()}else this.a.R(411)}else this.a.R(311,li(this.Tb))};
var Wk=function(a){for(var b={},c=0;c<a.Va.length;c++){var d=a.Va[c].S;if("AUDIO"==d.type&&t(d.groupId)){var e=d.groupId,f={};e in b||(b[e]=f);b[d.groupId][d.language+d.name]=c}else a.cb.push(ab(a.Va[c]))}return b},Vk=function(a){var b=Wk(a),c=[];for(e in b)b.hasOwnProperty(e)&&c.push(b[e]);b=Object.keys(b);if(0==c.length)a.cb=a.Va;else{var d=Object.keys(c[0]).length;var e=0;for(var f=1;f<c.length;f++){var g=Object.keys(c[f]).length;g<d&&(d=g,e=f)}0!=e&&F(Xk,"Group has different number of tracks.");
for(var k in c[e])a.Nb[k]=[c[e][k]];for(k=0;k<c.length;k++)if(k!=e){d=c[k];f={};for(var l in d)a.Nb[l]?a.Nb[l].push(d[l]):(f.Wg=b[k],a.Fa.every(function(a){return function(b){return b.S.Hb.includes(a.Wg)}}(f))&&(a.Nb[l]=[d[l]])),f={Wg:f.Wg}}c=[];for(var n in a.Nb)a.Nb[n].sort(),c.push(ab(a.Va[a.Nb[n][0]]));a.cb.unshift.apply(a.cb,ba(c))}},Yk=function(a,b){var c=a.cb[b],d=c.S;if("AUDIO"!=d.type){if(a=a.Va.find(function(a){return a.S==d}))return a}else for(var e=m(a.Nb[d.language+d.name]),f=e.next();!f.done;f=
e.next())if(f=f.value,a.Va[f].xi)return a.Va[f];F(Xk,"No playlist is selectable with "+b+".");return c},Zk=function(a,b){var c=a.fe[b];a.Va.forEach(function(a){"AUDIO"==a.S.type&&(a.S.groupId&&c.includes(a.S.groupId)?a.xi=!0:a.xi=!1)})},Xk=C("cast.player.hls.MasterPlaylist");var $k=function(a,b,c){this.a=a;this.J=b;this.ka=void 0===c?0:c;this.Af=this.Oj=this.Ke=null;this.lh={};this.ja=null;this.wb=new Y(a,this,void 0,this.ka);this.fa=this.da=null;this.Jh=this.Nh=void 0};h=$k.prototype;h.load=function(a){this.Af=this.Oj=this.Ke=a;this.ja=new Uk(this.a,this,this,this.J,this.ka);this.ja.load();B("Cast.MPL.HlsVideoSegmentFormat",this.ka)};h.bb=function(){this.wb.K();this.da&&(this.da.K(),this.da=null);this.fa&&(this.fa.K(),this.fa=null);this.ja&&(this.ja.K(),this.ja=null)};
h.onManifestReady=function(){var a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0);a=!0;for(var b=m(this.ja.Fa),c=b.next();!c.done;c=b.next())if(c=c.value,!Ik(c.S.mimeType,c.S.codecs)){a=!1;break}a&&t(this.J)&&(a=this.wb,a.J=this.J,a.ka=void 0);if(this.a.onManifestReady)this.a.onManifestReady();this.Ke.onManifestReady();this.Ke=null};
h.getDefaultAudioStreamIndex=function(){var a=this.ja.cb,b=-1;if(this.ja.te||!a.length)return b;for(var c=0;c<a.length;c++){var d=a[c].S;if("AUDIO"==d.type)if(d.zl){b=c;break}else"mp4a.a5"==d.codecs&&-1==b?b=c:-1==b&&(b=c)}return b+1};h.getStreamCount=function(){return this.ja.cb.length+1};
h.enableStream=function(a,b,c){if(0<a){a=Yk(this.ja,a-1);var d=a.S.type;"AUDIO"==d?this.da&&this.da.Y==a||(this.da&&(this.da.K(),this.da=null),b&&(b=Mf(this.J),Hf("audio/mp4",b)?(this.da=new Y(this.a,this,t(this.J)?this.J:1),this.da.Y=a,c&&c.oe()):F(Af,"audio codec "+b+" is not supported, will not create separate source buffer for it."))):"SUBTITLES"==d&&(this.fa&&(this.fa.K(),this.fa=null),b&&(this.fa=new Ek(this.a),this.fa.Y=a,this.fa.Z(this.wb.qa,this.wb.uc)))}};
h.isStreamEnabled=function(a){return null!==al(this,a)};var al=function(a,b){0==b?a=a.wb:(b=Yk(a.ja,b-1),a=null===a.da||a.da.Y!=b?null===a.fa||a.fa.Y!=b?null:a.fa:a.da);return a};h=$k.prototype;h.getQualityLevel=function(a){return al(this,a).getQualityLevel()};
h.getStreamInfo=function(a){var b=[],c;if(0==a){b=[];a=this.ja.Fa;for(c=0;c<a.length;c++)b.push(a[c].S.Aa);a=this.ja.Fa[0].S;c=a.codecs;if(this.da)for(var d=a.codecs.split(","),e=0;e<d.length;e++)if(0==d[e].indexOf("avc1.")){c=d[e];break}}else a=this.ja.cb[a-1].S,b.push(0),c=a.codecs;return new tf(c,a.mimeType,b,a.language,a.name,null)};
h.Ag=function(a,b,c,d){var e=al(this,a),f=0==a?this.ja.Fa[b]:Yk(this.ja,a-1);if(0==a){Zk(this.ja,b);if(this.da&&this.da.Y)a:{for(a=0;a<this.ja.cb.length;a++){var g=this.ja.cb[a].S;if("AUDIO"==g.type&&g.language+g.name==this.da.Y.S.language+this.da.Y.S.name){a+=1;break a}}a=-1}else a=this.getDefaultAudioStreamIndex();this.enableStream(a,!0,d);G(Af,"Switched to media "+a+".")}e.Ag(b,c,f)};h.reset=function(a){al(this,a).reset()};h.Ea=function(a){return al(this,a).Ea()};
h.Pe=function(a){t(this.Nh)||(ya("Cast.MPL.Live",a.P.O),this.Nh=a.P.O);t(this.Jh)||(this.Jh="EVENT"==a.P.mg?!0:!1);this.wb.Y==a?this.wb.Pe():null!==this.da&&this.da.Y==a?this.da.Pe():null!==this.fa&&this.fa.Y==a&&this.fa.Pe();var b=a.S.Ei;if(!this.lh[b]||"none"===this.lh[b]){var c=a.P.pg;switch(c){case "widevine":this.Af&&(this.Af.Ne([c]),this.Af=null);break;case "aes_128":this.a.Ch&&(c="aes_128_ckp",a.P.pg=c);Pd(c,2);break;case "none":break;default:F(Af,"Unexpected HLS protection type")}this.lh[b]=
c}this.Oj.ig()};h.updateLicenseRequestInfo=function(){};h.getDuration=function(){return this.wb.getDuration()};h.seek=function(a,b){return al(this,a).seek(b)};h.wc=function(a){return al(this,a).wc()};h.isLiveStream=function(){return this.Nh||!1};h.isEventStream=function(){return this.Jh||!1};h.isLiveSeekableRangeMovingWindow=function(){var a=this.wb.Y;return a?a.Uf:void 0};h.isLiveDone=function(){var a=this.wb.Y;return a?a.De:void 0};h.Pb=function(a){return al(this,a).Pb()};
h.getSegmentInterval=function(a){return al(this,a).getSegmentInterval()};h.Pd=function(a){return al(this,a).Pd()};h.zg=function(a,b){al(this,a).zg(b)};h.qe=function(a){return al(this,a).qe()};h.Jf=function(a){return al(this,a).Jf()};h.updateSegmentRequestInfo=function(a,b){al(this,a).updateSegmentRequestInfo(b)};h.processSegment=function(a,b,c){b.Wc?Th(c,b.data,{time:0,duration:0},0,!0):al(this,a).processSegment(b.Ec,b.data,c)};h.Kf=function(){return 2};$k.prototype.getStreamInfo=$k.prototype.getStreamInfo;
$k.prototype.getQualityLevel=$k.prototype.getQualityLevel;$k.prototype.isStreamEnabled=$k.prototype.isStreamEnabled;$k.prototype.enableStream=$k.prototype.enableStream;$k.prototype.getStreamCount=$k.prototype.getStreamCount;$k.prototype.getDefaultAudioStreamIndex=$k.prototype.getDefaultAudioStreamIndex;var dl=function(a){this.O=new xi("IsLive");this.kj=new wi("DVRWindowLength");this.Kc=new wi("TimeScale");for(this.duration=new wi("Duration");a;){if("SmoothStreamingMedia"==a.nodeName){Ci(a.attributes,this);break}a=a.nextElementSibling}this.streams=[];this.zb=null;if(a)for(this.Kc.value||(this.Kc.value=1E7),a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("StreamIndex"==a.nodeName){var b=new bl(a,this.Kc.value);0<b.ib.length&&this.streams.push(b)}else"Protection"==a.nodeName&&(this.zb=new cl(a.firstElementChild))},
el=function(a,b){V.call(this,a,b)};q(el,V);el.prototype.parse=function(a){switch(a){case "H264":case "AVC1":this.value="avc1.4D40";break;case "AACL":this.value="mp4a.40.2";break;case "EC-3":this.value="mp4a.a6";break;case "AACH":this.value="mp4a.40.5";break;case "DFXP":case "TTML":this.value="ttml";break;default:this.value=null}};var fl=function(){U.call(this,"CodecPrivateData");this.Ue=this.od=null};q(fl,U);
fl.prototype.parse=function(a){U.prototype.parse.call(this,a);a=a.split("00000001");3==a.length&&(this.od=Kf(a[1]),this.Ue=Kf(a[2]))};var gl=function(){U.call(this,"CodecPrivateData");this.value=null};q(gl,U);gl.prototype.parse=function(a){U.prototype.parse.call(this,a);a&&(this.value=Kf(a))};var hl=function(a){this.Aa=new wi("Bitrate");this.format=new el("FourCC",a)},il=function(a){hl.call(this,"ttml");Ci(a.attributes,this)};q(il,hl);
var jl=function(a){hl.call(this,"avc1.4D401E");this.width=new wi("MaxWidth");this.height=new wi("MaxHeight");this.pb=new fl;Ci(a.attributes,this)};q(jl,hl);var kl=function(a){hl.call(this,"mp4a.40.2");this.sampleRate=new wi("SamplingRate");this.Xk=new wi("Channels");this.pb=new gl;Ci(a.attributes,this)};q(kl,hl);
var bl=function(a,b){this.type=new V("Type");this.url=new V("Url");this.name=new V("Name");this.language=new V("Language");Ci(a.attributes,this);this.cc=0;switch(this.type.value){case "video":this.cc=2;break;case "audio":this.cc=1;break;case "text":this.cc=3}this.c=[];this.ib=[];var c=new rg("0");for(a=a.firstElementChild;null!==a;a=a.nextElementSibling)if("QualityLevel"==a.nodeName){var d=a;switch(this.cc){case 2:d=new jl(d);break;case 1:d=new kl(d);break;case 3:d=new il(d);break;default:d=null}d&&
d.format.value&&this.ib.push(d)}else if("c"==a.nodeName){var e=a;d=b;var f=e.attributes.getNamedItem("t");f&&c.reset(f.value);f=null;var g=-1;e.attributes.getNamedItem("d")&&(f=parseInt(e.attributes.d.value,10),g=f/d);e=(e=e.attributes.getNamedItem("r"))?parseInt(e.value,10):1;for(var k=0;k<e;k++)this.c.push({time:parseInt(c.toString(),10)/d,duration:g,Vb:new rg(c.toString()),offset:0,size:0,url:null}),null===f||c.add(f)}c=this.c.length-1;for(a=0;a<c;a++)if(d=this.c[a],f=this.c[a+1],0>d.duration){f=
f.Vb;g=d.Vb;if(f.ca==g.ca)f=0;else{if(!sg(f,g))throw Error("Value must be smaller than the current value");k=e=0;for(var l=1,n=0;n<f.ca.length;n++){var p=parseInt(f.ca.charAt(f.ca.length-1-n),10)-(n<g.ca.length?parseInt(g.ca.charAt(g.ca.length-1-n),10):0)-k;k=0>p?1:0;e+=(k?10+p:p)*l;l*=10}if(k)throw Error("Value must be smaller than the current value");if(e>Number.MAX_SAFE_INTEGER)throw Error("Difference lost precision");f=e}d.duration=f/b}},cl=function(a){this.systemId=new Bi("SystemID");Ci(a.attributes,
this);this.Ye=null;this.systemId.value&&Ef.Lb(this.systemId.value)&&(this.Ye=oi(Da(window.atob(a.textContent.trim()))))};C("cast.player.smooth");var ll=function(a){T.call(this,a);this.Ze=null;this.ab=1E7;this.Ef=null};q(ll,T);h=ll.prototype;
h.Yh=function(a){var b=a.zb;if(b){b=b.Ye;if(null===b){this.Ab("invalid protection info");return}this.Ze=b}a.Kc.value&&(this.ab=a.Kc.value);a.duration.value&&(this.duration=a.duration.value/this.ab);vi(this,1==a.O.value);this.Ci=!!this.O&&this.host.enableSmoothLiveRefresh;this.O&&(this.duration=-1,a.kj.value?(this.Ef=a.kj.value/this.ab,this.Ih=!1,this.Mh=!0):(this.Ef=Infinity,this.Ih=!0,this.Mh=!1));b=Infinity;for(var c=m(a.streams),d=c.next();!d.done;d=c.next())d=d.value,(2==d.cc||1==d.cc)&&d.c[0].time<
b&&(b=d.c[0].time);c=[];a=m(a.streams);for(d=a.next();!d.done;d=a.next()){var e=d.value;if(0==e.ib.length){this.Ab("no quality levels");return}d=e.ib[0].format.value;if(null===d){this.Ab("unknown media format");return}var f=null;if(2==e.cc)a:{f=b;var g=e.ib[0];if(null===g.pb.od)this.Ab("no sps"),f=null;else{g=g.pb.od[3].toString(16);1==g.length&&(g="0"+g);for(var k=ml(2,"video/mp4",d+g.toLowerCase(),e.language.value,e.name.value),l=0;l<e.ib.length;l++){g=e.ib[l];if(null===g.Aa.value||null===g.width.value||
null===g.height.value||null===g.pb.od||null===g.pb.Ue){this.Ab("invalid video quality");f=null;break a}var n=this.Ze,p=this.ab,u=g.width.value,v=g.height.value,z=g.pb.od,va=g.pb.Ue,vb=new wg;(new Vj(n,p,u,v,z,va)).j(vb);k.A.push(nl(e.url.value,g.Aa.value,f,e.c,vg(vb)))}f=k}}else if(1==e.cc)a:{f=b;g=ml(1,"audio/mp4",d,e.language.value,e.name.value);for(k=0;k<e.ib.length;k++){l=e.ib[k];if(null===l.Aa.value||null===l.sampleRate.value){this.Ab("invalid audio quality");f=null;break a}(n=l.pb.value)||(n=
l.Xk.value,n=Ag(2,l.sampleRate.value,null===n?2:n));v=n;if(null===v){this.Ab("invalid audio codec private data");f=null;break a}n=this.Ze;p=this.ab;u=l.sampleRate.value;z="mp4a.a6"==d?166:64;va=new wg;(new Uj(n,p,z,u,v)).j(va);g.A.push(nl(e.url.value,l.Aa.value,f,e.c,vg(va)))}f=g}else if(3==e.cc){f=b;g=ml(3,"text/mp4",d,e.language.value,e.name.value,!1);for(k=0;k<e.ib.length;k++)g.A.push(nl(e.url.value,e.ib[k].Aa.value||0,f,e.c,null));f=g}f&&("mp4a.a6"==d?c.push(f):this.h.push(f))}Array.prototype.push.apply(this.h,
c)};h.pi=function(){this.host.R(331,li(this.bd))};h.Ab=function(a){this.host.R(431,void 0,a,ol)};h.li=function(a){a=(new DOMParser).parseFromString(a,"text/xml");a.firstChild&&(a=new dl(a.firstChild),this.Yh(a))};h.Ki=function(){this.Ze&&this.Dc.Ne(["playready"])};h.updateLicenseRequestInfo=function(a){a.headers={};a.headers["content-type"]="text/xml;charset=utf-8";a.url=this.Ze.url};h.qe=function(a){a=this.h[a];a.Xa=!1;return a.A[a.W].vb.data};
h.reset=function(a){T.prototype.reset.call(this,a);this.h[a].Z=!0};h.updateSegmentRequestInfo=function(a,b){T.prototype.updateSegmentRequestInfo.call(this,a,b);var c=this.h[a];a=c.index;c=c.A[c.W];var d=c.url;d=d.replace(pl,c.Aa.toString());d=d.replace(ql,c.c[a].Vb.toString());b.url=this.uri.resolve(new J(d)).toString().toString()};
h.processSegment=function(a,b,c){var d=this.h[a],e=b.data,f=b.interval;if(b.Wc)Th(c,e,{time:f.time,duration:0},0,!1);else{if(this.O){var g=this.ab;var k=(k=Q(e,1970628964,Fg,!0))?k.zh(g):null;if(null===k||0==k.length)F(ol,"no new segments");else{a=this.h[a];a:if(g=a.A[a.W].c,0!=k.length){var l=k[0].time,n=ti(l,g);if(0>n)if(n=g[g.length-1],Math.abs(n.time+n.duration-l)<.5*n.duration)n=g.length;else{F(ol,"new segments are out of sync with segments list.");break a}if(!(n+k.length<=g.length))for(g.splice(n,
g.length-n),k=m(k),l=k.next();!l.done;l=k.next())g.push(l.value)}rl(a,this.Ef)}this.Dc.ig();if(b.headers&&(b=b.headers.match('ChildTrack="([^"]*)"'))){b=m(b[1].split(/,|;/));for(a=b.next();!a.done;a=b.next())if(a=a.value.match("([^=]*)=([0-9]*)"))for(g=a[1],k=m(this.h),l=k.next();!l.done;l=k.next())if(l=l.value,g==l.name){g=l.A[0].c;a=a[2];k=parseInt(a,10)/this.ab;(0==g.length||g[g.length-1].time<k)&&g.push({time:k,duration:0,Vb:new rg(a),offset:0,size:0,url:null});break}b=m(this.h);for(l=b.next();!l.done;l=
b.next())rl(l.value,this.Ef)}}b=f.time+d.A[d.W].T;if(3==d.type)e=(e=Q(e,1835295092))?O(e):null;else{a=b*this.ab;g=2==d.type;k=Tg(e,void 0,void 0);l=new wg(e.byteLength+1024);n=null;for(e=0;0<k.length;){var p=k.shift();switch(p.getName()){case 1836019558:n=Q(O(p),1970628964,Ig,!0);(new Yj(p,a,g)).j(l);break;case 1835295092:var u=null;n&&(u=n.ui?n.ui:new Uint8Array([]));e=u?u.length:0;(new Aj(u?[u,O(p)]:[O(p)])).j(l);break;default:p.j(l)}}a=vg(l);Rg(a,e);e=a}null===e?this.host.R(332,void 0,"no media data",
ol):(Th(c,e,f,b,d.Z),d.Z=!1)}};h.Kf=function(){return 3};
var ml=function(a,b,c,d,e,f){return{name:e,type:a,enabled:!1,mimeType:b,Z:!0,A:[],language:d,Xa:t(f)?f:!0,codecs:c,index:-1,W:-1}},nl=function(a,b,c,d,e){return{url:a||"",Aa:b,T:c,c:d,D:null,I:null,vb:e?{url:null,za:null,data:e}:null}},rl=function(a,b){var c=a.A[0].c,d=0;if(b&&Infinity!==b)for(var e=0,f=2*c[0].duration,g=c.length-1;0<=g;g--)if(e+c[g].duration<b+f)e+=c[g].duration;else{d=g+1;break}else d=c.length-1E4;0<d&&a.index>=d&&(c.splice(0,d),a.index-=d)},ol=C("cast.player.smooth.Protocol"),
pl=/{bitrate}|{Bitrate}/,ql=/{start time}|{start_time}/;var sl=function(a,b,c){this.bc=a;this.ta=b;this.al=c;this.Zb=this.u=null;this.Jk=!1;this.Eg=new ie;this.ta.kk=this.Zl.bind(this);this.ta.onError=this.Rd.bind(this)};h=sl.prototype;h.load=function(){switch(this.ta.lk){case 1:this.u=new Si(this.ta);break;case 2:this.u=new $k(this.ta,this.ta.xl);break;case 3:this.u=new ll(this.ta);break;default:F(fi,"Unrecognized streaming protocol "+this.ta.lk);return}G(fi,"Pre caching "+this.ta.url);this.u.load(this)};
h.bb=function(){this.u&&(this.u.bb(),this.Eg.clear(),this.Jk=!0);this.Zb&&(this.Zb.K(),this.Zb=null)};h.Zl=function(a,b){var c=this;if(null===a)return null;dd(Xf(this.bc,b,a),function(a){F(fi,a);tl(c)});return this.ta.processManifest?this.ta.processManifest(a):a};h.onManifestReady=function(){for(var a=this.u.getStreamCount(),b=0;b<a;b++)if(this.u.isStreamEnabled(b)){var c=this.u.getStreamInfo(b).mimeType;this.Eg.enqueue(b,Fd(c)?0:Ed(c)?1:2)}ul(this)};h.ig=function(){};
var ul=function(a){if(a.Eg.ya()||a.Jk)tl(a);else if(Td(a.bc.ma))F(fi,"Cache is full. Notifies Content Cache to move to next content."),tl(a);else{var b=a.Eg.Ed();a.u.enableStream(b,!0);a.Zb=new ei(a,a.ta,a.u,b,a);Rh(a.Zb)}};sl.prototype.rc=function(){return this.ta.Fh};var gi=function(a,b){if(0<a.Zb.Da(a.ta.Fh)){var c=a.bc,d=a.ta.url,e=a.u.getQualityLevel(b);c.isEnabled()&&(c.df.mc(d)||c.df.set(d,[]),c.df.get(d)[b]=e)}ul(a)};sl.prototype.Ac=function(){this.Zb.ef()};sl.prototype.Rd=function(){tl(this)};
var tl=function(a){a.u.bb();a.al.Rj()};h=sl.prototype;h.Ne=function(){};h.ci=function(){};h.ei=function(){};h.Xe=function(){};h.oe=function(){};h.$h=function(){};h.gg=function(){};var fi=C("cast.player.cache.ContentLoader");var vl=function(){};vl.prototype.Rj=function(){};A("cast.player.cache.ContentCacheCallbacks",vl);var wl=function(a){Tf.call(this,a);this.lk=a.protocolType||0;this.Fh=a.initialTime||0;this.xl=a.hlsSegmentFormat};q(wl,Tf);A("cast.player.api.ContentCacheHost",wl);var xl=function(){this.bc=Vf.Jd();this.kh=new je;this.jc=this.Cd=null};
xl.prototype.load=function(a){if(!this.bc.isEnabled())return F(yl,"Platform cache is not enabled"),Promise.reject(Error("Platform cache is not enabled"));this.bc.reset();a=m(a);for(var b=a.next();!b.done;b=a.next())b=new sl(this.bc,b.value,this),this.kh.enqueue(b);zl(this);this.jc=bd();return Promise.resolve(this.jc.cm)};xl.prototype.bb=function(){this.Cd&&(this.Cd.bb(),this.Cd=null);this.jc&&(this.jc.reject("Canceled"),this.jc=null)};
var zl=function(a){Td(a.bc.ma)||a.kh.ya()?a.jc&&(a.Cd=null,a.jc.resolve(),a.jc=null):(a.Cd=a.kh.Ed(),a.Cd.load())};xl.prototype.Rj=function(){zl(this)};A("cast.player.api.ContentCache",xl);xl.setCacheHitCallback=function(a){Vf.Jd().ai=a};xl.setCacheInsertCallback=function(a){Vf.Jd().bi=a};xl.prototype.unload=xl.prototype.bb;xl.prototype.load=xl.prototype.load;var yl=C("cast.player.api.ContentCache");var Bl=function(a){this.fj=a;this.bh=this.qa=this.ce=this.mode=this.eg=0;this.uh=new Al(this);this.vh=new Al(this);this.Pc=[];this.reset()},Cl=function(a){return a.ce+a.qa};Bl.prototype.clear=function(){this.bh=this.ce=this.mode=0;this.Pc=[];this.reset()};Bl.prototype.reset=function(){this.mode=0;this.uh.reset(0);this.vh.reset(1)};
var El=function(a,b,c){if(255==a&&255==b||!a&&!b)return{vf:a,wf:b,result:0};a=Dl[a];b=Dl[b];if(a&128){if(!(b&128)&&0!=c.f&&c.ah==b)return{vf:a,wf:b,result:1}}else if(b&128&&1<=a&&31>=a)return{vf:a,wf:b,result:2};return{vf:a,wf:b,result:3}},Gl=function(a,b,c){255==b&&255==c||!b&&!c?(45==++a.bh&&a.reset(),a.uh.$c.clear(),a.vh.$c.clear()):(a.bh=0,Fl(a.uh,b,c))};
Bl.prototype.decode=function(){this.Pc.sort(function(a,b){var c=a.time-b.time;return 0==c?a.order-b.order:c});for(var a=0;a<this.Pc.length;a++){var b=this.Pc[a];this.ce=b.time;0==b.type?Gl(this,b.$i,b.aj):1==b.type&&this.eg&496&&Fl(this.vh,b.$i,b.aj)}this.Pc.length=0};
var Dl=[128,1,2,131,4,133,134,7,8,137,138,11,140,13,14,143,16,145,146,19,148,21,22,151,152,25,26,155,28,157,158,31,32,161,162,35,164,37,38,167,168,41,42,171,44,173,174,47,176,49,50,179,52,181,182,55,56,185,186,59,188,61,62,191,64,193,194,67,196,69,70,199,200,73,74,203,76,205,206,79,208,81,82,211,84,213,214,87,88,217,218,91,220,93,94,223,224,97,98,227,100,229,230,103,104,233,234,107,236,109,110,239,112,241,242,115,244,117,118,247,248,121,122,251,124,253,254,127,0,129,130,3,132,5,6,135,136,9,10,139,
12,141,142,15,144,17,18,147,20,149,150,23,24,153,154,27,156,29,30,159,160,33,34,163,36,165,166,39,40,169,170,43,172,45,46,175,48,177,178,51,180,53,54,183,184,57,58,187,60,189,190,63,192,65,66,195,68,197,198,71,72,201,202,75,204,77,78,207,80,209,210,83,212,85,86,215,216,89,90,219,92,221,222,95,96,225,226,99,228,101,102,231,232,105,106,235,108,237,238,111,240,113,114,243,116,245,246,119,120,249,250,123,252,125,126,255],Hl=function(){this.ec=0};Hl.prototype.set=function(a){this.ec=a};
Hl.prototype.get=function(){return this.ec};var Il=function(){this.ah=this.Vi=this.f=0};Il.prototype.clear=function(){this.f=0};Il.prototype.update=function(){this.f=2==this.f?1:0};Il.prototype.matches=function(a,b){return 0!=this.f&&a==this.Vi&&b==this.ah};var Jl=function(){this.timestamp=this.fc=0;this.Be=!1};Jl.prototype.reset=function(){this.timestamp=this.fc=0;this.Be=!1};
var Kl=function(a){this.ob=[];for(var b=0;15>=b;b++){this.ob[b]=[];for(var c=0;32>=c;c++)this.ob[b][c]=new Jl}this.V=this.sa=this.va=0;this.style=new Hl;this.aa=a;this.Le=0},Ml=function(a){for(var b="",c=Cl(a.aa),d=c,e=1;15>=e;++e){for(var f="",g=!1,k=1;32>=k;++k){var l=a.ob[e][k];if(0!=l.fc){var n=String.fromCharCode(l.fc);" "!=n&&(g=!0);f+=n;var p=l.timestamp;p<c&&(c=p);p>d&&(d=p);3==a.style.ec?(!l.Be&&" "==n&&g&&32>k&&Ll(a.aa.fj,c,c,b?b+"\n"+f:f),l.Be=!0):l.reset()}}f&&(b=b?b+"\n"+f:f)}b&&Ll(a.aa.fj,
c,d,b)};Kl.prototype.reset=function(a){for(var b=0;15>=b;b++)for(var c=0;32>=c;c++)this.ob[b][c].reset();this.Le=a;this.V=0;this.sa=this.va=1};
var Nl=function(a){return a.ob[a.va][a.sa]},Ql=function(a,b,c){2<=b&&1<a.sa&&(--a.sa,Nl(a).fc=0);var d=Nl(a);d.timestamp=Cl(a.aa);a:{switch(b){case 0:b=Ol[(c&127)-32];break a;case 1:b=Pl[c&15];break a}b=0}d.fc=b;32>a.sa&&a.sa++},Rl=function(a,b,c,d){for(var e=0;e<d;e++)for(var f=0;32>=f;f++){var g=a.ob[b+e][f],k=a.ob[c+e][f];g.fc=k.fc;g.timestamp=k.timestamp;g.Be=k.Be}},Sl=function(a,b,c){for(var d=0;d<c;d++)for(var e=0;32>=e;e++)a.ob[b+d][e].reset()},Tl=function(a){a.va=0<a.V?a.V:1;a.sa=1;Sl(a,0,
15)},Ol=[32,33,34,35,36,37,38,39,40,41,225,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,233,93,237,243,250,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,231,247,209,241,9632],Pl=[174,176,189,191,8482,162,163,9834,224,32,232,226,234,238,244,251],Ul=function(a){this.aa=a;this.ih=0;this.style=new Hl;this.Uh=new Kl(a);this.Vh=new Kl(a);this.fa=new Kl(a);
this.rb=this.Uh;this.Od=this.Vh;this.N=this.rb};Ul.prototype.reset=function(a,b){this.ih=b;this.style.set(2);this.rb=this.Uh;this.Od=this.Vh;this.N=this.rb;var c=(a<<2)+(b<<1);this.Uh.reset(c);this.Vh.reset(c);this.fa.reset((a<<2)+(b<<1)+1)};
var Vl=function(a,b){var c=a.rb;switch(a.style.get()){case 4:if(0<c.V)break;case 1:case 2:Ml(c),Tl(a.rb),Tl(a.Od),c.va=15,c.V=b}a.style.set(3);a.N=c;a.N.style=a.style;a.aa.mode=1<<c.Le;c.sa=1;c.V!=b&&(c.V>b?(Ml(c),Sl(c,c.va-c.V,b)):c.va<b&&(b=c.V),c.V=b)},Wl=function(a){a.style.set(1);a.N=a.Od;a.N.V=0;a.N.style=a.style;a.aa.mode=1<<a.N.Le},Xl=function(a){a.style.set(4);a.N=a.fa;a.N.style=a.style;a.aa.mode=1<<a.N.Le},Al=function(a){this.aa=a;this.$c=new Il;this.wh=0;this.xf=new Ul(a);this.Wi=new Ul(a);
this.oh=this.xf};Al.prototype.reset=function(a){this.wh=a;this.$c.clear();this.oh=this.xf;this.xf.reset(a,0);this.Wi.reset(a,1)};
var Fl=function(a,b,c){a.$c.update();b=El(b,c,a.$c);switch(b.result){case 0:return;case 1:case 2:return}var d=b.vf;c=b.wf;if(32<=d||!d)a.aa.mode&a.aa.eg&&(b=d,b&128&&(b=127),c&128&&(c=127),a=a.oh.N,b&96&&Ql(a,0,b),c&96&&Ql(a,0,c));else if(d&16)a:if(!a.$c.matches(d,c)&&(b=a.$c,b.Vi=d,b.ah=c,b.f=2,b=d&8?a.Wi:a.xf,a.oh=b,a.aa.mode=1<<(a.wh<<2)+(b.ih<<1)+(4==b.style.ec?1:0),(a.aa.mode|1<<(a.wh<<2)+(b.ih<<1)+(4!=b.style.ec?1:0))&a.aa.eg))if(c&64){a=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(d&7)<<1|c>>
5&1];c=c&16?4*((c&14)>>1):0;d=b.N;switch(b.style.get()){case 4:a=d.va;break;case 3:if(a!=d.va){if(a<d.V&&(a=d.V,a==d.va))break;var e=1+d.va-d.V,f=1+a-d.V;Rl(d,f,e,d.V);b=e;var g=d.V;f<e?(e=f+g-e,0<e&&(b+=e,g-=e)):(e=e+g-f,0<e&&(g-=e));Sl(d,b,g)}}d.va=a;d.sa=c+1}else switch(d&7){case 1:switch(c&112){case 32:Ql(b.N,0,32);break a;case 48:57==c?(b=b.N,Nl(b).fc=0,32>b.sa&&b.sa++):Ql(b.N,1,c&15)}break;case 2:c&32&&Ql(b.N,2,c&31);break;case 3:c&32&&Ql(b.N,3,c&31);break;case 4:case 5:if(32<=c&&47>=c)switch(c){case 32:Wl(b);
break;case 33:b=b.N;1<b.sa&&(--b.sa,Nl(b).fc=0);break;case 36:b=b.N;a=Nl(b);for(c=0;15>=c;c++)for(d=0;32>=d;d++)if(b.ob[c][d]==a){for(;32>=d;d++)b.ob[c][d].reset();break}break;case 37:Vl(b,2);break;case 38:Vl(b,3);break;case 39:Vl(b,4);break;case 40:Ql(b.N,0,32);break;case 41:b.style.set(2);b.N=b.rb;b.N.V=0;b.N.style=b.style;b.aa.mode=1<<b.N.Le;break;case 42:a=b.fa;a.V=15;a.style.set(4);Tl(a);Xl(b);break;case 43:Xl(b);break;case 44:a=b.rb;switch(b.style.get()){case 1:case 2:case 3:Ml(a)}Sl(a,0,15);
break;case 45:b:{a=b.N;switch(b.style.get()){default:case 2:case 1:break b;case 4:if(15>a.va){++a.va;a.sa=1;break b}case 3:}2>a.V&&(a.V=2,a.va<a.V&&(a.va=a.V));b=a.va-a.V+1;Ml(a);Rl(a,b,b+1,a.V-1);Sl(a,a.va,1)}break;case 46:Sl(b.Od,0,15);break;case 47:Ml(b.rb),a=b.Od,b.Od=b.rb,b.rb=a,Wl(b)}break;case 7:switch(c){case 33:case 34:case 35:b=b.N,32<(b.sa+=c&3)&&(b.sa=32)}}};var Yl=function(a){this.gh=a;this.$b=0;this.lb=new Uint8Array(5120)};Yl.prototype.clear=function(){this.$b=0};Yl.prototype.append=function(a){this.lb.set(a,this.$b);this.$b+=a.length};
var Zl=function(a,b){for(var c,d=c=0,e=0;d<a.$b;)2==c&&3==a.lb[d]?c=0:(0==a.lb[d]?c++:c=0,a.lb[e]=a.lb[d],e++),d++;c=d-e;for(d=0;d+c<a.$b;){for(var f=0;255==a.lb[d];)f+=255,d++;f+=a.lb[d++];if(45<f)break;for(e=0;255==a.lb[d];)e+=255,d++;e+=a.lb[d++];if(4==f){f=a.gh.aa;var g=b,k=new ag(a.lb.subarray(d,d+e));if(181==bg(k)&&49==cg(k)&&1195456820==L(k)&&3==bg(k)){var l=bg(k);if(0!=(l&64)){l&=31;M(k,1);for(var n=0;n<l;n++){var p=bg(k),u=(p&4)>>2,v=bg(k),z=bg(k);u&&f.Pc.push({time:g,type:p&3,$i:v,aj:z,
order:f.Pc.length})}}}}d+=e}a.$b=0};var $l=function(a){this.ac=new Yl(a);this.Gd=0;this.Eb=9E4;this.oc=null;this.yb=[]};h=$l.prototype;h.na=function(a){a?this.yb=Tg(a,[1835296868,1953654136,1953658222,1835295092],!0):(this.yb=[],this.Gd=0)};h.wk=function(a){this.Gd=a};h.xk=function(a){this.Eb=a};h.ya=function(){return!this.yb.length};h.Kh=function(){return!this.yb.length};
h.parse=function(){if(this.yb.length){for(var a,b,c,d=0,e=0;e<this.yb.length;e++){var f=this.yb[e];switch(f.getName()){case 1835296868:this.Eb=f.Eb;break;case 1953654136:this.oc=f.oc;break;case 1953658222:a=f.ug;b=f.uk;c=f.si;break;case 1835295092:var g=b,k=c;if(a&&g&&g.length&&k){f=new ag(O(f));if(this.oc&&this.Eb)var l=this.oc/this.Eb;else if(this.yb.length){l=0;for(var n=m(this.yb),p=n.next();!p.done;p=n.next())p=p.value,1953658222==p.getName()&&(l+=p.ug);l=l?this.Gd/l:0}else l=0;n=0;for(p=g[0];f.offset<
f.buffer.length;){var u=L(f);6==(bg(f)&31)?(this.ac.append(fg(f,u-1)),Zl(this.ac,0==k.length?d:d+k[n]/this.Eb)):M(f,u-1);p-=u+4;0==p&&(d+=l,n++,p=g[n])}}}}this.yb=[]}};var am=function(a){dj.call(this);this.ac=new Yl(a)};q(am,dj);am.prototype.na=function(a){dj.prototype.na.call(this,a);this.ac.clear()};am.prototype.wk=function(){};am.prototype.xk=function(){};
am.prototype.gk=function(a,b){for(var c=0;;){a:{var d=a;var e=b;for(e-=3;d<=e;){if(0==this.o[d]&&0==this.o[d+1]){if(0==this.o[d+2]&&1==this.o[d+3]){d+=4;break a}if(1==this.o[d+2]){d+=3;break a}}d++}d=-1}e=0<=d;if(0<this.ac.$b||6==c){c=e?d-1:b;var f=this.ac;f.$b+(c-a+1)<=f.lb.length||Zl(this.ac,this.jd);this.ac.append(this.o.subarray(a,c+1))}if(!e)break;Zl(this.ac,this.jd);a=d;c=this.o[a++]&31}};var bm=function(a,b){gh.call(this,a,b,"webvtt");this.oa=C("cast.player.cea608.InbandCaptionsManager");this.aa=new Bl(this);this.aa.eg=1;this.Ha=null;this.qa=0;this.Hd=null;this.Ad=[];this.kg=this.gi.bind(this);this.Ma=null;this.Ud=new je};q(bm,gh);bm.prototype.H=function(){this.reset();gh.prototype.H.call(this)};
bm.prototype.gi=function(){if(this.Ha.ya()){var a=this.Ud.Ed();this.qa!=a.T&&(this.aa.clear(),this.Hd=null);this.qa=a.T;this.aa.qa=a.fl;this.Ha.na(a.data);this.Ha.wk(a.duration);a.Na&&this.Ha.xk(a.Na)}this.Ha.parse();if(this.Ha.Kh()){this.aa.decode();if(0<this.Ad.length){for(ih(this);0<this.Ad.length;)a=this.Ad.pop(),x(a.start)&&!isNaN(a.start)&&x(a.end)&&!isNaN(a.end)&&(a=new VTTCue(a.start,a.end,a.text),a.position=20,a.align="start",this.addCue({Gg:a}));this.Ad.length=0}this.Ha.na(null)}this.Ud.ya()&&
this.Ha.ya()?this.Ma=null:this.Ma=setTimeout(this.kg,20)};var Ll=function(a,b,c,d){null!==a.Hd&&b<a.Hd&&(b=a.Hd);.1>c-b&&(c=b+.1);a.Hd=c;a.Ad.push({start:b,end:c,text:d})};
bm.prototype.Xe=function(a,b,c,d,e,f){if(Fd(a)){if(!this.Ha)switch(a){case "video/mp2t":this.Ha=new am(this);break;case "video/mp4":this.Ha=new $l(this);break;default:return}1<this.Ud.Mb()?F(this.oa,"Dropped segment"):(this.Ud.enqueue({data:b,duration:e,T:c,fl:"video/mp4"==a?d:c,Na:f}),G(this.oa,"Pending "+this.Ud.Mb()),null===this.Ma&&(this.Ma=setTimeout(this.kg,20)))}};
bm.prototype.reset=function(){gh.prototype.reset.call(this);this.qa=0;this.Hd=null;this.Ad.length=0;this.Ha&&this.Ha.na(null);this.aa.clear();this.Ud.clear();null!==this.Ma&&(clearTimeout(this.Ma),this.Ma=null)};var cm=function(a,b,c,d){D.call(this);this.a=a;this.u=b;this.Dl=d;this.ub=c;this.s=this.Gj=null;this.Qb="none";this.Kg=this.Jg=this.xc=null;this.Og=!1;this.g=new H;sd(this.g);E(this.g,"success",this.ed,!1,this);E(this.g,"error",this.Ub,!1,this)};q(cm,D);cm.prototype.H=function(){this.s&&(this.xc&&wc(this.xc,"message",this.Wj,!1,this),this.s=null);this.xc&&(this.xc.close(),this.xc=null);this.g.K();D.prototype.H.call(this)};
cm.prototype.createSession=function(a){G(dm,"create session");this.Kg=y();var b=this.a.licenseCustomData;if(b){var c=new wg(this.ub.length+b.length+34);N(c,this.ub);(new Cj(b)).j(c);b=vg(c)}else b=this.ub;this.s=this.a.mediaElement;this.Qb=a;this.xc=a=this.s.mediaKeys.createSession();E(this.xc,"message",this.Wj,!1,this);a.generateRequest("cenc",b.buffer).catch(this.Uj.bind(this))};
cm.prototype.ed=function(a){G(dm,"xhr success");var b=this.Jg;null!==b&&(b=y()-b,B("Cast.MPL.LicenseReq.ServerLatency",b));this.Jg=null;this.rj(Dd(a.target))};cm.prototype.rj=function(a){var b=this;if(a){a=new Uint8Array(a);if(this.a.processLicense&&(a=this.a.processLicense(a),Ea(a))){a.then(function(a){em(b,a)});return}em(this,a)}else this.a.R(201,void 0)};
var em=function(a,b){a.Og=!0;a.xc.update(b.buffer).then(function(){a.Og=!1;var b=a.Dl;G(fm,"key session ended: "+b.nd);8<b.La.length?b.La.shift().K():b.nd++;b.nd<b.La.length&&b.La[b.nd].createSession(b.Qb)},function(b){a.Og=!1;a.Uj(b)})};h=cm.prototype;h.Ub=function(){G(dm,"xhr error");var a=new sf(String(this.g.Je),this.g.Sb,Bd(this.g),this.g.getAllResponseHeaders(),Dd(this.g));this.a.R(201,a)};
h.Wj=function(a){G(dm,"message");this.Gj=new Uint8Array(a.Sc.message);this.a.prepareLicenseRequest&&!this.a.prepareLicenseRequest()||this.Ic()};h.Uj=function(a){G(dm,"keyerror "+a);this.a.R(202)};
h.Ic=function(){var a=new rf;a.timeoutInterval=18E4;a.protectionSystem=this.Qb;a.content=this.Gj;a.setResponse=this.rj.bind(this);this.u.updateLicenseRequestInfo(a);this.a.licenseUrl&&(a.url=this.a.licenseUrl);if(!a.url&&this.ub&&"playready"==this.Qb){var b=new Ng(this.ub);if(b=oi(b.getData()))a.url=b.url}if(this.a.updateLicenseRequestInfo&&(this.a.updateLicenseRequestInfo(a),a.skipRequest))return;this.g.ge=a.withCredentials;this.g.dc=Math.max(0,a.timeoutInterval);this.g.send(a.url,"POST",a.content,
a.headers);a=this.Kg;null!==a&&(a=y()-a,B("Cast.MPL.LicenseReq.GenLatency",a));this.Kg=null;this.Jg=y()};h.ze=function(){return null!==this.Kg||null!==this.Jg||this.Og};var dm=C("cast.player.core.MediaKeySession");var hm=function(a,b,c,d,e){D.call(this);this.a=a;this.u=b;this.La=[];this.nd=0;this.Qb=null;E(this.a.mediaElement,"encrypted",this.Sj,!1,this);c&&0<c.length&&(a.protectionSystem&&(c.includes(a.protectionSystem)?c.splice(0,0,c.splice(c.indexOf(a.protectionSystem),1)[0]):F(fm,"Preferred protection system not found")),gm(this,{Qh:c,bg:0,Rk:d,ym:e}))};q(hm,D);
hm.prototype.H=function(){wc(this.a.mediaElement,"encrypted",this.Sj,!1,this);for(var a=m(this.La),b=a.next();!b.done;b=a.next())b.value.K();this.La.length=0;D.prototype.H.call(this)};
var gm=function(a,b){im(a,b).catch(function(c){b.bg++;b.bg<b.Qh.length?gm(a,b):(Fc(fm,c.toString()),F(fm,"unsupported protection system"),a.a.R(202))})},im=function(a,b){var c=b.Qh[b.bg];b=jm(b);return navigator.requestMediaKeySystemAccess(zf[c],[b]).then(function(a){return a.createMediaKeys()}).then(function(b){return a.a.mediaElement.setMediaKeys(b)}).then(function(){a.Qb=c;Pd(a.Qb,a.u.Kf());0<a.La.length&&a.La[0].createSession(c);return Promise.resolve()})};
hm.prototype.Sj=function(a){a=a.Sc;G(fm,"onencrypted: "+this.nd);(a=a.initData)?this.createSession(new Uint8Array(a)):G(fm,"invalid init data")};var km=function(a,b){return a.La.some(function(a){a:if(b.length!=a.ub.length)a=!1;else{for(var c=b.length,e=0;e<c;e++)if(b[e]!=a.ub[e]){a=!1;break a}a=!0}return a})};hm.prototype.createSession=function(a){km(this,a)||(a=new cm(this.a,this.u,a,this),this.Qb&&this.nd==this.La.length&&a.createSession(this.Qb),this.La.push(a))};hm.prototype.Ic=function(){this.La[this.nd].Ic()};
hm.prototype.ze=function(){return this.La.some(function(a){return a.ze()})};var jm=function(a){var b=a.Qh[a.bg],c={initDataTypes:["cenc"]},d=a.Rk||"";a=a.ym||"";d=d.replace("video/mp2t","audio/mp4");a=a.replace("video/mp2t","video/mp4");d&&(c.audioCapabilities=[{contentType:d,robustness:lm[b]||""}]);a&&(c.videoCapabilities=[{contentType:a,robustness:mm[b]||""}]);return c},nm={},lm=(nm.widevine="HW_SECURE_CRYPTO",nm),om={},mm=(om.widevine="HW_SECURE_ALL",om),fm=C("cast.player.core.MediaKeysManager");var pm=function(a,b,c){D.call(this);var d=this;this.a=a;this.u=b;this.ua=c;this.ga=[];this.yd=[];this.Ua=null;this.ea=new MediaSource;this.zj=this.Cj=this.Vf=!1;this.Rh=this.rf=this.je=null;this.Tf=[];this.cj=function(a){d.Ua?d.Ua.createSession(a):d.Tf.push(a)};E(this.ea,"sourceopen",this.dk,!1,this);this.a.mediaElement&&E(this.a.mediaElement,"durationchange",this.Lg,!1,this)};q(pm,D);
pm.prototype.H=function(){this.u.bb();qm(this);this.rf=this.je=null;this.Tf.length=0;this.Ua&&(this.Ua.K(),this.Ua=null);wc(this.ea,"sourceopen",this.dk,!1,this);this.a.mediaElement&&wc(this.a.mediaElement,"durationchange",this.Lg,!1,this);D.prototype.H.call(this)};pm.prototype.dk=function(){G(rm,"sourceopen");if(this.zj){this.update();sm(this);for(var a=m(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.createBuffer()}};
var tm=function(a){if(!a.Ua&&a.Rh&&a.Cj&&(a.je||a.rf)){a.Ua=new hm(a.a,a.u,a.Rh,a.je,a.rf);for(var b=m(a.Tf),c=b.next();!c.done;c=b.next())a.Ua.createSession(c.value);a.Tf.length=0}};pm.prototype.Lg=function(){if(t(this.ea.setLiveSeekableRange)&&"open"==this.ea.readyState&&Infinity==this.ea.duration){var a=this.Ea();a&&this.ea.setLiveSeekableRange(a.start,a.end)}};var um=function(a){return a.split(",").find(function(a){return!Gd(a)})},vm=function(a){return a.split(",").find(function(a){return Gd(a)})};
h=pm.prototype;h.Ea=function(){for(var a=-Infinity,b=Infinity,c=this.u.getStreamCount(),d=0;d<c;d++)if(this.u.isStreamEnabled(d)){var e=this.u.Ea(d);if(!e)return null;e.start>a&&(a=e.start);e.end<b&&(b=e.end)}a>b&&(a=b);return{start:a,end:b}};h.onManifestReady=function(){this.zj=!0;this.update();this.Lg()};h.ig=function(){this.Lg()};h.Ne=function(a){this.Rh=a;tm(this)};h.endOfStream=function(){"open"==this.ea.readyState&&this.ea.endOfStream()};h.load=function(){qm(this);this.open()};
h.open=function(){this.Vf||(this.u.load(this),this.Vf=!0);this.a.mediaElement.src?(pc(this.a.mediaElement,"emptied",function(){wm(this)},!1,this),this.a.mediaElement.src=""):wm(this)};var wm=function(a){G(rm,"open");!a.Ua&&a.a.mediaElement.setMediaKeys?a.a.mediaElement.setMediaKeys(null).catch(function(a){Fc(rm,a.toString())}).then(function(){xm(a)}):xm(a)},xm=function(a){a.a.mediaElement.src=window.URL.createObjectURL(a.ea);a.Cj=!0;tm(a)};
pm.prototype.preload=function(){this.Vf?F(rm,"protocol already loaded"):(this.u.load(this),this.Vf=!0)};var qm=function(a){for(var b=m(a.ga),c=b.next();!c.done;c=b.next())(c=c.value)&&c.K();a.ga.length=0;a.yd=[]},sm=function(a){if("open"==a.ea.readyState){var b=a.u.getDuration();0<b&&!a.ea.duration&&(a.ea.duration=parseFloat((b-1E-4).toFixed(4)))}};h=pm.prototype;h.reset=function(){for(var a=m(this.ga),b=a.next();!b.done;b=a.next())(b=b.value)&&b.reset()};
h.update=function(){for(var a=this.u.getStreamCount(),b=null,c=null,d=0;d<a;d++)if(this.u.isStreamEnabled(d)){var e=this.u.getStreamInfo(d),f=e.mimeType;e=e.codecs;Ed(f)||Gd(e)?b?F(rm,"more than one audio stream enabled"):(b=vm(e),b=f+';codecs="'+b+'"'):Fd(f)&&(c?F(rm,"more than one video stream enabled"):(c=um(e),c=f+';codecs="'+c+'"'));if(!this.ga[d]){try{this.ga[d]=new S(this.ua,this.a,this.u,d,this.ea,this.cj,void 0,this.yd)}catch(g){F(rm,g.message);22==g.code&&this.ua.gg();return}this.u.enableStream(d,
!0);Rh(this.ga[d])}}else this.ga[d]&&(Oh(this.ga[d]),this.ga[d]=null);b||c?this.je||this.rf||(this.je=b,this.rf=c,tm(this)):F(rm,"no enabled audio or video stream")};
h.oe=function(){for(var a=this.u.getStreamCount(),b=0;b<a;b++)if(this.u.isStreamEnabled(b)){var c=this.u.getStreamInfo(b),d=c.codecs;if(Ed(c.mimeType)||Gd(d)){this.ga[b]&&(Oh(this.ga[b]),this.ga[b]=null);try{this.ga[b]=new S(this.ua,this.a,this.u,b,this.ea,this.cj,void 0,this.yd)}catch(e){F(rm,e.message);22==e.code&&this.ua.gg();break}this.u.enableStream(b,!0);Rh(this.ga[b])}}};h.Oh=function(a){return this.ga[a].Oh()};h.ef=function(a){this.ga[a].ef()};h.Ae=function(a){return this.ga[a].Ae()};
h.Da=function(a,b){return this.ga[a].Da(b)};h.Ic=function(){this.Ua.Ic()};h.ze=function(){return null!==this.Ua&&this.Ua.ze()};h.getStreamCount=function(){return this.ga.length};var rm=C("cast.player.core.MediaSourceManager");var ym=function(a,b,c,d){gh.call(this,a,b,c);a=new rf;a.url=d;b.updateCaptionsRequestInfo&&b.updateCaptionsRequestInfo(a);this.Ek=new ji(this);this.Ek.load(a)};q(ym,gh);ym.prototype.H=function(){this.Ek.K();gh.prototype.H.call(this)};ym.prototype.reset=function(){};ym.prototype.jg=function(a){a&&this.parse(a,0)};var Z=function(a){G(zm,"Version: 1.0.0.66");xa()&&cast.__platform__.metrics.setMplVersion("1.0.0.66");this.a=a;this.u=null;this.Ob=0;this.Db=null;this.Ui=this.Sa=this.Lh=this.eb=!1;this.$f=!0;this.Zf=!1;this.lc=this.U=this.s=null;this.xe=!1;this.kf=null;this.kg=this.gi.bind(this);this.Ig=this.Hg=this.jf=null;this.Dg=this.Wf=!1},Bm=function(a,b){Am(a);a.kf=setTimeout(a.kg,b||0)};h=Z.prototype;h.Ac=function(a){Bm(this,a)};h.Xe=function(a,b,c,d,e,f){this.Lh&&this.lc.Xe(a,b,c,d,e,f);Bm(this)};
h.ei=function(a){this.eb&&(Infinity==this.Ob||this.Ob<a)&&(this.Ob=a)};h.ci=function(){sm(this.U)};h.rc=function(){return this.eb?this.Ob:this.s.currentTime};h.oe=function(){this.U.oe()};h.$h=function(){this.U.update()};h.gg=function(){this.reload()};var Am=function(a){null!==a.kf&&(clearTimeout(a.kf),a.kf=null)};h=Z.prototype;h.ck=function(){G(zm,"seeking");this.xe?this.xe=!1:(this.Zf=this.eb=!1,this.jf=null,this.lc&&this.lc.reset(),this.U.reset())};h.bk=function(){G(zm,"seeked");this.Db=y()};
h.Rd=function(){Fc(zm,"error");this.a.R(Id(this.s.error))};h.Yj=function(){this.jf=y();za("Cast.MPL.Playing");if(this.Hg){var a=y()-this.Hg;B("Cast.MPL.AutoPauseTime",a);this.Hg=null}};h.Xj=function(){var a=y();this.Sa&&!this.eb&&null!==this.jf&&(this.Hg=a,B("Cast.MPL.PlayTimeBeforeAutoPause",a-this.jf));za("Cast.MPL.Pause");this.Db=this.jf=null};h.Tj=function(){za("Cast.MPL.Ended");this.Db=null};
h.Ng=function(){if(this.eb&&this.s&&!isNaN(this.s.duration)&&0!=this.s.buffered.length&&(this.eb=!1,this.Db=y(),B("Cast.MPL.MediaDuration",this.s.duration),0!=this.Ob&&this.Ob!=this.s.currentTime)){var a=this.Ob;this.xe=!0;this.s.currentTime=a}this.$f=!1;var b=0,c=0,d=!0;a=this.rc();for(var e=this.U.getStreamCount(),f=0;f<e;f++)if(this.u.isStreamEnabled(f)&&(c++,this.U.Ae(f))){b++;var g=this.U.Da(f,a);if(this.Sa&&d){var k=this.u.getSegmentInterval(f).duration*this.a.autoResumeNumberOfSegments;if(0==
k||k>this.a.autoResumeDuration)k=this.a.autoResumeDuration;g<k&&(d=!1)}k=f;20<=g?G(zm,"not requesting more segments, buffered duration "+g+" seconds exceeds max duration."):(g<this.a.autoPauseDuration&&(g=this.u.getStreamInfo(k),Bf(g.role,g.mimeType,g.codecs)||(this.$f=!0)),this.U.Oh(k)&&this.U.ef(k))}if(this.s&&0!=c){this.$f?!this.s.paused&&this.s.duration-a>this.a.autoPauseDuration&&(G(zm,"auto pause "+a),this.Sa=!0,this.s.pause(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa)):!this.eb&&this.Sa&&
d&&(this.Sa=!1,this.s.paused&&(G(zm,"auto resume "+a),this.s.play(),this.a.onAutoPause&&this.a.onAutoPause(this.Sa),this.Db=y()));if(0==b){if(!this.Zf&&(G(zm,"endOfStream "+a),this.U.endOfStream(),this.a.onMediaDownloadEnded))this.a.onMediaDownloadEnded();this.Zf=!0}if(!(this.eb||this.Sa||this.s.paused||!this.U||this.U.ze())&&(G(zm,"time="+a),this.Db&&(b=y(),c=2500<b-this.Db,this.a.Ri||c))){a:{d=this.s.currentTime;e=this.s.buffered;for(f=e.length-1;0<=f;f--){g=e.start(f);if(d>=g)break;if(0==f||d>
e.end(f-1)-.15){F(zm,"stall jump to "+g);za("Cast.MPL.PlaybackStallGap");this.xe=this.Dg=!0;this.s.currentTime=g;d=!0;break a}}d=!1}d?this.Db=null:c&&(this.Db=this.a.Ri?b:null,F(zm,"playback stalled in buffered region"),za("Cast.MPL.PlaybackStall"),this.xe=this.Dg=!0,this.s.currentTime=a+.5)}}Bm(this,400)};
h.ek=function(){this.Db=y();this.Dg&&(B("Cast.MPL.StallPrevented",1),this.Dg=!1);if(this.Ig){var a=y()-this.Ig;B(this.Wf?"Cast.MPL.PreloadAutoplayStartupLatency":"Cast.MPL.AutoplayStartupLatency",a);this.Ig=null}};h.gi=function(){this.kf=null;this.Ng()};var Cm=function(a,b,c){a.u=b;a.eb=!0;a.Ob=c||0;a.U=new pm(a.a,a.u,a)};h=Z.prototype;
h.load=function(a,b){G(zm,"load");za("Cast.MPL.Load");var c=nh();t(c)&&qh("Cast.MPL.ExperimentationBlockId",c.blockIds);this.a.jj&&za("Cast.MPL.DisableBufferAdjust");this.s=this.a.mediaElement;E(this.s,"error",this.Rd,!1,this);E(this.s,"seeking",this.ck,!1,this);E(this.s,"seeked",this.bk,!1,this);E(this.s,"pause",this.Xj,!1,this);E(this.s,"playing",this.Yj,!1,this);E(this.s,"timeupdate",this.ek,!1,this);E(this.s,"ended",this.Tj,!1,this);this.s.autoplay&&(this.Ig=y(),this.s.autoplay=!1,this.Ui=!0,
this.ik());this.U?this.U.open():a?(this.Wf=!1,Cm(this,a,b),this.U.load()):Fc(zm,"no protocol")};h.preload=function(a,b){G(zm,"preload");za("Cast.MPL.Preload");Cm(this,a,b);this.U.preload();this.Wf=!0};
h.bb=function(){G(zm,"unload");Dm(this);this.U&&(this.U.K(),this.U=null);Am(this);this.s&&(this.Ui&&(this.s.autoplay=!0),this.Zf=this.Sa=!1,wc(this.s,"error",this.Rd,!1,this),wc(this.s,"seeking",this.ck,!1,this),wc(this.s,"seeked",this.bk,!1,this),wc(this.s,"pause",this.Xj,!1,this),wc(this.s,"playing",this.Yj,!1,this),wc(this.s,"timeupdate",this.ek,!1,this),wc(this.s,"ended",this.Tj,!1,this),this.s=null,this.Wf=!1)};
h.reload=function(){this.eb||(this.Ob=this.s.currentTime);this.eb=!0;this.s.paused||(this.Sa=!0);Am(this);this.U.load()};h.ik=function(){this.Sa=!0};h.getState=function(a){var b=this.U.Ea();t(a)||(a=1);var c={};a&1&&(c.underflow=this.$f||this.Sa);a&2&&(c.seekable=b?{start:b.start,end:b.end}:null);return c};h.Da=function(a){return this.U.Da(a,this.rc())};h.sl=function(){return 20};h.Ic=function(){this.U.Ic()};var Dm=function(a){a.lc&&(a.Lh=!1,a.lc.K(),a.lc=null)};
Z.prototype.nl=function(a,b,c){b?a?"cea608"==b?(this.Lh=!0,this.lc=new bm(this,this.a)):c&&(this.lc=new ym(this,this.a,b,c)):Dm(this):this.U.update()};Z.prototype.tl=function(){return this.u};Z.prototype.rl=function(){return this.a};A("cast.player.api.Player",Z);Z.prototype.getHost=Z.prototype.rl;Z.prototype.getStreamingProtocol=Z.prototype.tl;Z.prototype.enableCaptions=Z.prototype.nl;Z.prototype.startLicenseRequest=Z.prototype.Ic;Z.prototype.getMaxBufferDuration=Z.prototype.sl;
Z.prototype.getBufferDuration=Z.prototype.Da;Z.prototype.getState=Z.prototype.getState;Z.prototype.playWhenHaveEnoughData=Z.prototype.ik;Z.prototype.reload=Z.prototype.reload;Z.prototype.unload=Z.prototype.bb;Z.prototype.preload=Z.prototype.preload;Z.prototype.load=Z.prototype.load;Z.prototype.onAudioChanged=Z.prototype.$h;var zm=C("cast.player.api.Player");Z.State={UNDERFLOW:1,SEEKABLE:2};A("cast.player.api.CreateDashStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",1);return new Si(a)});A("cast.player.api.CreateHlsStreamingProtocol",function(a,b,c){B("Cast.MPL.StreamingProtocolType",2);return new $k(a,b,c)});A("cast.player.api.CreateSmoothStreamingProtocol",function(a){B("Cast.MPL.StreamingProtocolType",3);return new ll(a)}); }).call(window);